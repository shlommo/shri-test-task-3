{"version":3,"sources":["webpack:///webpack/bootstrap ee6e6c9fa36a66e2e553","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/main.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/application.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/data/data.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/view.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/index.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/meeting-rooms-view.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/abstract-view.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/calendar.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/tools/hide-on-click-outside.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/tools/helpers.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/render-calendar-widget.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/router.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/~/navigo/lib/navigo.min.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/~/webpack/buildin/module.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/activate-room-name.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/render-events.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/render-time-slot-info.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/showPopup.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/index.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/event-new-view.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/api-service/index.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/~/whatwg-fetch/fetch.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/api-service/queries/index.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/api-service/queries/query.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/api-service/queries/mutation.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/api-service/grapnhql-request.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/~/flatpickr/dist/flatpickr.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/~/flatpickr/dist/l10n/ru.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/event-form-header.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/event-form-footer.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/field.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/get-recomendation.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/get-recomendation-tag.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/field-autocomplete.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/get-user.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/get-user-tag.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/event-edit-view.js","webpack:///./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/tools/create-svg-sprite.js"],"names":["getAll","then","data","meetingRoomsData","Application","MEETING_ROOMS","eventInputData","EVENT_CREATE","EVENT_EDIT","TYPES","ERROR","monthNames","RENDERS","type","inputData","renderView","globalTimeout","MeetingRoomsView","rooms","users","date","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","dayMin","dayMax","MINUTE","HOUR","dayTotal","initialAppDate","initialAppDay","dateValue","IS_INPUT_DATE_EQUAL_INITIAL_APP_DATE","IS_PAST","events","cellMarkup","time","cell","dataTime","inputMarkup","cellList","diagramCellMarkup","isNow","isCurrentTime","now","currentTime","diagramTimeMarkup","diagramDayMarkup","inputDate","freeTimeSlotArr","document","querySelectorAll","startTime","endTime","duration","width","left","startDate","Array","from","freeTimeSlot","getAttribute","Math","floor","getComputedStyle","slice","parentNode","removeChild","minuteStep","setAttribute","style","cssText","timeSlotArr","timeSlot","dayStart","timeNowEl","element","querySelector","dayEl","timelineCellArr","dayElWidth","setHours","currentMinute","classList","add","innerHTML","opacity","timelineCell","timelineCellValue","isNewDate","updateTime","changeFreeTime","renderClockLine","window","clearTimeout","setTimeout","clock","_diagramSidebarMarkup","_diagramRowBodyMarkup","_rowClass","rowClass","diagramSidebarMarkup","diagramRowBodyMarkup","name","capacity","roomList","diagramDayTemp","room","roomMarkup","getRoomMarkup","title","id","diagramRowMarkup","floors","indexOf","push","sort","a","b","floorList","getRoomList","header","diagram","diagramTimelineTimeMarkup","getCellList","getFloorListMarkup","eventNewTrigger","addEventListener","e","preventDefault","eventCreateInputData","roomId","navigate","windowResizeHandler","responsiveTimeSlot","hasOwnProperty","eventData","newEvent","Object","assign","roomName","roomFloor","newData","renderCalendarWidget","render","renderEvents","AbstractView","appElement","getElementById","replaceChild","viewRendered","Error","_element","domElement","createElement","getMarkup","firstChild","bindHandlers","calendarMarkup","openCalendar","calendarTrigger","calendar","body","classToAdd","classToBody","calendarOverlay","contains","removeAction","remove","selector","callback","outsideClickListener","event","elem","clickCallback","elemChildIsTarget","target","removeClickListener","UserException","getCoords","box","getBoundingClientRect","top","pageYOffset","pageXOffset","getNodeFromMarkup","markupTemplate","div","getDay","addListenerMulti","el","s","fn","split","forEach","removeListenerMulti","removeEventListener","debounce","f","ms","timer","args","onComplete","apply","getDateValue","valueOf","Element","prototype","parents","elements","ishaveselector","parentElement","nodeType","Node","ELEMENT_NODE","matches","parseObjToHash","inputObj","hashPartBuffer","k","encodeURIComponent","length","pop","hashPartString","join","encodeObjFromHash","pairs","object","i","keyValue","checkEventTarget","isTarget","childNodes","children","checkNode","node","hasChildNodes","recuChildren","message","toString","RenderCalendarWidget","calendarWidget","monthNamesShortcuts","map","toLowerCase","d","today","currentMonth","nowDay","nowMonth","daysView","todayClass","setDate","monthView","yearQuarter","transform","calendarTriggerArr","self","calendarTriggerDirection","windowWidth","innerWidth","quarterMaxValue","moveCalendarWidget","dayArr","calendarHeaderTitle","yearValue","monthValue","dayValue","hourValue","minutesValue","calendarChangedDate","inputDateValue","currentYear","dayTitle","monthViewNode","appendChild","activateCalendarSlide","dayHandler","root","useHash","hash","router","activateRouter","on","urlHash","action","encodeData","showEventCreate","showEventEdit","showMeetingRooms","resolve","t","exports","module","Navigo","o","n","loaded","call","m","c","p","isArray","history","pushState","_routes","_useHash","_hash","_paused","_destroyed","_lastRouteResolved","_notFoundHandler","_defaultHandler","_usePushState","_onLocationChange","bind","_genericHooks","_historyAPIUpdateMethod","replace","_cLoc","_listen","updatePageLinks","RegExp","r","reduce","decodeURIComponent","PARAMETER_REGEXP","REPLACE_VARIABLE_REGEXP","WILDCARD_REGEXP","REPLACE_WILDCARD","FOLLOWED_BY_SLASH_REGEXP","MATCH_REGEXP_FLAGS","regexp","paramNames","u","h","l","arguments","route","match","params","filter","_","v","g","before","after","R","defineProperty","value","Symbol","iterator","constructor","helpers","clean","getOnlyURL","_getRoot","location","href","handler","hooks","uses","_add","keys","off","notFound","url","query","already","_callLeave","destroy","_listeningInterval","_findLinks","hasListenerAttached","getLinkPath","generate","link","pause","resume","historyAPIUpdateMethod","disableIfAPINotAvailable","lastRouteResolved","encodeURI","as","__NAVIGO_WINDOW_LOCATION_MOCK__","leave","webpackPolyfill","deprecate","paths","diagramBody","diagramBodyCnt","diagramRoomArr","diagramRoom","diagramRoomName","roomNameTag","roomNameTagNode","elCoordsLeft","roomNameTagArr","diagramRowBody","diagramRowBodyLeftCoords","RenderEvents","parent","inputEvents","inputRooms","inputUsers","roomArr","inputDay","inputDayStart","inputDayEnd","roomsWithBusyTime","isFilled","inputEventId","start","end","extraClass","timeSlotType","eventId","timeNode","getEventMarkup","eventDateStart","dateStart","eventDateEnd","dateEnd","eventDateStartValue","eventDateEndValue","eventStartMinuteFromDateStart","round","eventEndMinuteFromDateStart","eventDuration","timeContainer","eventLeft","eventWidth","busyTimeNode","getTimeNode","timeStampMinute","IS_TODAY_EQUAL_TO_THE_INPUT_DAY","minutesFromHourStarted","startMinute","endMinute","roomArrWithFreeTime","roomWithFreeTime","freeTime","freeTimeStart","freeTimeDuration","freeTimeNode","eventNewTriggerArr","eventNewClickHandler","renderPlannedEvent","renderUnplannedEvents","freeTimeSlotHandler","getTimeSlotInfoTemplate","inclineMonths","lastLetterCharCode","charCodeAt","inclineMonth","userLogin","userAvatarUrl","user","login","avatarUrl","members","usersLength","eventEditInputData","getTime","timeSlotClickHandler","timeSlotComputedStyle","timeSlotHeight","height","timeSlotWidth","timeSlotCoords","timeSlotTop","timeSlotLeft","diagramContent","diagramContentCoords","diagramContentTopCoords","timeSlotEventId","timeSlotInfoTemplate","timeSlotInfoNode","timeSlotInfoMarker","timeSlotInfoMarkerWidth","timeSlotNodeWidth","leftMoveValue","timeSlotInfoTrigger","ev","eventHref","deletePopupTemplate","newEventTemplate","popupMarkup","popup","closeBtn","actionBtn","cb","closePopup","eventNewView","eventEditView","EventNewView","fieldsProps","inputId","label","placeholder","inputValue","isDate","appData","eventStartDate","eventDateDay","eventUsers","cancelBtnHandler","getAutocompleteHandler","addUserHandler","removeUserHandler","createEventHandler","recommendationTagDeleteBtnHandler","eventEndDate","eventDate","eventTitle","eventStartTime","eventEndTime","eventMembers","clearHandlers","tryCreateEventHandler","msg","showErrorMessage","userTagArr","recommendationTagSelected","clearErrorContainer","recomSwap","eventTimeStartDatepickr","selectedDates","eventTimeEndDatepickr","userTag","userId","eventInput","toISOString","usersInput","createEvent","swapArr","swapObj","swap","changeEventRoom","recommendationTag","recommendationTagTime","endDate","recomParentTitle","recomTagArr","recomContainer","item","deleteBtn","createBtn","recomParent","handleRecommendation","usersId","eventUser","detail","newArr","recommendations","clearRecommendations","recom","recomMarkup","recomNode","recomContent","recomContentChildsIsTarget","recommendationTagClickHandler","cancelBtnArr","autocomplete","cancelBtn","eventFormValidation","eventFormValidationContent","eventDateDatepickr","tryHandleRecommendation","person","homeFloor","db","persons","recommendationArr","renderRecommendations","locale","altInput","altFormat","defaultDate","wrap","disableMobile","onChange","newDay","eventDayMinute","eventEndDayMinute","enableTime","noCalendar","dateFormat","time_24hr","ApiService","responseData","getAllRequest","Promise","reject","getRooms","res","getEvents","eventsSortedByDate","dateStartDay","getUsers","catch","error","usersIds","removeEvent","updateEvent","editEvent","fetch","support","searchParams","iterable","blob","Blob","formData","arrayBuffer","viewClasses","isDataView","obj","DataView","isPrototypeOf","isArrayBufferView","ArrayBuffer","isView","normalizeName","String","test","TypeError","normalizeValue","iteratorFor","items","next","shift","done","undefined","Headers","headers","append","getOwnPropertyNames","oldValue","get","has","set","thisArg","values","entries","consumed","bodyUsed","fileReaderReady","reader","onload","result","onerror","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","fromCharCode","bufferClone","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","text","decode","json","JSON","parse","methods","normalizeMethod","method","upcased","toUpperCase","Request","input","options","credentials","mode","referrer","clone","form","trim","bytes","parseHeaders","rawHeaders","line","parts","key","Response","bodyInit","status","ok","statusText","response","redirectStatuses","redirect","RangeError","init","request","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","polyfill","mutation","checkStatus","parseJSON","requestAddr","stringify","global","factory","flatpickr","__assign","pad","number","int","bool","func","wait","immediate","timeout","context","arrayify","mouseDelta","delta","wheelDelta","deltaY","do_nothing","revFormat","D","F","dateObj","monthName","setMonth","months","longhand","G","parseFloat","H","J","K","amPM","M","shortMonth","shorthand","S","seconds","setSeconds","U","unixSeconds","W","weekNum","weekNumber","parseInt","Y","setFullYear","Z","ISODate","minutes","setMinutes","j","w","y","tokenRegex","formats","weekdays","monthToStr","ordinal","getSeconds","getWeek","substring","english","daysInMonth","firstDayOfWeek","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","createDateFormatter","_a","_b","config","defaults","_c","l10n","frmt","formatDate","arr","createDateParser","givenFormat","timeless","parsedDate","date_orig","toFixed","format","datestr","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","exec","val","errorHandler","compareDates","date1","date2","monthNumber","givenDate","week1","DAY","_disable","_enable","allowInput","altInputClass","animate","navigator","userAgent","ariaDateFormat","clickOpens","closeOnSelect","conjunction","defaultHour","defaultMinute","defaultSeconds","disable","enable","enableSeconds","console","warn","hourIncrement","ignoredFocusElements","inline","minuteIncrement","nextArrow","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","static","weekNumbers","toggleClass","className","tag","content","textContent","clearNode","findParent","condition","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","_i","_loop_1","source","args_1","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","_animationLoop","_handlers","_bind","_setHoursFromDate","setHoursFromDate","changeMonth","changeYear","clear","close","_createElement","isEnabled","jumpToDate","redraw","toggle","setupHelperFunctions","utils","getDaysInMonth","yr","isOpen","parseConfig","setupLocale","setupInputs","setupDates","isMobile","build","bindEvents","latestSelectedDateObj","minDate","updateValue","showTimeInput","weekWrapper","daysContainer","calendarContainer","offsetWidth","isSafari","positionCalendar","triggerEvent","bindToInstance","setHoursFromInputs","timeWrapper","ampm2military","military2ampm","hourElement","minuteElement","hours","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDate","maxDateHasTime","min","max","onYearInput","currentYearElement","blur","onClick","evt","which","triggerChange","setupMobile","debouncedResize","onResize","_debouncedChange","onMouseOver","_input","ontouchstart","documentClick","capture","monthNav","onMonthNavScroll","onMonthNavClick","selectDate","animateDays","animateMonths","selText","select","timeIncrement","passive","processPostDayAnimation","animationName","lastChild","days","navigationCurrentMonth","nav","nextSibling","previousSibling","oldCurMonth","jumpDate","jumpTo","incrementNumInput","inputElem","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","insertBefore","createDay","dayNumber","dateIsEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","minRangeDate","maxRangeDate","isDateInRange","insertAdjacentHTML","focusOnDay","currentIndex","offset","newIndex","targetNode","focus","afterDayAnim","firstOfMonth","isRangeMode","prevMonthDays","dayIndex","dayNum","_hidePrevMonthArrow","_hideNextMonthArrow","updateNavigationCurrentMonth","dayContainer","monthNavFragment","prevMonthNav","currentMonthElement","yearInput","tabindex","disabled","nextMonthNav","__hidePrevMonthArrow","display","__hideNextMonthArrow","separator","hourInput","minuteInput","secondInput","weekdayContainer","splice","concat","is_offset","from_keyboard","cloneNode","activeElement","index_1","triggerChangeEvent","mobileInput","_type","removeAttribute","isCalendarElem","isCalendarElement","isInput","path","lostFocus","relatedTarget","isIgnored","some","newYear","newYearNum","isNewYear","dateToCheck","array","parsed","to","calendarElem","allowKeydown","allowInlineKeydown","keyCode","isTimeObj","delta_1","ctrlKey","charAt","hoverDate","initialDate","rangeStartDate","rangeEndDate","containsDisabled","timestamp","outOfRange","dayElem","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","defaultConfig","userConfig","dataset","formats$$1","dates","parseDateRules","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","pluginConf","l10ns","default","customPositionElement","_positionElement","calendarHeight","acc","child","offsetHeight","calendarWidth","configPos","inputBounds","distanceFromBottom","innerHeight","bottom","showOnTop","right","rightMost","focusAndClose","stopPropagation","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","single","range","CALLBACKS","option","x","setSelectedDate","rule","preloadedDate","_showTimeInput","nodeName","required","inputType","step","mobileFormatStr","defaultValue","initEvent","joinChar","dObj","isYear","isPrevMonth","isNextMonth","isKeyDown","curValue","newValue","isHourElem","isMinuteElem","abs","_flatpickr","nodeList","nodes","instances","HTMLElement","HTMLCollection","NodeList","en","localize","setDefaults","jQuery","fp_incr","flatpickr$1","ru","fp","Russian","isEdit","eventFormContent","fieldProps","filledClass","getRecommendation","eventStart","eventEnd","dayEnd","dbEvents","dbRooms","dbUsers","numberOfMembers","recommendation","eventStartDay","roomLoop","dbRoom","dbRoomId","tStart","tEnd","isTimeHasnotEvent","dbEvent","dbEventStart","dbEventEnd","dbEventDuration","dif","eventSwap","checkEventsForSwap","eventRoom","newRoom","floorsValueOne","floorsValueTwo","isFeet","eventOne","startOne","endOne","roomOneFloor","roomOneId","eventTwo","startTwo","endTwo","roomTwoFloor","roomTwoId","countFloors","checkCapacity","numberOfFloors","userFloor","isSelected","roomTitle","dataSwap","swapHash","getAutocompleteMarkup","dropdownItemHandler","container","dropdownItem","userArrInContainer","userIn","userInId","autocompleteHandler","autocompleteDropdown","autocompleteTagsContainer","clearAutocomplete","autocompleteList","autocompleteListItems","autocompleteListItem","autocompleteDropdownItemArr","getDropdownItemHandler","dropdownItemRemoveClickListener","autocompleteDropdownItem","addUserToEvent","CustomEvent","userTagElement","userTagRemoveBtn","removeUserFromEvent","userRemoveBtnHandler","deleteEventBtnHandle","editEventBtnHandle","eventInputId","eventName","currentId","eventRoomId","fieldInput","tryEditEventBtnHandle","fieldResetBtn","fieldResetHandler","recommendationTagDeleteBtn","deleteEventBtn","editEventBtn","newEventsArr","file","revision","createElementNS","createSVGRect","isLocalStorage","insertIT","insert","localStorage","getItem","setItem"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ee6e6c9fa36a66e2e553","import Application from './application';\r\nimport ApiService from './api-service';\r\nimport createSvgSprite from './tools/create-svg-sprite';\r\nimport {activateRouter} from './router';\r\n\r\ncreateSvgSprite();\r\n\r\nApiService.getAll()\r\n    .then((data) => {\r\n      Application.data = data;\r\n\r\n      activateRouter();\r\n\r\n    });\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/main.js","import {TYPES} from './data/data';\r\nimport view from './view';\r\n\r\nlet meetingRoomsData;\r\n\r\nexport default class Application {\r\n\r\n  static showMeetingRooms() {\r\n    view(TYPES.MEETING_ROOMS, meetingRoomsData);\r\n  }\r\n\r\n  static showEventCreate(eventInputData) {\r\n    view(TYPES.EVENT_CREATE, eventInputData);\r\n  }\r\n\r\n  static showEventEdit(eventInputData) {\r\n    view(TYPES.EVENT_EDIT, eventInputData);\r\n  }\r\n\r\n  static set data(data) {\r\n    meetingRoomsData = data;\r\n  }\r\n\r\n  static get data() {\r\n    return meetingRoomsData;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/application.js","export const TYPES = {\r\n  MEETING_ROOMS: 'meeting_rooms',\r\n  EVENT_CREATE: 'event-create',\r\n  EVENT_EDIT: 'event-edit',\r\n  ERROR: 'error'\r\n};\r\n\r\nexport const monthNames = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/data/data.js","import {TYPES} from './data/data';\r\nimport createMeetingRoom from './views/meeting-rooms-view';\r\nimport {eventNewView, eventEditView} from './views/event-view';\r\n\r\nconst RENDERS = {\r\n  [TYPES.MEETING_ROOMS]: createMeetingRoom,\r\n  [TYPES.EVENT_CREATE]: eventNewView,\r\n  [TYPES.EVENT_EDIT]: eventEditView,\r\n};\r\n\r\nexport default (type, inputData) => {\r\n  RENDERS[type](inputData).renderView();\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/view.js","import MeetingRoomsView from './meeting-rooms-view';\r\n\r\nexport default (data) => new MeetingRoomsView(data);\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/index.js","import Application from './../../application';\r\nimport AbstractView from './../abstract-view';\r\nimport {calendarMarkup, openCalendar} from './calendar';\r\nimport RenderCalendarWidget from './render-calendar-widget';\r\nimport {debounce, getDateValue, parseObjToHash} from '../../tools/helpers';\r\nimport activateRoomName from './activate-room-name';\r\nimport RenderEvents from './render-events';\r\nimport {router} from './../../router';\r\nimport showPopup from './../showPopup';\r\n\r\nlet globalTimeout;\r\n\r\nclass MeetingRoomsView extends AbstractView {\r\n\r\n  constructor(inputData) {\r\n    super(inputData);\r\n    this.rooms = inputData.rooms;\r\n    this.users = inputData.users;\r\n    this.date = inputData.date || new Date();\r\n    this.year = this.date.getFullYear();\r\n    this.month = this.date.getMonth();\r\n    this.day = this.date.getDate();\r\n    this.hour = this.date.getHours();\r\n    this.minute = this.date.getMinutes();\r\n    this.dayMin = 8;\r\n    this.dayMax = 22;\r\n    this.MINUTE = 60 * 1000;\r\n    this.HOUR = this.MINUTE * 60;\r\n    this.dayTotal = this.dayMax - this.dayMin + 1;\r\n    this.initialAppDate = new Date();\r\n    this.initialAppDay = getDateValue(this.initialAppDate).day;\r\n    this.dateValue = getDateValue(this.date).day;\r\n    this.IS_INPUT_DATE_EQUAL_INITIAL_APP_DATE = this.dateValue === this.initialAppDay;\r\n    this.IS_PAST = this.dateValue < this.initialAppDay;\r\n    this.events = inputData.events[this.dateValue] || [];\r\n  }\r\n\r\n  diagramCellMarkup(cellMarkup, time) {\r\n    const cell = (typeof cellMarkup !== 'undefined' ) ? cellMarkup : '';\r\n    const dataTime = `${typeof time !== 'undefined' ? 'data-time=' + time : ''}`;\r\n    return `<div class=\"diagram__cell\" ${dataTime}>${cell}</div>`;\r\n  }\r\n\r\n  getCellList(inputMarkup) {\r\n    let cellList = '';\r\n    for (let time = this.dayMin; time <= this.dayMax; time++) {\r\n      cellList += this.diagramCellMarkup(inputMarkup, time);\r\n    }\r\n    return cellList;\r\n  }\r\n\r\n  diagramTimeMarkup(time, isNow, isCurrentTime) {\r\n    const now = isNow ? ' diagram__time--now' : '';\r\n    const minute = this.minute < 10 ? `0${this.minute}` : this.minute;\r\n    const currentTime = `${this.hour}:${minute}`;\r\n    return `<span class=\"diagram__time${now}\">${typeof isCurrentTime !== 'undefined' ? currentTime : time}</span>`;\r\n  }\r\n\r\n  diagramTimelineTimeMarkup() {\r\n    const diagramTimeMarkup = this.diagramTimeMarkup(false, true, true);\r\n    let diagramDayMarkup = '';\r\n    for (let time = this.dayMin; time <= this.dayMax; time++) {\r\n      diagramDayMarkup += this.diagramCellMarkup(this.diagramTimeMarkup(time), time);\r\n    }\r\n    return `<div class=\"diagram__day\">${diagramTimeMarkup}${diagramDayMarkup}</div>`;\r\n  }\r\n\r\n  updateTime(inputDate) {\r\n    const date = inputDate || new Date();\r\n    this.date = date;\r\n    this.hour = date.getHours();\r\n    this.minute = date.getMinutes();\r\n  }\r\n\r\n  changeFreeTime() {\r\n    const freeTimeSlotArr = document.querySelectorAll('.time-slot--empty');\r\n    let startTime;\r\n    let endTime;\r\n    let duration;\r\n    let width;\r\n    let left;\r\n    let startDate;\r\n\r\n    if (typeof freeTimeSlotArr !== 'undefined') {\r\n      for (let freeTimeSlot of Array.from(freeTimeSlotArr)) {\r\n        startTime = +freeTimeSlot.getAttribute('data-start-time');\r\n        endTime = +freeTimeSlot.getAttribute('data-end-time');\r\n        startDate = getDateValue(new Date(startTime)).minute;\r\n        duration = Math.floor((endTime - startTime) / this.MINUTE);\r\n        left = +getComputedStyle(freeTimeSlot).left.slice(0, -2);\r\n\r\n        if (duration < 2) {\r\n          freeTimeSlot.parentNode.removeChild(freeTimeSlot);\r\n        }\r\n\r\n        if (getDateValue(this.date).minute > startDate) {\r\n          width = (duration - 1) * this.minuteStep;\r\n          left += this.minuteStep;\r\n\r\n          freeTimeSlot.setAttribute('data-start-time', startTime + this.MINUTE);\r\n          freeTimeSlot.style.cssText = `left: ${left}px; width: ${width}px`;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  responsiveTimeSlot() {\r\n    const timeSlotArr = document.querySelectorAll('.time-slot');\r\n    let startTime;\r\n    let endTime;\r\n    let duration;\r\n    let width;\r\n    let left;\r\n    let startDate;\r\n\r\n    if (typeof timeSlotArr !== 'undefined') {\r\n      for (let timeSlot of Array.from(timeSlotArr)) {\r\n        startTime = +timeSlot.getAttribute('data-start-time');\r\n        endTime = +timeSlot.getAttribute('data-end-time');\r\n        startDate = getDateValue(new Date(startTime)).minute;\r\n        duration = Math.floor((endTime - startTime) / this.MINUTE);\r\n\r\n        left = ((startDate - this.dayStart) / this.MINUTE) * this.minuteStep;\r\n        width = duration * this.minuteStep;\r\n\r\n        timeSlot.style.cssText = `left: ${left}px; width: ${width}px`;\r\n      }\r\n    }\r\n  }\r\n\r\n  renderClockLine() {\r\n    const timeNowEl = this.element.querySelector('.diagram__time--now');\r\n    const dayEl = this.element.querySelector('.diagram__time-line .diagram__day');\r\n    const timelineCellArr = this.element.querySelectorAll('.diagram__time-line .diagram__cell');\r\n    const dayElWidth = getComputedStyle(dayEl).width.slice(0, -2);\r\n    // const now = this.date.valueOf();\r\n    const now = Date.now();\r\n    const date = new Date(now);\r\n    this.dayStart = new Date(now).setHours(8, 0, 0);\r\n    const currentMinute = (now - this.dayStart) / this.MINUTE;\r\n    this.minuteStep = dayElWidth / (this.dayTotal * 60);\r\n    const minute = date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes();\r\n\r\n    if (this.IS_INPUT_DATE_EQUAL_INITIAL_APP_DATE) {\r\n      timeNowEl.classList.add('show');\r\n\r\n      timeNowEl.style.left = `${currentMinute * this.minuteStep}px`;\r\n      timeNowEl.innerHTML = `${date.getHours()}:${minute}`;\r\n\r\n      if (currentMinute < 0 || currentMinute > this.dayTotal * 60) {\r\n        timeNowEl.style.opacity = 0;\r\n      }\r\n\r\n      for (let timelineCell of Array.from(timelineCellArr)) {\r\n        const timelineCellValue = timelineCell.getAttribute('data-time');\r\n        if (timelineCellValue <= date.getHours()) {\r\n          timelineCell.classList.add('past');\r\n        }\r\n      }\r\n    } else if (this.IS_PAST) {\r\n      for (let timelineCell of Array.from(timelineCellArr)) {\r\n        timelineCell.classList.add('past');\r\n      }\r\n    }\r\n  }\r\n\r\n  clock(isNewDate) {\r\n    if (isNewDate) {\r\n      this.updateTime();\r\n    } else {\r\n      this.updateTime(this.date);\r\n    }\r\n\r\n    this.changeFreeTime();\r\n    this.renderClockLine();\r\n\r\n    // Clear all timeouts\r\n    while (globalTimeout--) {\r\n      window.clearTimeout(globalTimeout);\r\n    }\r\n\r\n    globalTimeout = setTimeout(() => {\r\n      this.clock(true);\r\n    }, 60000);\r\n  }\r\n\r\n  diagramRowMarkup(_diagramSidebarMarkup, _diagramRowBodyMarkup, _rowClass) {\r\n    const rowClass = _rowClass || 'diagram__row';\r\n    const diagramSidebarMarkup = _diagramSidebarMarkup || '';\r\n    const diagramRowBodyMarkup = _diagramRowBodyMarkup || '';\r\n    return `<div class=\"${rowClass}\">\r\n              <div class=\"diagram__sidebar\">${diagramSidebarMarkup}</div>\r\n              <div class=\"diagram__row-body\">${diagramRowBodyMarkup}</div>\r\n            </div>`;\r\n  }\r\n\r\n  getRoomMarkup(name, capacity) {\r\n    return `<div class=\"diagram__room-name\">${name}</div>\r\n            <div class=\"diagram__room-capacity\">${capacity} человек</div>`;\r\n  }\r\n\r\n  getRoomList(floor) {\r\n    let roomList = '';\r\n    const diagramDayTemp = '<div class=\"diagram__day\"></div>';\r\n\r\n    for (let room of this.rooms) {\r\n      if (room.floor === floor) {\r\n        const roomMarkup = this.getRoomMarkup(room.title, room.capacity);\r\n        roomList += `<div class=\"diagram__room\" data-room-id=\"${room.id}\">\r\n                        ${this.diagramRowMarkup(roomMarkup, diagramDayTemp)}\r\n                      </div>`;\r\n      }\r\n    }\r\n\r\n    return roomList;\r\n  }\r\n\r\n  getFloorListMarkup() {\r\n    let floors = [];\r\n\r\n    for (let room of this.rooms) {\r\n      if (floors.indexOf(room.floor) === -1) {\r\n        floors.push(room.floor);\r\n      }\r\n    }\r\n\r\n    floors.sort((a, b) => {\r\n      if (a > b) {\r\n        return 1;\r\n      }\r\n      return -1;\r\n    });\r\n\r\n    let floorList = '';\r\n\r\n    for (let floor of floors) {\r\n      floorList += `<div class=\"diagram__floor\" data-floor=\"${floor}\">\r\n                      <div class=\"diagram__floor-title\">\r\n                            ${this.diagramRowMarkup(`${floor} этаж`)}\r\n                      </div>\r\n                      ${this.getRoomList(floor)}\r\n                    </div>`;\r\n    }\r\n\r\n    return floorList;\r\n  }\r\n\r\n  getMarkup() {\r\n    const header = `<header class=\"header\">\r\n                      <div class=\"logo\"></div>\r\n                      <a href=\"#\" class=\"button header__button button--blue\" id=\"newEventTrigger\">Создать встречу</a>\r\n                  </header>`;\r\n\r\n    const diagram = `<div class=\"diagram\">\r\n                      <div class=\"diagram__body\">\r\n                        <div class=\"diagram__body-cnt\">\r\n                            <div class=\"diagram__time-line\">${this.diagramRowMarkup(calendarMarkup(), this.diagramTimelineTimeMarkup())}</div>\r\n                            <div class=\"diagram__content-wrapper\">\r\n                              <div class=\"diagram__content\">\r\n                                ${this.diagramRowMarkup(null, this.getCellList(), 'diagram__cell-grid')}\r\n                                ${this.getFloorListMarkup()}\r\n                              </div>\r\n                            </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>`;\r\n\r\n    return `<div class=\"index-page\" id=\"app\">\r\n              ${header} \r\n              ${diagram}\r\n            </div>`;\r\n  }\r\n\r\n  bindHandlers() {\r\n    const eventNewTrigger = this.element.querySelector('#newEventTrigger');\r\n\r\n    eventNewTrigger.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n      let startTime;\r\n      if (this.IS_INPUT_DATE_EQUAL_INITIAL_APP_DATE) {\r\n        const now = new Date();\r\n        startTime = getDateValue(new Date(this.date.getFullYear(), this.date.getMonth(), this.date.getDate(), now.getHours(), now.getMinutes())).minute;\r\n      } else {\r\n        startTime = getDateValue(this.date).day + this.HOUR * 8;\r\n      }\r\n      let endTime = startTime + 15 * this.MINUTE;\r\n      const eventCreateInputData = {\r\n        roomId: 0,\r\n        startTime: startTime,\r\n        endTime: endTime\r\n      };\r\n      router.navigate(`/event/${parseObjToHash(eventCreateInputData)}/create`);\r\n    });\r\n\r\n    const windowResizeHandler = () => {\r\n      this.renderClockLine();\r\n      this.responsiveTimeSlot();\r\n    };\r\n\r\n    window.addEventListener('resize', debounce(windowResizeHandler, 66));\r\n\r\n    if (this.inputData.hasOwnProperty('newEvent')) {\r\n      let eventData = this.inputData.newEvent;\r\n      for (let room of this.rooms) {\r\n        if (eventData.roomId === room.id) {\r\n          Object.assign(eventData, {\r\n            roomName: room.title,\r\n            roomFloor: room.floor\r\n          });\r\n        }\r\n      }\r\n\r\n      showPopup('newEvent', eventData, () => {\r\n        const newData = this.inputData;\r\n        delete newData.newEvent;\r\n        Application.data = newData;\r\n      });\r\n    }\r\n  }\r\n\r\n  viewRendered() {\r\n    openCalendar();\r\n    activateRoomName();\r\n    const renderCalendarWidget = new RenderCalendarWidget(this.date);\r\n    renderCalendarWidget.render();\r\n\r\n    this.clock();\r\n\r\n    const renderEvents = new RenderEvents(this.element, this.events, this.date, this.rooms, this.users, this.minuteStep);\r\n    renderEvents.renderView();\r\n  }\r\n\r\n}\r\n\r\nexport default MeetingRoomsView;\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/meeting-rooms-view.js","export default class AbstractView {\r\n\r\n  constructor(inputData) {\r\n    this.inputData = inputData;\r\n  }\r\n\r\n  /**\r\n   * returns a DOM element created from getMarkup()\r\n   * and binds event handlers to it\r\n   * @return {Element}\r\n   */\r\n  get element() {\r\n    if (!this._element) {\r\n      const domElement = document.createElement('div');\r\n      domElement.innerHTML = this.getMarkup();\r\n      this._element = domElement.firstChild;\r\n      this.bindHandlers();\r\n    }\r\n    return this._element;\r\n  }\r\n\r\n  renderView() {\r\n    const appElement = document.getElementById('app');\r\n    appElement.parentNode.replaceChild(this.element, appElement);\r\n    this.viewRendered();\r\n  }\r\n\r\n  getMarkup() {\r\n    throw new Error('Abstract method should be implemented');\r\n  }\r\n\r\n  bindHandlers() {\r\n\r\n  }\r\n\r\n  clearHandlers() {\r\n\r\n  }\r\n\r\n  viewRendered() {\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/abstract-view.js","import hideOnClickOutside from '../../tools/hide-on-click-outside';\r\nimport {addListenerMulti} from './../../tools/helpers';\r\n\r\nconst calendarMarkup = () => {\r\n  return `<div class=\"calendar\" id=\"calendar\">\r\n              <div class=\"calendar__header\">\r\n                  <span class=\"calendar__header-trigger calendar__header-trigger--left circle-icon circle-icon--left\" data-calendar-trigger data-direction=\"left\">\r\n                      <i>\r\n                          <svg width=\"12\" height=\"12\">\r\n                              <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-arrow\"></use>\r\n                          </svg>\r\n                      </i>\r\n                  </span>\r\n                  <span class=\"calendar__header-date-title\" id=\"calendarTrigger\">\r\n                  </span>\r\n                  <div class=\"calendar__header-trigger calendar__header-trigger--right circle-icon\" data-calendar-trigger data-direction=\"right\">\r\n                      <i>\r\n                          <svg width=\"12\" height=\"12\">\r\n                              <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-arrow\"></use>\r\n                          </svg>\r\n                      </i>\r\n                  </div>\r\n              </div>\r\n              <div class=\"calendar__body\" id=\"calendarBody\">\r\n                  <div class=\"calendar-widget\">\r\n                      <div class=\"calendar-widget__body\" id=\"calendarWidget\" data-quarter=\"1\"></div>\r\n                  </div>\r\n              </div>\r\n              <div class=\"calendar__overlay\"></div>\r\n          </div>`;\r\n};\r\n\r\nconst openCalendar = () => {\r\n  const calendarTrigger = document.getElementById('calendarTrigger');\r\n  const calendar = document.getElementById('calendar');\r\n  const body = document.querySelector('body');\r\n  const classToAdd = 'opened';\r\n  const classToBody = 'calendar-opened';\r\n\r\n  if (calendarTrigger === null) {\r\n    return false;\r\n  }\r\n\r\n  const calendarOverlay = calendar.querySelector('.calendar__overlay');\r\n\r\n  calendarTrigger.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    if (calendar.classList.contains(classToAdd)) {\r\n      removeAction();\r\n    } else {\r\n      calendar.classList.add(classToAdd);\r\n      body.classList.add(classToBody);\r\n    }\r\n\r\n    hideOnClickOutside('#calendar', removeAction);\r\n\r\n    addListenerMulti(calendarOverlay, 'click touchstart', removeAction);\r\n  });\r\n\r\n  const removeAction = () => {\r\n    calendar.classList.remove(classToAdd);\r\n    body.classList.remove(classToBody);\r\n  };\r\n\r\n  return true;\r\n};\r\n\r\nexport {calendarMarkup, openCalendar};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/calendar.js","import {addListenerMulti, removeListenerMulti, checkEventTarget} from './helpers';\r\n\r\nexport default (selector, callback) => {\r\n  const outsideClickListener = (event) => {\r\n    const elem = document.querySelector(selector);\r\n    const clickCallback = callback || function () {};\r\n    let elemChildIsTarget = false;\r\n    if (elem !== null) {\r\n      elemChildIsTarget = checkEventTarget(event, elem);\r\n    }\r\n\r\n    if (event.target !== elem && !elemChildIsTarget) {\r\n      clickCallback();\r\n      removeClickListener();\r\n    }\r\n  };\r\n\r\n  const removeClickListener = () => {\r\n    removeListenerMulti(document, 'click touchstart', outsideClickListener);\r\n  };\r\n\r\n  addListenerMulti(document, 'click touchstart', outsideClickListener);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/tools/hide-on-click-outside.js","export const getCoords = (elem) => {\r\n  const box = elem.getBoundingClientRect();\r\n\r\n  return {\r\n    top: box.top + pageYOffset,\r\n    left: box.left + pageXOffset\r\n  };\r\n};\r\n\r\nexport const getNodeFromMarkup = (markupTemplate) => {\r\n  const div = document.createElement('div');\r\n  div.innerHTML = markupTemplate;\r\n  return div.firstChild;\r\n};\r\n\r\nexport const getDay = (date) => { // получить номер дня недели, от 0(пн) до 6(вс)\r\n  let day = date.getDay();\r\n  if (day === 0) {\r\n    day = 7;\r\n  }\r\n  return day - 1;\r\n};\r\n\r\nexport const addListenerMulti = (el, s, fn) => {\r\n  s.split(' ').forEach((e) => {\r\n    el.addEventListener(e, fn, false);\r\n  });\r\n};\r\nexport const removeListenerMulti = (el, s, fn) => {\r\n  s.split(' ').forEach((e) => {\r\n    el.removeEventListener(e, fn, false);\r\n  });\r\n};\r\n\r\nexport const debounce = (f, ms) =>{\r\n  let timer = null;\r\n\r\n  return function (...args) {\r\n    const onComplete = () => {\r\n      /* eslint-disable */\r\n      f.apply(this, args);\r\n      /* eslint-enable */\r\n      timer = null;\r\n    };\r\n\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n    }\r\n\r\n    timer = setTimeout(onComplete, ms);\r\n  };\r\n};\r\n\r\nexport const getDateValue = (inputDate) => {\r\n  const date = inputDate || new Date();\r\n  const year = new Date(date.getFullYear());\r\n  const month = new Date(date.getFullYear(), date.getMonth());\r\n  const day = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n  const hour = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours());\r\n  const minute = new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes());\r\n\r\n  return {\r\n    year: year.valueOf(),\r\n    month: month.valueOf(),\r\n    day: day.valueOf(),\r\n    hour: hour.valueOf(),\r\n    minute: minute.valueOf()\r\n  };\r\n};\r\n\r\nElement.prototype.parents = function (selector) {\r\n  let elements = [];\r\n  let elem = this;\r\n  const ishaveselector = typeof selector !== 'undefined';\r\n\r\n  while ((elem = elem.parentElement) !== null) {\r\n    if (elem.nodeType !== Node.ELEMENT_NODE) {\r\n      continue;\r\n    }\r\n\r\n    if (!ishaveselector || elem.matches(selector)) {\r\n      elements.push(elem);\r\n    }\r\n  }\r\n\r\n  return elements;\r\n};\r\n\r\nexport const parseObjToHash = (inputObj) => {\r\n  let hashPartBuffer = [];\r\n\r\n  for (let k in inputObj) {\r\n    if (typeof inputObj !== 'object') {\r\n      return [];\r\n    }\r\n    hashPartBuffer.push(\r\n        encodeURIComponent(k),\r\n        '=',\r\n        encodeURIComponent(inputObj[k]),\r\n        '&');\r\n  }\r\n  if (hashPartBuffer.length) {\r\n    // Remove the last element from the string buffer\r\n    // which is '&'.\r\n    hashPartBuffer.pop();\r\n  }\r\n  const hashPartString = hashPartBuffer.join('');\r\n\r\n  return hashPartString;\r\n};\r\n\r\nexport const encodeObjFromHash = (hashPartString) => {\r\n  let pairs = hashPartString.split(/&/);\r\n  let object = {};\r\n  for (let i = 0; i < pairs.length; i++) {\r\n    let keyValue = pairs[i].split(/=/);\r\n    // Validate that this has the right structure.\r\n    if (keyValue.length === 2) {\r\n      object[keyValue[0]] = keyValue[1];\r\n    }\r\n  }\r\n  return object;\r\n};\r\n\r\nexport const checkEventTarget = (event, elem) => {\r\n  let isTarget = false;\r\n\r\n  for (let i = 0; i < elem.childNodes.length; i++) {\r\n    const children = elem.childNodes[i];\r\n\r\n    if (event.target === children) {\r\n      isTarget = true;\r\n      return isTarget;\r\n    } else {\r\n      checkNode(children);\r\n    }\r\n  }\r\n\r\n  function checkNode(node) {\r\n    if (node.hasChildNodes()) {\r\n      for (let i = 0; i < node.childNodes.length; i++) {\r\n        const recuChildren = node.childNodes[i];\r\n        if (event.target === node) {\r\n          isTarget = true;\r\n          return true;\r\n        }\r\n        checkNode(recuChildren);\r\n      }\r\n    } else if (event.target === node) {\r\n      isTarget = true;\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  return isTarget;\r\n};\r\n\r\nexport function UserException(message) {\r\n  this.message = message;\r\n  this.name = 'UserException';\r\n}\r\n\r\nUserException.prototype.toString = function () {\r\n  return this.message;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/tools/helpers.js","import {getNodeFromMarkup, getDay, getDateValue, parseObjToHash} from './../../tools/helpers';\r\nimport {monthNames} from './../../data/data';\r\nimport {router} from './../../router';\r\n\r\nexport default class RenderCalendarWidget {\r\n  constructor(date) {\r\n    this.date = date;\r\n    this.calendarWidget = document.getElementById('calendarWidget');\r\n    this.calendar = document.getElementById('calendar');\r\n    this.monthNamesShortcuts = monthNames.map((month) => {\r\n      return month.toLowerCase().slice(0, 3);\r\n    });\r\n  }\r\n\r\n  getMonth(year, month) {\r\n    const d = new Date(year, month);\r\n    const today = this.date.getDate();\r\n    const currentMonth = this.date.getMonth();\r\n    const now = new Date();\r\n    const nowDay = now.getDate();\r\n    const nowMonth = now.getMonth();\r\n\r\n    let daysView = '';\r\n\r\n    for (let i = 0; i < getDay(d); i++) {\r\n      daysView += '<div class=\"month__day empty\"></div>';\r\n    }\r\n\r\n    while (d.getMonth() === month) {\r\n      let todayClass = '';\r\n      if (d.getDate() === today && currentMonth === month) {\r\n        todayClass = 'today';\r\n      } else if (d.getDate() === nowDay && nowMonth === month) {\r\n        todayClass = 'still-today';\r\n      }\r\n\r\n      daysView += `<div class=\"month__day ${todayClass}\" data-shortcut=\"${month}\">${d.getDate()}</div>`;\r\n\r\n      d.setDate(d.getDate() + 1);\r\n    }\r\n\r\n    if (getDay(d) !== 0) {\r\n      for (let i = getDay(d); i < 7; i++) {\r\n        daysView += '<div class=\"month__day empty\"></div>';\r\n      }\r\n    }\r\n\r\n    const monthView = `<div class=\"calendar-widget__month month\">\r\n                          <div class=\"month__name\" data-motnh=\"${currentMonth}\">${monthNames[month]}</div>\r\n                          <div class=\"month__week\">\r\n                              <div class=\"month__day\">Пн</div>\r\n                              <div class=\"month__day\">Вт</div>\r\n                              <div class=\"month__day\">Ср</div>\r\n                              <div class=\"month__day\">Чт</div>\r\n                              <div class=\"month__day\">Пт</div>\r\n                              <div class=\"month__day\">Сб</div>\r\n                              <div class=\"month__day\">Вс</div>\r\n                          </div>\r\n  \r\n                          <div class=\"month__days\">\r\n                              ${daysView}\r\n                          </div>\r\n                      </div>`;\r\n\r\n    return monthView;\r\n  }\r\n\r\n  moveCalendarWidget() {\r\n    const yearQuarter = this.calendarWidget.getAttribute('data-quarter');\r\n\r\n    this.calendarWidget.style.transform = `translateX(-${100 * (+yearQuarter - 1)}%)`;\r\n  }\r\n\r\n  activateCalendarSlide() {\r\n    const calendarTriggerArr = this.calendar.querySelectorAll('[data-calendar-trigger]');\r\n    const self = this;\r\n\r\n    let yearQuarter = this.calendarWidget.getAttribute('data-quarter');\r\n\r\n    for (let calendarTrigger of Array.from(calendarTriggerArr)) {\r\n      calendarTrigger.addEventListener('click', () => {\r\n        const calendarTriggerDirection = calendarTrigger.getAttribute('data-direction');\r\n        const windowWidth = window.innerWidth;\r\n        let quarterMaxValue;\r\n\r\n        if (!this.calendar.classList.contains('opened')) {\r\n          return false;\r\n        }\r\n\r\n        quarterMaxValue = (windowWidth < 1280) ? 12 : 4;\r\n\r\n        if (calendarTriggerDirection === 'left' && yearQuarter > 1) {\r\n          --yearQuarter;\r\n          this.calendarWidget.setAttribute('data-quarter', yearQuarter);\r\n          self.moveCalendarWidget();\r\n        } else if (calendarTriggerDirection === 'right' && yearQuarter < quarterMaxValue) {\r\n          yearQuarter++;\r\n          this.calendarWidget.setAttribute('data-quarter', yearQuarter);\r\n          self.moveCalendarWidget();\r\n        }\r\n        return true;\r\n      });\r\n    }\r\n  }\r\n\r\n  dayHandler() {\r\n    const dayArr = this.calendarWidget.querySelectorAll('.month__days .month__day:not(.empty)');\r\n    const calendarHeaderTitle = this.calendar.querySelector('.calendar__header-date-title');\r\n\r\n\r\n    for (let day of Array.from(dayArr)) {\r\n      const yearValue = this.date.getFullYear();\r\n      const monthValue = day.getAttribute('data-shortcut');\r\n      const dayValue = day.innerHTML;\r\n      const now = new Date();\r\n      const hourValue = now.getHours();\r\n      const minutesValue = now.getMinutes();\r\n\r\n      const calendarChangedDate = {\r\n        date: getDateValue(new Date(yearValue, monthValue, dayValue, hourValue, minutesValue)).minute\r\n      };\r\n\r\n      day.addEventListener('click', () => {\r\n        this.calendarWidget.querySelector('.month__day.today').classList.remove('today');\r\n        day.classList.add('today');\r\n        calendarHeaderTitle.innerHTML = day.innerHTML + ' ' + this.monthNamesShortcuts[monthValue];\r\n\r\n        router.navigate(`/date/${parseObjToHash(calendarChangedDate)}`);\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const now = new Date();\r\n    const today = getDateValue(now).day;\r\n    const inputDate = this.date;\r\n    const inputDateValue = getDateValue(inputDate).day;\r\n    const day = this.date.getDate();\r\n    const currentYear = this.date.getFullYear();\r\n    const currentMonth = this.date.getMonth() + 1;\r\n\r\n    if (this.calendar === null) {\r\n      return false;\r\n    }\r\n\r\n\r\n    const dayTitle = (inputDateValue === today) ? '· Сегодня' : '';\r\n\r\n    const calendarHeaderTitle = this.calendar.querySelector('.calendar__header-date-title');\r\n    calendarHeaderTitle.innerHTML = `${day} ${this.monthNamesShortcuts[currentMonth - 1]} ${dayTitle}`;\r\n\r\n    for (let i = 0; i <= 11; i++) {\r\n      const monthView = this.getMonth(currentYear, i);\r\n      const monthViewNode = getNodeFromMarkup(monthView);\r\n\r\n      this.calendarWidget.appendChild(monthViewNode);\r\n    }\r\n\r\n    if (window.innerWidth < 1280) {\r\n      this.calendarWidget.setAttribute('data-quarter', currentMonth);\r\n    } else {\r\n      this.calendarWidget.setAttribute('data-quarter', Math.floor((currentMonth + 2) / 3));\r\n    }\r\n\r\n    this.activateCalendarSlide();\r\n\r\n    this.moveCalendarWidget();\r\n\r\n    this.dayHandler();\r\n\r\n    return true;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/render-calendar-widget.js","import Navigo from 'navigo';\r\nimport Application from './application';\r\nimport {encodeObjFromHash} from './tools/helpers';\r\n\r\nconst root = null;\r\nconst useHash = true;\r\nconst hash = '#';\r\nconst router = new Navigo(root, useHash, hash);\r\n\r\nconst activateRouter = () => {\r\n  return router\r\n      .on(/event\\/(\\w+=\\d+&\\w+=\\d+&\\w+=\\d+)\\/(\\w+)\\/?/, (urlHash, action) => {\r\n        const encodeData = encodeObjFromHash(urlHash);\r\n        if (action === 'create') {\r\n          Application.showEventCreate(encodeData);\r\n        } else if (action === 'edit') {\r\n          Application.showEventEdit(encodeData);\r\n        }\r\n      })\r\n      // .on(/event\\/(\\w+)\\/(\\w+=\\d+&\\w+=\\d+)\\/?/, (action) => {\r\n      //   const encodeData = encodeObjFromHash(urlHash);\r\n      //   if (action === 'create') {\r\n      //     Application.showEventCreate();\r\n      //   }\r\n      // })\r\n      .on(/date\\/(\\w+=\\d+)\\/?/, (urlHash) => {\r\n        const encodeData = encodeObjFromHash(urlHash);\r\n        const newData = Object.assign({}, Application.data, {\r\n          date: new Date(+encodeData.date)\r\n        });\r\n\r\n        Application.data = newData;\r\n        Application.showMeetingRooms();\r\n      })\r\n      .on('/', function () {\r\n        const newData = Object.assign({}, Application.data, {\r\n          date: new Date()\r\n        });\r\n\r\n        Application.data = newData;\r\n        Application.showMeetingRooms();\r\n      })\r\n      .resolve();\r\n};\r\n\r\nexport {router, activateRouter};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/router.js","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"Navigo\",[],t):\"object\"==typeof exports?exports.Navigo=t():e.Navigo=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p=\"\",t(0)}([function(e,t){\"use strict\";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){return!(\"undefined\"==typeof window||!window.history||!window.history.pushState)}function i(e,t,n){this.root=null,this._routes=[],this._useHash=t,this._hash=\"undefined\"==typeof n?\"#\":n,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!t&&o(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod=\"pushState\",e?this.root=t?e.replace(/\\/$/,\"/\"+this._hash):e.replace(/\\/$/,\"\"):t&&(this.root=this._cLoc().split(this._hash)[0].replace(/\\/$/,\"/\"+this._hash)),this._listen(),this.updatePageLinks()}function s(e){return e instanceof RegExp?e:e.replace(/\\/+$/,\"\").replace(/^\\/+/,\"^/\")}function r(e,t){return 0===t.length?null:e?e.slice(1,e.length).reduce(function(e,n,o){return null===e&&(e={}),e[t[o]]=decodeURIComponent(n),e},null):null}function a(e){var t,n=[];return t=e instanceof RegExp?e:new RegExp(e.replace(i.PARAMETER_REGEXP,function(e,t,o){return n.push(o),i.REPLACE_VARIABLE_REGEXP}).replace(i.WILDCARD_REGEXP,i.REPLACE_WILDCARD)+i.FOLLOWED_BY_SLASH_REGEXP,i.MATCH_REGEXP_FLAGS),{regexp:t,paramNames:n}}function u(e){return e.replace(/\\/$/,\"\").split(\"/\").length}function h(e,t){return u(t)-u(e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map(function(t){var n=a(s(t.route)),o=n.regexp,i=n.paramNames,u=e.replace(/^\\/+/,\"/\").match(o),h=r(u,i);return!!u&&{match:u,route:t,params:h}}).filter(function(e){return e})}function d(e,t){return l(e,t)[0]||!1}function c(e,t){var n=t.map(function(t){return\"\"===t.route||\"*\"===t.route?e:e.split(new RegExp(t.route+\"($|/)\"))[0]}),o=s(e);return n.length>1?n.reduce(function(e,t){return e.length>t.length&&(e=t),e},n[0]):1===n.length?n[0]:o}function f(){return!!(\"undefined\"!=typeof window&&\"onhashchange\"in window)}function _(e){return e.split(/\\?(.*)?$/).slice(1).join(\"\")}function p(e,t,n){var i,s=e,r=function(e){return e.split(/\\?(.*)?$/)[0]};return\"undefined\"==typeof n&&(n=\"#\"),o()&&!t?s=r(e).split(n)[0]:(i=e.split(n),s=r(i.length>1?i[1]:i[0])),s}function v(e,t,n){if(t&&\"object\"===(\"undefined\"==typeof t?\"undefined\":g(t))){if(t.before)return void t.before(function(){var o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o&&(e(),t.after&&t.after(n))},n);if(t.after)return e(),void(t.after&&t.after(n))}e()}function R(e,t,n){if(o()&&!t)return!1;if(!e.match(n))return!1;var i=e.split(n);return i.length<2||\"\"===i[1]}Object.defineProperty(t,\"__esModule\",{value:!0});var g=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};i.prototype={helpers:{match:d,root:c,clean:s,getOnlyURL:p},navigate:function(e,t){var n;return e=e||\"\",this._usePushState?(n=(t?\"\":this._getRoot()+\"/\")+e.replace(/^\\/+/,\"/\"),n=n.replace(/([^:])(\\/{2,})/g,\"$1/\"),history[this._historyAPIUpdateMethod]({},\"\",n),this.resolve()):\"undefined\"!=typeof window&&(e=e.replace(new RegExp(\"^\"+this._hash),\"\"),window.location.href=window.location.href.replace(/#$/,\"\").replace(new RegExp(this._hash+\".*$\"),\"\")+this._hash+e),this},on:function(){for(var e=this,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];if(\"function\"==typeof n[0])this._defaultHandler={handler:n[0],hooks:n[1]};else if(n.length>=2)if(\"/\"===n[0]){var i=n[1];\"object\"===g(n[1])&&(i=n[1].uses),this._defaultHandler={handler:i,hooks:n[2]}}else this._add(n[0],n[1],n[2]);else if(\"object\"===g(n[0])){var s=Object.keys(n[0]).sort(h);s.forEach(function(t){e.on(t,n[0][t])})}return this},off:function(e){return null!==this._defaultHandler&&e===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&e===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(t,n){return n.handler!==e&&t.push(n),t},[]),this},notFound:function(e,t){return this._notFoundHandler={handler:e,hooks:t},this},resolve:function(e){var t,o,i=this,s=(e||this._cLoc()).replace(this._getRoot(),\"\");this._useHash&&(s=s.replace(new RegExp(\"^/\"+this._hash),\"/\"));var r=_(e||this._cLoc()),a=p(s,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&a===this._lastRouteResolved.url&&r===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(o=d(a,this._routes))?(this._callLeave(),this._lastRouteResolved={url:a,query:r,hooks:o.route.hooks,params:o.params,name:o.route.name},t=o.route.handler,v(function(){v(function(){o.route.route instanceof RegExp?t.apply(void 0,n(o.match.slice(1,o.match.length))):t(o.params,r)},o.route.hooks,o.params,i._genericHooks)},this._genericHooks,o.params),o):this._defaultHandler&&(\"\"===a||\"/\"===a||a===this._hash||R(a,this._useHash,this._hash))?(v(function(){v(function(){i._callLeave(),i._lastRouteResolved={url:a,query:r,hooks:i._defaultHandler.hooks},i._defaultHandler.handler(r)},i._defaultHandler.hooks)},this._genericHooks),!0):(this._notFoundHandler&&v(function(){v(function(){i._callLeave(),i._lastRouteResolved={url:a,query:r,hooks:i._notFoundHandler.hooks},i._notFoundHandler.handler(r)},i._notFoundHandler.hooks)},this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,this._lastRouteResolved=null,this._genericHooks=null,clearTimeout(this._listeningInterval),\"undefined\"!=typeof window&&(window.removeEventListener(\"popstate\",this._onLocationChange),window.removeEventListener(\"hashchange\",this._onLocationChange))},updatePageLinks:function(){var e=this;\"undefined\"!=typeof document&&this._findLinks().forEach(function(t){t.hasListenerAttached||(t.addEventListener(\"click\",function(n){var o=e.getLinkPath(t);e._destroyed||(n.preventDefault(),e.navigate(o.replace(/\\/+$/,\"\").replace(/^\\/+/,\"/\")))}),t.hasListenerAttached=!0)})},generate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce(function(n,o){var i;if(o.name===e){n=o.route;for(i in t)n=n.toString().replace(\":\"+i,t[i])}return n},\"\");return this._useHash?this._hash+n:n},link:function(e){return this._getRoot()+e},pause:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=e,e?this._historyAPIUpdateMethod=\"replaceState\":this._historyAPIUpdateMethod=\"pushState\"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(e){return\"undefined\"==typeof e?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=e,e)},disableIfAPINotAvailable:function(){o()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(e){return e.getAttribute(\"href\")},hooks:function(e){this._genericHooks=e},_add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return\"string\"==typeof e&&(e=encodeURI(e)),\"object\"===(\"undefined\"==typeof t?\"undefined\":g(t))?this._routes.push({route:e,handler:t.uses,name:t.as,hooks:n||t.hooks}):this._routes.push({route:e,handler:t,hooks:n}),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=c(this._cLoc().split(\"?\")[0],this._routes),this.root)},_listen:function(){var e=this;if(this._usePushState)window.addEventListener(\"popstate\",this._onLocationChange);else if(f())window.addEventListener(\"hashchange\",this._onLocationChange);else{var t=this._cLoc(),n=void 0,o=void 0;o=function(){n=e._cLoc(),t!==n&&(t=n,e.resolve()),e._listeningInterval=setTimeout(o,200)},o()}},_cLoc:function(){return\"undefined\"!=typeof window?\"undefined\"!=typeof window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:s(window.location.href):\"\"},_findLinks:function(){return[].slice.call(document.querySelectorAll(\"[data-navigo]\"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){this._lastRouteResolved&&this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.leave&&this._lastRouteResolved.hooks.leave(this._lastRouteResolved.params)}},i.PARAMETER_REGEXP=/([:*])(\\w+)/g,i.WILDCARD_REGEXP=/\\*/g,i.REPLACE_VARIABLE_REGEXP=\"([^/]+)\",i.REPLACE_WILDCARD=\"(?:.*)\",i.FOLLOWED_BY_SLASH_REGEXP=\"(?:/$|$)\",i.MATCH_REGEXP_FLAGS=\"\",t[\"default\"]=i,e.exports=t[\"default\"]}])});\n//# sourceMappingURL=navigo.min.js.map\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/~/navigo/lib/navigo.min.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/~/webpack/buildin/module.js","import {getCoords, getNodeFromMarkup} from './../../tools/helpers';\r\n\r\nexport default () => {\r\n  const diagramBody = document.querySelector('.diagram__body');\r\n  const diagramBodyCnt = document.querySelector('.diagram__body-cnt');\r\n\r\n  if (diagramBody === null) {\r\n    return;\r\n  }\r\n  const diagramRoomArr = diagramBodyCnt.querySelectorAll('.diagram__room');\r\n\r\n  for (let diagramRoom of Array.from(diagramRoomArr)) {\r\n    const diagramRoomName = diagramRoom.querySelector('.diagram__room-name');\r\n    const roomNameTag = `<div class=\"room-name-tag\">${diagramRoomName.innerHTML}</div>`;\r\n    const roomNameTagNode = getNodeFromMarkup(roomNameTag);\r\n    if (diagramRoom.classList.contains('diagram__room--filled')) {\r\n      roomNameTagNode.classList.add('filled');\r\n    }\r\n    diagramRoom.appendChild(roomNameTagNode);\r\n  }\r\n\r\n  diagramBody.addEventListener('scroll', () => {\r\n    const elCoordsLeft = -1 * getCoords(diagramBodyCnt).left;\r\n    const roomNameTagArr = document.querySelectorAll('.room-name-tag');\r\n    const diagramRowBody = document.querySelector('.diagram__row-body');\r\n    const diagramRowBodyLeftCoords = getCoords(diagramRowBody).left;\r\n\r\n    if (elCoordsLeft > 180) {\r\n      for (let roomNameTag of Array.from(roomNameTagArr)) {\r\n        roomNameTag.classList.add('taged');\r\n        roomNameTag.style.transform = `translateX(${-1 * diagramRowBodyLeftCoords + 180}px)`;\r\n      }\r\n    } else {\r\n      for (let roomNameTag of Array.from(roomNameTagArr)) {\r\n        roomNameTag.classList.remove('taged');\r\n      }\r\n    }\r\n  });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/activate-room-name.js","import {getNodeFromMarkup, getDateValue, parseObjToHash} from './../../tools/helpers';\r\nimport renderTimeSlotInfo from './render-time-slot-info';\r\nimport {router} from './../../router';\r\n\r\nexport default class RenderEvents {\r\n\r\n  constructor(parent, inputEvents, inputDate, inputRooms, inputUsers, minuteStep) {\r\n    this.parent = parent;\r\n    this.roomArr = this.parent.querySelectorAll('.diagram__room');\r\n    this.MINUTE = 60 * 1000;\r\n    this.HOUR = 60 * this.MINUTE;\r\n    this.inputEvents = inputEvents;\r\n    this.inputDate = inputDate;\r\n    this.inputRooms = inputRooms;\r\n    this.inputUsers = inputUsers;\r\n    this.minuteStep = minuteStep;\r\n    this.now = new Date();\r\n    this.today = getDateValue(this.now).day;\r\n    this.inputDay = getDateValue(this.inputDate).day;\r\n    this.inputDayStart = this.inputDay + 8 * this.HOUR;\r\n    this.inputDayEnd = this.inputDay + 23 * this.HOUR;\r\n    this.roomsWithBusyTime = {};\r\n  }\r\n\r\n  getEventMarkup(isFilled, inputEventId, start, end) {\r\n    const extraClass = (isFilled) ? 'time-slot--filled' : 'time-slot--empty';\r\n    const timeSlotType = (isFilled) ? 'data-event-edit-trigger' : 'data-event-new-trigger';\r\n    const eventId = (inputEventId !== null) ? `data-event-id=\"${inputEventId}\"` : '';\r\n    const startTime = (typeof start !== 'undefined') ? `data-start-time = \"${start}\"` : '';\r\n    const endTime = (typeof end !== 'undefined') ? `data-end-time = \"${end}\"` : '';\r\n\r\n    return `<span class=\"time-slot ${extraClass}\" \r\n              ${eventId}\r\n              ${timeSlotType} \r\n              ${startTime} \r\n              ${endTime}></span>`;\r\n  }\r\n\r\n  getTimeNode(isFilled, inputEventId, start, end, left, width) {\r\n    const timeNode = getNodeFromMarkup(this.getEventMarkup(isFilled, inputEventId, start, end));\r\n    timeNode.style.cssText = `left: ${left}px; width: ${width}px`;\r\n    return timeNode;\r\n  }\r\n\r\n  renderPlannedEvent() {\r\n    for (let event of this.inputEvents) {\r\n      const eventDateStart = new Date(event.dateStart);\r\n      const eventDateEnd = new Date(event.dateEnd);\r\n      const eventDateStartValue = eventDateStart.valueOf();\r\n      const eventDateEndValue = eventDateEnd.valueOf();\r\n      const eventStartMinuteFromDateStart = Math.round((eventDateStartValue - this.inputDayStart) / this.MINUTE);\r\n      const eventEndMinuteFromDateStart = Math.round((eventDateEndValue - this.inputDayStart) / this.MINUTE);\r\n      const eventDuration = Math.round((eventDateEndValue - eventDateStartValue) / this.MINUTE);\r\n\r\n      for (let room of Array.from(this.roomArr)) {\r\n        const roomId = room.getAttribute('data-room-id');\r\n        const timeContainer = room.querySelector('.diagram__day');\r\n\r\n        if (event.room.id === roomId) { // Событие происходит в нужной комнате\r\n          this.eventLeft = ((eventDateStartValue - this.inputDayStart) * this.minuteStep) / this.MINUTE;\r\n          this.eventWidth = eventDuration * this.minuteStep;\r\n\r\n          let busyTimeNode = this.getTimeNode(true, event.id, eventDateStartValue, eventDateEndValue, this.eventLeft, this.eventWidth);\r\n\r\n          timeContainer.appendChild(busyTimeNode);\r\n\r\n          for (let minute = eventStartMinuteFromDateStart; minute <= eventEndMinuteFromDateStart; minute++) {\r\n            let timeStampMinute = this.inputDayStart + minute * this.MINUTE;\r\n            if (this.roomsWithBusyTime.hasOwnProperty(roomId)) {\r\n              this.roomsWithBusyTime[roomId][timeStampMinute] = event.id;\r\n            } else {\r\n              this.roomsWithBusyTime[roomId] = {\r\n                [timeStampMinute]: event.id\r\n              };\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  renderUnplannedEvents() {\r\n    const IS_TODAY_EQUAL_TO_THE_INPUT_DAY = this.today === this.inputDay;\r\n    let minutesFromHourStarted = 0;\r\n\r\n    let startMinute = (this.inputDayStart - this.inputDay) / this.MINUTE;\r\n    let endMinute = (this.inputDayEnd - this.inputDay) / this.MINUTE;\r\n\r\n    if (IS_TODAY_EQUAL_TO_THE_INPUT_DAY && this.now.getHours() >= 8) {\r\n      startMinute += (getDateValue(this.now).minute - this.inputDayStart) / this.MINUTE;\r\n      minutesFromHourStarted = this.now.getMinutes();\r\n    }\r\n\r\n    if (this.today <= this.inputDay) {\r\n      for (let room of Array.from(this.roomArr)) {\r\n        const roomId = room.getAttribute('data-room-id');\r\n        const timeContainer = room.querySelector('.diagram__day');\r\n\r\n        let roomArrWithFreeTime = [];\r\n        let roomWithFreeTime = {};\r\n        let hour = 60 - minutesFromHourStarted;\r\n        let eventDuration = 0;\r\n\r\n        for (let minute = startMinute; minute <= endMinute; minute++) {\r\n          let timeStampMinute = this.inputDay + minute * this.MINUTE;\r\n\r\n          if (hour === 1) {\r\n            hour = 60;\r\n            roomWithFreeTime.end = timeStampMinute + this.MINUTE;\r\n\r\n            roomArrWithFreeTime.push(roomWithFreeTime);\r\n            roomWithFreeTime = {};\r\n            continue;\r\n          }\r\n\r\n          if (this.roomsWithBusyTime.hasOwnProperty(roomId)) {\r\n            if (this.roomsWithBusyTime[roomId].hasOwnProperty(timeStampMinute)) {\r\n              if (roomWithFreeTime.hasOwnProperty('start')) { // Если свободное время уже было\r\n                roomWithFreeTime.end = timeStampMinute;\r\n                hour--;\r\n\r\n                roomArrWithFreeTime.push(roomWithFreeTime);\r\n                roomWithFreeTime = {};\r\n                continue;\r\n              }\r\n\r\n              eventDuration++;\r\n              roomWithFreeTime = {};\r\n              continue;\r\n            } else if (eventDuration > 0) {\r\n              roomWithFreeTime.start = timeStampMinute - this.MINUTE;\r\n              eventDuration--;\r\n              if (hour - eventDuration > 0) {\r\n                hour = hour - eventDuration - 1;\r\n              } else if (hour - eventDuration === 0) {\r\n                hour = 59;\r\n              } else if (hour - eventDuration < 0) {\r\n                hour = 59 - ((eventDuration - hour) - Math.floor((eventDuration - hour) / 60) * 60);\r\n              }\r\n\r\n              eventDuration = 0;\r\n            }\r\n          }\r\n\r\n          if (!roomWithFreeTime.hasOwnProperty('start')) {\r\n            roomWithFreeTime.start = timeStampMinute;\r\n          }\r\n\r\n          if (minute === endMinute - 1) {\r\n            roomWithFreeTime.end = timeStampMinute;\r\n            roomArrWithFreeTime.push(roomWithFreeTime);\r\n          }\r\n\r\n          hour--;\r\n        }\r\n\r\n        for (let freeTime of roomArrWithFreeTime) {\r\n          let freeTimeStart = freeTime.start;\r\n          let freeTimeDuration = (freeTime.end - freeTime.start) / this.MINUTE;\r\n\r\n          this.eventLeft = ((freeTimeStart - this.inputDayStart) * this.minuteStep) / this.MINUTE;\r\n          this.eventWidth = freeTimeDuration * this.minuteStep;\r\n\r\n          let freeTimeNode = this.getTimeNode(false, null, freeTimeStart, freeTime.end, this.eventLeft, this.eventWidth);\r\n\r\n          timeContainer.appendChild(freeTimeNode);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  freeTimeSlotHandler() {\r\n    const eventNewTriggerArr = document.querySelectorAll('[data-event-new-trigger]');\r\n    let roomId;\r\n    let startTime;\r\n    let endTime;\r\n    let eventCreateInputData = {};\r\n\r\n    for (let eventNewTrigger of eventNewTriggerArr) {\r\n      const eventNewClickHandler = () => {\r\n        startTime = eventNewTrigger.getAttribute('data-start-time');\r\n        endTime = eventNewTrigger.getAttribute('data-end-time');\r\n        roomId = eventNewTrigger.parents('.diagram__room')[0].getAttribute('data-room-id');\r\n        eventCreateInputData = {\r\n          roomId: roomId,\r\n          startTime: startTime,\r\n          endTime: endTime\r\n        };\r\n\r\n        router.navigate(`/event/${parseObjToHash(eventCreateInputData)}/create`);\r\n        eventNewTrigger.removeEventListener('click', eventNewClickHandler);\r\n      };\r\n      eventNewTrigger.addEventListener('click', eventNewClickHandler);\r\n    }\r\n  }\r\n\r\n  renderView() {\r\n    this.renderPlannedEvent();\r\n    this.renderUnplannedEvents();\r\n\r\n    renderTimeSlotInfo(this.parent, this.inputEvents, this.inputRooms, this.inputUsers);\r\n    this.freeTimeSlotHandler();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/render-events.js","import {getCoords, getNodeFromMarkup, parseObjToHash} from './../../tools/helpers';\r\nimport {monthNames} from './../../data/data';\r\nimport hideOnClickOutside from '../../tools/hide-on-click-outside';\r\nimport {router} from './../../router';\r\n\r\n\r\nconst getTimeSlotInfoTemplate = (event, rooms, users) => {\r\n  const dateStart = new Date(event.dateStart);\r\n  const dateEnd = new Date(event.dateEnd);\r\n  const getMinutes = (date) => {\r\n    return (date.getMinutes() < 10) ? `0${date.getMinutes()}` : date.getMinutes();\r\n  };\r\n  const inclineMonths = monthNames.map((month) => {\r\n    const lastLetterCharCode = month.toLowerCase().charCodeAt(month.length - 1);\r\n    let inclineMonth;\r\n\r\n    if (lastLetterCharCode === 1100 || lastLetterCharCode === 1081) {\r\n      inclineMonth = month.slice(0, -1) + 'я';\r\n    } else if (lastLetterCharCode === 1090) {\r\n      inclineMonth = month + 'а';\r\n    }\r\n    return inclineMonth.toLowerCase();\r\n  });\r\n\r\n  let roomName;\r\n  for (let room of rooms) {\r\n    if (room.id === event.room.id) {\r\n      roomName = room.title;\r\n    }\r\n  }\r\n\r\n  let userLogin;\r\n  let userAvatarUrl;\r\n\r\n  for (let user of users) {\r\n    if (user.id === event.users[0].id) {\r\n      userLogin = user.login;\r\n      userAvatarUrl = user.avatarUrl;\r\n    }\r\n  }\r\n\r\n  let members;\r\n  const usersLength = event.users.length;\r\n\r\n  if (usersLength === 1) {\r\n    members = '';\r\n  } else if (usersLength === 2) {\r\n    members = `&nbsp;и&nbsp;${usersLength - 1} участник`;\r\n  } else if (usersLength > 2 && event.users.length < 5) {\r\n    members = `&nbsp;и&nbsp;${usersLength - 1} участника`;\r\n  } else {\r\n    members = `&nbsp;и&nbsp;${usersLength - 1} участников`;\r\n  }\r\n\r\n  const time = `${dateStart.getHours()}:${getMinutes(dateStart)}—${dateEnd.getHours()}:${getMinutes(dateEnd)}`;\r\n  const eventEditInputData = {\r\n    eventId: event.id,\r\n    startTime: dateStart.getTime(),\r\n    endTime: dateEnd.getTime()\r\n  };\r\n\r\n\r\n  return `<div class=\"time-slot-info\" id=\"timeSlotInfoModal\">\r\n    <i class=\"time-slot-info__marker\"></i>\r\n    <div class=\"time-slot-info__cnt\">\r\n        <a href=\"/event/${parseObjToHash(eventEditInputData)}/edit\" class=\"time-slot-info__trigger\">\r\n            <i>\r\n                <svg width=\"12\" height=\"12\">\r\n                    <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-edit\"></use>\r\n                </svg>\r\n            </i>\r\n        </a>\r\n\r\n        <div class=\"time-slot-info__title\">\r\n            ${event.title}\r\n        </div>\r\n\r\n        <div class=\"time-slot-info__descr\">\r\n            ${dateStart.getDate()} ${inclineMonths[dateStart.getMonth()]}, ${time}&nbsp;·&nbsp;${roomName}\r\n        </div>\r\n        <div class=\"time-slot-info__users\">\r\n            <div class=\"user\">\r\n                <div class=\"user__icon\">\r\n                    <img src=\"${userAvatarUrl}\" alt=\"\">\r\n                </div>\r\n                ${userLogin}\r\n            </div>${members}\r\n        </div>\r\n    </div>\r\n  </div>`;\r\n};\r\n\r\n\r\nexport default (parent, events, rooms, users) => {\r\n  const timeSlotArr = parent.querySelectorAll('[data-event-edit-trigger]');\r\n\r\n  for ( let timeSlot of Array.from(timeSlotArr) ) {\r\n    const timeSlotClickHandler = (e) => {\r\n      e.preventDefault();\r\n\r\n      const timeSlotComputedStyle = getComputedStyle(timeSlot);\r\n      const timeSlotHeight = +timeSlotComputedStyle.height.slice(0, -2);\r\n      const timeSlotWidth = +timeSlotComputedStyle.width.slice(0, -2);\r\n      const timeSlotCoords = getCoords(timeSlot);\r\n      const timeSlotTop = timeSlotCoords.top;\r\n      const timeSlotLeft = timeSlotCoords.left;\r\n      const diagramContent = parent.querySelector('.diagram__content');\r\n      const diagramContentCoords = getCoords(diagramContent);\r\n      const diagramContentTopCoords = diagramContentCoords.top;\r\n      const windowWidth = window.innerWidth;\r\n      const timeSlotEventId = timeSlot.getAttribute('data-event-id');\r\n      let timeSlotInfoTemplate;\r\n      let timeSlotInfoNode;\r\n\r\n      for (let event of events) {\r\n        if (event.id === timeSlotEventId) {\r\n          timeSlotInfoTemplate = getTimeSlotInfoTemplate(event, rooms, users);\r\n          timeSlotInfoNode = getNodeFromMarkup(timeSlotInfoTemplate);\r\n        }\r\n      }\r\n\r\n      timeSlot.classList.add('focused');\r\n      diagramContent.appendChild(timeSlotInfoNode);\r\n\r\n      setTimeout(() => {\r\n        if (windowWidth < 1280) {\r\n          const timeSlotInfoMarker = document.querySelector('.time-slot-info__marker');\r\n          const timeSlotInfoMarkerWidth = +getComputedStyle(timeSlotInfoMarker).width.slice(0, -2);\r\n          timeSlotInfoNode.style.cssText = `top: ${timeSlotTop + timeSlotHeight}px;`;\r\n          timeSlotInfoMarker.style.left = `${timeSlotLeft + timeSlotWidth / 2 - timeSlotInfoMarkerWidth / 2}px`;\r\n        } else {\r\n          const timeSlotNodeWidth = getComputedStyle(timeSlotInfoNode).width.slice(0, -2);\r\n          const leftMoveValue = timeSlotLeft + timeSlotWidth / 2 - timeSlotNodeWidth / 2;\r\n          timeSlotInfoNode.style.cssText = `top: ${timeSlotTop - diagramContentTopCoords + timeSlotHeight}px; left: ${leftMoveValue}px`;\r\n        }\r\n        timeSlotInfoNode.classList.add('showed');\r\n      }, 100);\r\n\r\n      setTimeout(() => {\r\n        hideOnClickOutside('#timeSlotInfoModal', () => {\r\n          timeSlot.classList.remove('focused');\r\n          if (diagramContent.contains(timeSlotInfoNode)) {\r\n            diagramContent.removeChild(timeSlotInfoNode);\r\n          }\r\n        });\r\n      }, 10);\r\n\r\n      const timeSlotInfoTrigger = diagramContent.querySelector('.time-slot-info__trigger');\r\n\r\n      timeSlotInfoTrigger.addEventListener('click', (ev) => {\r\n        ev.preventDefault();\r\n        const eventHref = timeSlotInfoTrigger.getAttribute('href');\r\n\r\n        diagramContent.removeChild(timeSlotInfoNode);\r\n        timeSlot.removeEventListener('click', timeSlotClickHandler);\r\n        router.navigate(eventHref);\r\n      });\r\n    };\r\n\r\n    timeSlot.addEventListener('click', timeSlotClickHandler);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/meeting-rooms-view/render-time-slot-info.js","import {getNodeFromMarkup} from './../tools/helpers';\r\nimport {monthNames} from './../data/data';\r\n\r\nconst deletePopupTemplate = () => {\r\n  return `<div class=\"popup\" id=\"deleteEventPopup\">\r\n            <div class=\"popup__content inform-popup\">\r\n                <i class=\"inform-popup__icon inform-popup__icon--can-not\"></i>\r\n                <span class=\"inform-popup__title\">\r\n                    Встреча будет\r\n                    удалена&nbsp;безвозвратно\r\n                </span>\r\n        \r\n                <div class=\"inform-popup__buttons\">\r\n                    <button class=\"button button--gray\" data-close>Отмена</button>\r\n                    <button class=\"button button--gray\" id=\"actionBtn\">Удалить</button>\r\n                </div>\r\n            </div>\r\n        </div>`;\r\n};\r\n\r\nconst newEventTemplate = (inputData) => {\r\n  const dateStart = inputData.dateStart;\r\n  const dateEnd = inputData.dateEnd;\r\n  const inclineMonths = monthNames.map((month) => {\r\n    const lastLetterCharCode = month.toLowerCase().charCodeAt(month.length - 1);\r\n    let inclineMonth;\r\n\r\n    if (lastLetterCharCode === 1100 || lastLetterCharCode === 1081) {\r\n      inclineMonth = month.slice(0, -1) + 'я';\r\n    } else if (lastLetterCharCode === 1090) {\r\n      inclineMonth = month + 'а';\r\n    }\r\n    return inclineMonth.toLowerCase();\r\n  });\r\n  const month = inclineMonths[dateStart.getMonth()];\r\n  const getMinutes = (date) => {\r\n    return (date.getMinutes() < 10) ? `0${date.getMinutes()}` : date.getMinutes();\r\n  };\r\n  const time = `${dateStart.getHours()}:${getMinutes(dateStart)}—${dateEnd.getHours()}:${getMinutes(dateEnd)}`;\r\n  return `<div class=\"popup\">\r\n            <div class=\"popup__content inform-popup\">\r\n                <i class=\"inform-popup__icon inform-popup__icon--success\"></i>\r\n                <span class=\"inform-popup__title\">\r\n                    Встреча создана!\r\n                </span>\r\n        \r\n                <div class=\"inform-popup__info\">\r\n                    <span class=\"inform-popup__info-row\">\r\n                        ${dateStart.getDate()} ${month}, ${time}\r\n                    </span>\r\n                    <span class=\"inform-popup__info-row\">\r\n                        ${inputData.roomName} · ${inputData.roomFloor} этаж\r\n                    </span>\r\n                </div>\r\n        \r\n                <div class=\"inform-popup__buttons\">\r\n                    <button class=\"button button--blue\" id=\"actionBtn\">Хорошо</button>\r\n                </div>\r\n            </div>\r\n        </div>`;\r\n};\r\n\r\nexport default (type, inputData, callback) => {\r\n  let popupMarkup;\r\n  if (type === 'deletePopup') {\r\n    popupMarkup = deletePopupTemplate();\r\n  } else if (type === 'newEvent') {\r\n    popupMarkup = newEventTemplate(inputData);\r\n  }\r\n  const popup = getNodeFromMarkup(popupMarkup);\r\n  const body = document.querySelector('body');\r\n  const closeBtn = popup.querySelector('[data-close]');\r\n  const actionBtn = popup.querySelector('#actionBtn');\r\n  const cb = callback || function () {};\r\n\r\n  body.classList.add('modal-is-opened');\r\n  body.appendChild(popup);\r\n  popup.classList.add('opened');\r\n\r\n  actionBtn.addEventListener('click', () => {\r\n    cb();\r\n    closePopup(popup);\r\n  });\r\n\r\n  if (closeBtn === null) {\r\n    return false;\r\n  }\r\n  closeBtn.addEventListener('click', () => {\r\n    closePopup(popup);\r\n  });\r\n  return true;\r\n};\r\n\r\nconst closePopup = (popup) => {\r\n  const body = document.querySelector('body');\r\n\r\n  body.classList.remove('modal-is-opened');\r\n  body.removeChild(popup);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/showPopup.js","import EventNewView from './event-new-view';\r\nimport EventEditView from './event-edit-view';\r\n\r\nexport const eventNewView = (data) => new EventNewView(data);\r\nexport const eventEditView = (data) => new EventEditView(data);\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/index.js","import AbstractView from './../abstract-view';\r\nimport Application from './../../application';\r\nimport {router} from './../../router';\r\nimport ApiService from './../../api-service';\r\nimport Flatpickr from 'flatpickr';\r\nimport {Russian} from 'flatpickr/dist/l10n/ru.js';\r\nimport {getDateValue, getNodeFromMarkup, checkEventTarget, UserException, parseObjToHash, encodeObjFromHash} from '../../tools/helpers';\r\nimport eventFormHeader from './event-form-header';\r\nimport eventFormFooter from './event-form-footer';\r\nimport field from './field';\r\nimport getRecommendation from './get-recomendation';\r\nimport getRecommendationTagMarkup from './get-recomendation-tag';\r\nimport {getAutocompleteMarkup, autocompleteHandler} from './field-autocomplete';\r\n\r\nclass EventNewView extends AbstractView {\r\n\r\n  constructor(eventInputData) {\r\n    super(eventInputData);\r\n    this.eventInputData = eventInputData || {};\r\n    this.fieldsProps = {\r\n      'eventTitle': {\r\n        inputId: 'eventTitle',\r\n        label: 'Тема',\r\n        placeholder: 'О чём будете говорить?',\r\n        extraClass: null,\r\n        inputValue: null,\r\n        isDate: false\r\n      },\r\n      'eventDate': {\r\n        inputId: 'eventDate',\r\n        label: 'Дата',\r\n        placeholder: null,\r\n        extraClass: 'field--icon field--date',\r\n        inputValue: null,\r\n        isDate: true\r\n      },\r\n      'eventStartTime': {\r\n        inputId: 'eventStartTimeInput',\r\n        label: 'Начало',\r\n        placeholder: null,\r\n        extraClass: null,\r\n        inputValue: null,\r\n        isDate: false\r\n      },\r\n      'eventEndTime': {\r\n        inputId: 'eventEndTimeInput',\r\n        label: 'Конец',\r\n        placeholder: null,\r\n        extraClass: null,\r\n        inputValue: null,\r\n        isDate: false\r\n      },\r\n      'eventMembers': {\r\n        inputId: 'eventMembers',\r\n        label: 'Участники',\r\n        placeholder: 'Например, Тор Одинович',\r\n        extraClass: null,\r\n        inputValue: null,\r\n        isDate: false\r\n      }\r\n    };\r\n    this.appData = Application.data;\r\n    this.users = this.appData.users || {};\r\n    this.rooms = this.appData.rooms || {};\r\n\r\n    this.eventStartDate = new Date(+this.eventInputData.startTime);\r\n    this.eventDateDay = getDateValue(this.eventStartDate).day; // день в который происходят все события\r\n\r\n    this.initialAppDate = new Date();\r\n    this.initialAppDay = getDateValue(this.initialAppDate).day; // день инициализации приложения\r\n    this.eventUsers = [];\r\n\r\n    this.cancelBtnHandler = this.cancelBtnHandler.bind(this);\r\n    this.getAutocompleteHandler = this.getAutocompleteHandler.bind(this);\r\n    this.addUserHandler = this.addUserHandler.bind(this);\r\n    this.removeUserHandler = this.removeUserHandler.bind(this);\r\n    this.createEventHandler = this.createEventHandler.bind(this);\r\n    this.recommendationTagDeleteBtnHandler = this.recommendationTagDeleteBtnHandler.bind(this);\r\n  }\r\n\r\n  getMarkup() {\r\n    const header = '<header class=\"header\"><div class=\"logo\"></div></header>';\r\n\r\n    if (this.eventInputData.hasOwnProperty('startTime')) {\r\n      this.eventStartDate = new Date(+this.eventInputData.startTime);\r\n      this.eventEndDate = new Date(+this.eventInputData.endTime);\r\n    } else {\r\n      this.eventStartDate = new Date();\r\n      this.eventEndDate = new Date(this.eventStartDate.getTime() + 30 * 60 * 1000); // +30 минут\r\n    }\r\n\r\n    this.eventDate = {\r\n      start: getDateValue(this.eventStartDate).minute,\r\n      end: getDateValue(this.eventEndDate).minute\r\n    };\r\n\r\n    return `<div class=\"event-page\" id=\"app\">\r\n              ${header} \r\n              <div class=\"event-form event-form--new\">\r\n                <div class=\"event-form__header\">${eventFormHeader(false)}</div>\r\n                <div class=\"event-form__body\">\r\n                  <div class=\"event-form__col\">\r\n                    ${field(this.fieldsProps.eventTitle)}\r\n                  </div>\r\n                  \r\n                  <div class=\"event-form__col event-form__col--flex\">\r\n                    <div class=\"event-form__col-date\">\r\n                      ${field(this.fieldsProps.eventDate)}\r\n                    </div>\r\n                    \r\n                    <div class=\"event-form__col-time\">\r\n                      ${field(this.fieldsProps.eventStartTime)}\r\n                      <i class=\"event-form__col-time-separator\"></i>\r\n                      ${field(this.fieldsProps.eventEndTime)}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div class=\"event-form__col\">\r\n                    ${getAutocompleteMarkup(this.fieldsProps.eventMembers)}                  \r\n                  </div>\r\n                  \r\n                  <div class=\"event-form__col\">\r\n                    <div class=\"recommendations hidden\" id=\"recomParent\">\r\n                      <div class=\"recommendations__title\">Рекомендованные переговорки</div>\r\n                      <div class=\"recomendations__cnt\"></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"event-form__footer\">\r\n                  <div class=\"event-form__validation\">\r\n                    <div class=\"event-form__validation-content\"></div>\r\n                  </div>\r\n                  ${eventFormFooter(false)}\r\n                </div>\r\n            </div>\r\n            </div>`;\r\n  }\r\n\r\n  cancelBtnHandler(event) {\r\n    const day = {\r\n      date: this.eventInputData.startTime\r\n    };\r\n    event.preventDefault();\r\n    this.clearHandlers();\r\n    router.navigate(`/date/${parseObjToHash(day)}`);\r\n  }\r\n\r\n  getAutocompleteHandler(event) {\r\n    autocompleteHandler(event, this.users);\r\n  }\r\n\r\n  createEventHandler() {\r\n    try {\r\n      this.tryCreateEventHandler();\r\n    } catch (msg) {\r\n      this.showErrorMessage(msg);\r\n    }\r\n  }\r\n\r\n  tryCreateEventHandler() {\r\n    const eventTitle = this.element.querySelector('#eventTitle').value;\r\n    const userTagArr = this.element.querySelectorAll('.user-tag');\r\n    const recommendationTagSelected = this.element.querySelector('.recommendation-tag--selected');\r\n    if (recommendationTagSelected === null) {\r\n      throw new UserException('Вы не выбрали переговорку.');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n    const recomSwap = recommendationTagSelected.getAttribute('data-swap');\r\n    const roomId = recommendationTagSelected.getAttribute('data-room-id');\r\n    const dateStart = new Date(this.eventTimeStartDatepickr.selectedDates);\r\n    const dateEnd = new Date(this.eventTimeEndDatepickr.selectedDates);\r\n    const now = new Date();\r\n    const currentMinute = getDateValue(now).minute;\r\n\r\n    let users = [];\r\n    for (let userTag of Array.from(userTagArr)) {\r\n      let userId = userTag.getAttribute('data-user-id');\r\n      users.push(userId);\r\n    }\r\n\r\n    if (eventTitle.length === 0) {\r\n      throw new UserException('Введите название мероприятия');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    if (users.length === 0) {\r\n      throw new UserException('Выберите участников события');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    if (roomId === null) {\r\n      throw new UserException('Выберите комнату из рекомменадций');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    if (currentMinute > getDateValue(dateStart).minute) {\r\n      throw new UserException('Время вышло. Пожалуйста, обновите время');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    const eventInput = `{\r\n      title: \"${eventTitle}\",\r\n      dateStart: \"${dateStart.toISOString()}\",\r\n      dateEnd: \"${dateEnd.toISOString()}\"\r\n    }`;\r\n    const usersInput = `[${users}]`;\r\n    const self = this;\r\n\r\n    const createEvent = () => {\r\n      return ApiService.createEvent(eventInput, usersInput, roomId)\r\n          .then(() => {\r\n            return ApiService.getAll();\r\n          })\r\n          .then((data) => {\r\n            const newData = Object.assign({}, data, {\r\n              date: self.eventStartDate,\r\n              newEvent: {\r\n                dateStart: dateStart,\r\n                dateEnd: dateEnd,\r\n                roomId: roomId\r\n              }\r\n            });\r\n            self.clearHandlers();\r\n            Application.data = newData;\r\n            router.navigate();\r\n          });\r\n    };\r\n\r\n    if (recomSwap !== null) {\r\n      let swapArr = recomSwap.split('|');\r\n      let swapObj;\r\n\r\n      for (let swap of swapArr) {\r\n        if (swap.length > 0) {\r\n          swapObj = encodeObjFromHash(swap);\r\n\r\n          ApiService.changeEventRoom(swapObj.event, swapObj.room)\r\n              .then(() => {\r\n                return createEvent();\r\n              });\r\n        }\r\n      }\r\n    } else {\r\n      createEvent();\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  recommendationTagClickHandler(recommendationTag) {\r\n    const recommendationTagTime = recommendationTag.querySelector('.recommendation-tag__time');\r\n    const startDate = recommendationTagTime.getAttribute('data-start-date');\r\n    const endDate = recommendationTagTime.getAttribute('data-end-date');\r\n\r\n    this.recomParentTitle.innerHTML = 'Ваша переговорка';\r\n    recommendationTag.classList.add('recommendation-tag--selected');\r\n\r\n    const recomTagArr = this.recomContainer.querySelectorAll('.recommendation-tag');\r\n\r\n    for (let item of Array.from(recomTagArr)) {\r\n      this.recomContainer.removeChild(item);\r\n    }\r\n\r\n    const deleteBtn = recommendationTag.querySelector('.recommendation-tag__delete');\r\n    deleteBtn.addEventListener('click', this.recommendationTagDeleteBtnHandler);\r\n    this.recomContainer.appendChild(recommendationTag);\r\n\r\n    this.createBtn.classList.remove('button--disabled');\r\n    this.eventTimeStartDatepickr.setDate(new Date(+startDate));\r\n    this.eventTimeEndDatepickr.setDate(new Date(+endDate));\r\n    this.createBtn.addEventListener('click', this.createEventHandler);\r\n  }\r\n\r\n  recommendationTagDeleteBtnHandler(event) {\r\n    const recommendationTag = event.target.parents('.recommendation-tag')[0];\r\n    this.recomParent.classList.add('hidden');\r\n    recommendationTag.parentNode.removeChild(recommendationTag);\r\n    this.createBtn.classList.add('button--disabled');\r\n    this.createBtn.removeEventListener('click', this.createEventHandler);\r\n    this.handleRecommendation();\r\n  }\r\n\r\n  addUserHandler(event) { // Срабатывает при добавление участника события\r\n    let usersId = [];\r\n    for (let eventUser of this.eventUsers) {\r\n      usersId.push(eventUser.id);\r\n    }\r\n    if (usersId.indexOf(event.detail.userId) === -1) {\r\n      this.eventUsers.push({id: event.detail.userId});\r\n    }\r\n    this.handleRecommendation();\r\n  }\r\n\r\n  removeUserHandler(event) { // Срабатывает при удалении участника события\r\n    let newArr = [];\r\n    for (let eventUser of this.eventUsers) {\r\n      if (eventUser.id !== event.detail.userId) {\r\n        newArr.push(eventUser);\r\n      }\r\n    }\r\n    this.eventUsers = newArr;\r\n    this.handleRecommendation();\r\n  }\r\n\r\n  clearRecommendations() {\r\n    this.recomContainer.innerHTML = 'Нет рекомендаций';\r\n  }\r\n\r\n  renderRecommendations(recommendations) {\r\n    this.recomParentTitle.innerHTML = 'Рекомендованные переговорки';\r\n    this.recomParent.classList.remove('hidden');\r\n\r\n    if (recommendations.length === 0) {\r\n      this.clearRecommendations();\r\n    } else {\r\n      this.recomContainer.innerHTML = '';\r\n    }\r\n\r\n    for (let recom of recommendations) {\r\n      let recomMarkup = getRecommendationTagMarkup(recom, false);\r\n      let recomNode = getNodeFromMarkup(recomMarkup);\r\n\r\n      recomNode.addEventListener('click', (event) => {\r\n        let recomContent = recomNode.querySelector('.recommendation-tag__content');\r\n        let recomContentChildsIsTarget = checkEventTarget(event, recomContent);\r\n        if (event.target === recomContent || recomContentChildsIsTarget) {\r\n          this.recommendationTagClickHandler(recomNode);\r\n        }\r\n      });\r\n      this.recomContainer.appendChild(recomNode);\r\n    }\r\n  }\r\n\r\n  bindHandlers() {\r\n    this.cancelBtnArr = this.element.querySelectorAll('[data-cancel]');\r\n    this.autocomplete = this.element.querySelector('[data-autocomplete]');\r\n\r\n    for (let cancelBtn of Array.from(this.cancelBtnArr)) {\r\n      cancelBtn.addEventListener('click', this.cancelBtnHandler);\r\n    }\r\n\r\n    this.autocomplete.addEventListener('keyup', this.getAutocompleteHandler);\r\n\r\n    this.recomParent = this.element.querySelector('#recomParent');\r\n    this.recomParentTitle = this.recomParent.querySelector('.recommendations__title');\r\n    this.recomContainer = this.recomParent.querySelector('.recomendations__cnt');\r\n\r\n    document.addEventListener('addUserToEvent', this.addUserHandler);\r\n    document.addEventListener('removeUserFromEvent', this.removeUserHandler);\r\n\r\n    this.createBtn = this.element.querySelector('#createBtn');\r\n\r\n    this.eventFormValidation = this.element.querySelector('.event-form__validation');\r\n    this.eventFormValidationContent = this.eventFormValidation.querySelector('.event-form__validation-content');\r\n  }\r\n\r\n  clearHandlers() {\r\n    for (let cancelBtn of Array.from(this.cancelBtnArr)) {\r\n      cancelBtn.removeEventListener('click', this.cancelBtnHandler);\r\n    }\r\n    this.eventDateDatepickr.destroy();\r\n    this.eventTimeStartDatepickr.destroy();\r\n    this.eventTimeEndDatepickr.destroy();\r\n    this.autocomplete.removeEventListener('keyup', this.getAutocompleteHandler);\r\n\r\n    document.removeEventListener('addUserToEvent', this.addUserHandler);\r\n    document.removeEventListener('removeUserFromEvent', this.removeUserHandler);\r\n    this.createBtn.removeEventListener('click', this.createEventHandler);\r\n  }\r\n\r\n  handleRecommendation() {\r\n    try {\r\n      this.tryHandleRecommendation();\r\n    } catch (msg) {\r\n      this.showErrorMessage(msg);\r\n    }\r\n  }\r\n\r\n  tryHandleRecommendation() {\r\n    this.members = [];\r\n    let person = {};\r\n\r\n    if ((this.eventDate.end - this.eventDate.start) / 60000 < 15) {\r\n      this.clearRecommendations();\r\n      throw new UserException('Минимальная продолжительность события - 15 минут');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    if (this.eventDateDay < this.initialAppDay) {\r\n      this.clearRecommendations();\r\n      throw new UserException('Нельзя создавать события в прошлом');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    for (let eventUser of this.eventUsers) {\r\n      for (let user of this.users) {\r\n        if (eventUser.id === user.id) {\r\n          person = {\r\n            login: user.login,\r\n            floor: user.homeFloor,\r\n            avatarUrl: user.avatarUrl\r\n          };\r\n          this.members.push(person);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.members.length === 0) {\r\n      this.clearRecommendations();\r\n      throw new UserException('Выберите участников события');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    // Удалить редактируемое событие из списка событий\r\n    const events = this.appData.events[this.eventDateDay] || [];\r\n    const db = {\r\n      events: events,\r\n      rooms: this.appData.rooms,\r\n      persons: this.appData.users\r\n    };\r\n\r\n    this.recommendationArr = getRecommendation(this.eventDate, this.members, db);\r\n\r\n    return this.renderRecommendations(this.recommendationArr);\r\n  }\r\n\r\n  showErrorMessage(msg) {\r\n    this.eventFormValidationContent.innerHTML = msg;\r\n    this.eventFormValidation.classList.add('show');\r\n  }\r\n\r\n  clearErrorContainer() {\r\n    if (this.eventFormValidation.classList.contains('show')) {\r\n      this.eventFormValidation.classList.remove('show');\r\n    }\r\n  }\r\n\r\n  viewRendered() {\r\n    this.eventDateDatepickr = new Flatpickr('#date', {\r\n      locale: Russian,\r\n      altInput: true,\r\n      altFormat: 'j F, Y',\r\n      defaultDate: this.eventStartDate,\r\n      wrap: true,\r\n      disableMobile: 'true',\r\n      onChange: (selectedDates) => {\r\n        const newDay = getDateValue(new Date(selectedDates)).day;\r\n        const eventDayMinute = getDateValue(this.eventStartDate).minute - getDateValue(this.eventStartDate).day;\r\n        const eventEndDayMinute = getDateValue(this.eventEndDate).minute - getDateValue(this.eventStartDate).day;\r\n        this.eventStartDate = new Date(newDay + eventDayMinute);\r\n        this.eventEndDate = new Date(newDay + eventEndDayMinute);\r\n        this.eventTimeStartDatepickr.setDate(this.eventStartDate);\r\n        this.eventTimeEndDatepickr.setDate(this.eventEndDate);\r\n      }\r\n    });\r\n    this.eventTimeStartDatepickr = new Flatpickr('#eventStartTimeInput', {\r\n      enableTime: true,\r\n      noCalendar: true,\r\n      dateFormat: 'H:i',\r\n      time_24hr: true,\r\n      defaultDate: this.eventStartDate,\r\n      onChange: (selectedDates) => {\r\n        const start = new Date(selectedDates);\r\n        this.eventDate.start = start.getTime();\r\n        this.handleRecommendation();\r\n      }\r\n    });\r\n    this.eventTimeEndDatepickr = new Flatpickr('#eventEndTimeInput', {\r\n      enableTime: true,\r\n      noCalendar: true,\r\n      dateFormat: 'H:i',\r\n      time_24hr: true,\r\n      defaultDate: this.eventEndDate,\r\n      onChange: (selectedDates) => {\r\n        const end = new Date(selectedDates);\r\n        this.eventDate.end = end.getTime();\r\n        this.handleRecommendation();\r\n      }\r\n\r\n    });\r\n  }\r\n}\r\n\r\nexport default EventNewView;\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/event-new-view.js","import 'whatwg-fetch';\r\nimport {query, mutation} from './queries';\r\nimport grapnhQlRequest from './grapnhql-request';\r\nimport {getDateValue} from './../tools/helpers';\r\n\r\n\r\nclass ApiService {\r\n\r\n  getRooms() {\r\n    return grapnhQlRequest(query.rooms);\r\n  }\r\n\r\n  getEvents() {\r\n    return grapnhQlRequest(query.events);\r\n  }\r\n\r\n  getUsers() {\r\n    return grapnhQlRequest(query.users);\r\n  }\r\n\r\n  getAll() {\r\n    const responseData = {};\r\n    let getAllRequest = new Promise((resolve, reject) => {\r\n      resolve(this.getRooms());\r\n    });\r\n    return getAllRequest\r\n        .then((res) => {\r\n          responseData.rooms = res.data.rooms;\r\n          return this.getEvents();\r\n        })\r\n        .then((res) => {\r\n          /**\r\n           * @typedef {Object} EventsSortedByDate\r\n           * @property {Event[]} timestamp Встречи отсортированные по дате.\r\n           */\r\n          let eventsSortedByDate = {};\r\n          for (let event of res.data.events) {\r\n            const dateStart = new Date(event.dateStart);\r\n            const dateStartDay = getDateValue(dateStart).day;\r\n\r\n            if (!eventsSortedByDate.hasOwnProperty(dateStartDay)) {\r\n              eventsSortedByDate[dateStartDay] = [event];\r\n            } else {\r\n              eventsSortedByDate[dateStartDay].push(event);\r\n            }\r\n          }\r\n          responseData.events = eventsSortedByDate;\r\n\r\n          // console.log(eventsSortedByDate);\r\n          return this.getUsers();\r\n        })\r\n        .then((res) => {\r\n          responseData.users = res.data.users;\r\n          return responseData;\r\n        })\r\n        .catch((error) => {\r\n          throw new Error(`Rejected: ${error}`);\r\n        });\r\n  }\r\n\r\n  createEvent(eventInput, usersIds, roomId) {\r\n    return grapnhQlRequest(mutation.createEvent(eventInput, usersIds, roomId));\r\n  }\r\n\r\n  removeEvent(eventId) {\r\n    return grapnhQlRequest(mutation.removeEvent(eventId));\r\n  }\r\n\r\n  updateEvent(eventId, eventInput) {\r\n    return grapnhQlRequest(mutation.updateEvent(eventId, eventInput));\r\n  }\r\n\r\n  changeEventRoom(eventId, roomId) {\r\n    return grapnhQlRequest(mutation.changeEventRoom(eventId, roomId));\r\n  }\r\n\r\n  editEvent(eventId, eventInput, usersInput, roomId) {\r\n    let editEvent = new Promise((resolve, reject) => {\r\n      resolve(this.removeEvent(eventId));\r\n    });\r\n    return editEvent\r\n        .then(() => {\r\n          return this.createEvent(eventInput, usersInput, roomId);\r\n        })\r\n        .catch((error) => {\r\n          throw new Error(`Rejected: ${error}`);\r\n        });\r\n  }\r\n}\r\n\r\nexport default new ApiService();\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/api-service/index.js","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/~/whatwg-fetch/fetch.js","import query from './query';\r\nimport mutation from './mutation';\r\n\r\nexport {query, mutation};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/api-service/queries/index.js","export default {\r\n  users: `\r\n  {\r\n    users {\r\n      id,\r\n      login,\r\n      homeFloor,\r\n      avatarUrl\r\n    }\r\n  }`,\r\n  rooms: `\r\n  {\r\n    rooms {\r\n      id,\r\n      title,\r\n      capacity,\r\n      floor\r\n    }\r\n  }`,\r\n  events: `\r\n  {\r\n    events {\r\n      id,\r\n      title,\r\n      dateStart,\r\n      dateEnd,\r\n      users {\r\n        id\r\n      },\r\n      room {\r\n        id\r\n      }\r\n    }\r\n  }`\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/api-service/queries/query.js","export default {\r\n  createEvent: (eventInput, usersIds, roomId) => {\r\n    return `\r\n    mutation {\r\n      createEvent(input: ${eventInput}, usersIds: ${usersIds}, roomId: ${roomId}) {\r\n        id,\r\n        title,\r\n        dateStart,\r\n        dateEnd,\r\n        users {\r\n          id\r\n        },\r\n        room {\r\n          id\r\n        }\r\n      }\r\n    }`;\r\n  },\r\n  removeEvent: (eventId) => {\r\n    return `\r\n    mutation {\r\n      removeEvent(id: ${eventId}) {\r\n        id,\r\n      }\r\n    }`;\r\n  },\r\n  updateEvent: (id, eventInput) => {\r\n    return `\r\n    mutation {\r\n      updateEvent(id: ${id}, input: ${eventInput}) {\r\n        id,\r\n        title,\r\n        dateStart,\r\n        dateEnd,\r\n        users {\r\n          id\r\n        },\r\n        room {\r\n          id\r\n        }\r\n      }\r\n    }`;\r\n  },\r\n  changeEventRoom: (id, roomId) => {\r\n    return `\r\n    mutation {\r\n      changeEventRoom(id: ${id}, roomId: ${roomId}) {\r\n        id,\r\n        title,\r\n        dateStart,\r\n        dateEnd,\r\n        users {\r\n          id\r\n        },\r\n        room {\r\n          id\r\n        }\r\n      }\r\n    }`;\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/api-service/queries/mutation.js","const checkStatus = (response) => {\r\n  if (response.status >= 200 && response.status < 300) {\r\n    return response;\r\n  } else {\r\n    throw new Error(`${response.status}: ${response.statusText}`);\r\n  }\r\n};\r\n\r\nconst parseJSON = (response) => response.json();\r\n\r\nconst requestAddr = 'http://localhost:3000';\r\n\r\nexport default (request) => {\r\n  return window.fetch(`${requestAddr}/graphql`, {\r\n    method: 'POST',\r\n    headers: {'Content-Type': 'application/json'},\r\n    body: JSON.stringify({query: request})\r\n  })\r\n      .then(checkStatus)\r\n      .then(parseJSON);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/api-service/grapnhql-request.js","/* flatpickr v4.2.3, @license MIT */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.flatpickr = {})));\n}(this, (function (exports) { 'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\n\nvar pad = function (number) { return (\"0\" + number).slice(-2); };\r\nvar int = function (bool) { return (bool === true ? 1 : 0); };\r\nfunction debounce(func, wait, immediate) {\r\n    if (immediate === void 0) { immediate = false; }\r\n    var timeout;\r\n    return function () {\r\n        var context = this, args = arguments;\r\n        timeout !== null && clearTimeout(timeout);\r\n        timeout = window.setTimeout(function () {\r\n            timeout = null;\r\n            if (!immediate)\r\n                func.apply(context, args);\r\n        }, wait);\r\n        if (immediate && !timeout)\r\n            func.apply(context, args);\r\n    };\r\n}\r\nvar arrayify = function (obj) {\r\n    return obj instanceof Array ? obj : [obj];\r\n};\r\nfunction mouseDelta(e) {\r\n    var delta = e.wheelDelta || -e.deltaY;\r\n    return delta >= 0 ? 1 : -1;\r\n}\n\nvar do_nothing = function () { return undefined; };\r\nvar revFormat = {\r\n    D: do_nothing,\r\n    F: function (dateObj, monthName, locale) {\r\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\r\n    },\r\n    G: function (dateObj, hour) {\r\n        dateObj.setHours(parseFloat(hour));\r\n    },\r\n    H: function (dateObj, hour) {\r\n        dateObj.setHours(parseFloat(hour));\r\n    },\r\n    J: function (dateObj, day) {\r\n        dateObj.setDate(parseFloat(day));\r\n    },\r\n    K: function (dateObj, amPM, locale) {\r\n        dateObj.setHours(dateObj.getHours() % 12 +\r\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\r\n    },\r\n    M: function (dateObj, shortMonth, locale) {\r\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\r\n    },\r\n    S: function (dateObj, seconds) {\r\n        dateObj.setSeconds(parseFloat(seconds));\r\n    },\r\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\r\n    W: function (dateObj, weekNum) {\r\n        var weekNumber = parseInt(weekNum);\r\n        return new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\r\n    },\r\n    Y: function (dateObj, year) {\r\n        dateObj.setFullYear(parseFloat(year));\r\n    },\r\n    Z: function (_, ISODate) { return new Date(ISODate); },\r\n    d: function (dateObj, day) {\r\n        dateObj.setDate(parseFloat(day));\r\n    },\r\n    h: function (dateObj, hour) {\r\n        dateObj.setHours(parseFloat(hour));\r\n    },\r\n    i: function (dateObj, minutes) {\r\n        dateObj.setMinutes(parseFloat(minutes));\r\n    },\r\n    j: function (dateObj, day) {\r\n        dateObj.setDate(parseFloat(day));\r\n    },\r\n    l: do_nothing,\r\n    m: function (dateObj, month) {\r\n        dateObj.setMonth(parseFloat(month) - 1);\r\n    },\r\n    n: function (dateObj, month) {\r\n        dateObj.setMonth(parseFloat(month) - 1);\r\n    },\r\n    s: function (dateObj, seconds) {\r\n        dateObj.setSeconds(parseFloat(seconds));\r\n    },\r\n    w: do_nothing,\r\n    y: function (dateObj, year) {\r\n        dateObj.setFullYear(2000 + parseFloat(year));\r\n    },\r\n};\r\nvar tokenRegex = {\r\n    D: \"(\\\\w+)\",\r\n    F: \"(\\\\w+)\",\r\n    G: \"(\\\\d\\\\d|\\\\d)\",\r\n    H: \"(\\\\d\\\\d|\\\\d)\",\r\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\r\n    K: \"\",\r\n    M: \"(\\\\w+)\",\r\n    S: \"(\\\\d\\\\d|\\\\d)\",\r\n    U: \"(.+)\",\r\n    W: \"(\\\\d\\\\d|\\\\d)\",\r\n    Y: \"(\\\\d{4})\",\r\n    Z: \"(.+)\",\r\n    d: \"(\\\\d\\\\d|\\\\d)\",\r\n    h: \"(\\\\d\\\\d|\\\\d)\",\r\n    i: \"(\\\\d\\\\d|\\\\d)\",\r\n    j: \"(\\\\d\\\\d|\\\\d)\",\r\n    l: \"(\\\\w+)\",\r\n    m: \"(\\\\d\\\\d|\\\\d)\",\r\n    n: \"(\\\\d\\\\d|\\\\d)\",\r\n    s: \"(\\\\d\\\\d|\\\\d)\",\r\n    w: \"(\\\\d\\\\d|\\\\d)\",\r\n    y: \"(\\\\d{2})\",\r\n};\r\nvar formats = {\r\n    Z: function (date) { return date.toISOString(); },\r\n    D: function (date, locale, options) {\r\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\r\n    },\r\n    F: function (date, locale, options) {\r\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\r\n    },\r\n    G: function (date, locale, options) {\r\n        return pad(formats.h(date, locale, options));\r\n    },\r\n    H: function (date) { return pad(date.getHours()); },\r\n    J: function (date, locale) {\r\n        return locale.ordinal !== undefined\r\n            ? date.getDate() + locale.ordinal(date.getDate())\r\n            : date.getDate();\r\n    },\r\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\r\n    M: function (date, locale) {\r\n        return monthToStr(date.getMonth(), true, locale);\r\n    },\r\n    S: function (date) { return pad(date.getSeconds()); },\r\n    U: function (date) { return date.getTime() / 1000; },\r\n    W: function (date, _, options) {\r\n        return options.getWeek(date);\r\n    },\r\n    Y: function (date) { return date.getFullYear(); },\r\n    d: function (date) { return pad(date.getDate()); },\r\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\r\n    i: function (date) { return pad(date.getMinutes()); },\r\n    j: function (date) { return date.getDate(); },\r\n    l: function (date, locale) {\r\n        return locale.weekdays.longhand[date.getDay()];\r\n    },\r\n    m: function (date) { return pad(date.getMonth() + 1); },\r\n    n: function (date) { return date.getMonth() + 1; },\r\n    s: function (date) { return date.getSeconds(); },\r\n    w: function (date) { return date.getDay(); },\r\n    y: function (date) { return String(date.getFullYear()).substring(2); },\r\n};\n\nvar english = {\r\n    weekdays: {\r\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n        longhand: [\r\n            \"Sunday\",\r\n            \"Monday\",\r\n            \"Tuesday\",\r\n            \"Wednesday\",\r\n            \"Thursday\",\r\n            \"Friday\",\r\n            \"Saturday\",\r\n        ],\r\n    },\r\n    months: {\r\n        shorthand: [\r\n            \"Jan\",\r\n            \"Feb\",\r\n            \"Mar\",\r\n            \"Apr\",\r\n            \"May\",\r\n            \"Jun\",\r\n            \"Jul\",\r\n            \"Aug\",\r\n            \"Sep\",\r\n            \"Oct\",\r\n            \"Nov\",\r\n            \"Dec\",\r\n        ],\r\n        longhand: [\r\n            \"January\",\r\n            \"February\",\r\n            \"March\",\r\n            \"April\",\r\n            \"May\",\r\n            \"June\",\r\n            \"July\",\r\n            \"August\",\r\n            \"September\",\r\n            \"October\",\r\n            \"November\",\r\n            \"December\",\r\n        ],\r\n    },\r\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\r\n    firstDayOfWeek: 0,\r\n    ordinal: function (nth) {\r\n        var s = nth % 100;\r\n        if (s > 3 && s < 21)\r\n            return \"th\";\r\n        switch (s % 10) {\r\n            case 1:\r\n                return \"st\";\r\n            case 2:\r\n                return \"nd\";\r\n            case 3:\r\n                return \"rd\";\r\n            default:\r\n                return \"th\";\r\n        }\r\n    },\r\n    rangeSeparator: \" to \",\r\n    weekAbbreviation: \"Wk\",\r\n    scrollTitle: \"Scroll to increment\",\r\n    toggleTitle: \"Click to toggle\",\r\n    amPM: [\"AM\", \"PM\"],\r\n};\n\nvar createDateFormatter = function (_a) {\r\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\r\n    return function (dateObj, frmt) {\r\n        if (config.formatDate !== undefined)\r\n            return config.formatDate(dateObj, frmt);\r\n        return frmt\r\n            .split(\"\")\r\n            .map(function (c, i, arr) {\r\n            return formats[c] && arr[i - 1] !== \"\\\\\"\r\n                ? formats[c](dateObj, l10n, config)\r\n                : c !== \"\\\\\" ? c : \"\";\r\n        })\r\n            .join(\"\");\r\n    };\r\n};\r\nvar createDateParser = function (_a) {\r\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\r\n    return function (date, givenFormat, timeless) {\r\n        if (date !== 0 && !date)\r\n            return undefined;\r\n        var parsedDate;\r\n        var date_orig = date;\r\n        if (date instanceof Date)\r\n            parsedDate = new Date(date.getTime());\r\n        else if (typeof date !== \"string\" &&\r\n            date.toFixed !== undefined)\r\n            parsedDate = new Date(date);\r\n        else if (typeof date === \"string\") {\r\n            var format = givenFormat || (config || defaults).dateFormat;\r\n            var datestr = String(date).trim();\r\n            if (datestr === \"today\") {\r\n                parsedDate = new Date();\r\n                timeless = true;\r\n            }\r\n            else if (/Z$/.test(datestr) ||\r\n                /GMT$/.test(datestr))\r\n                parsedDate = new Date(date);\r\n            else if (config && config.parseDate)\r\n                parsedDate = config.parseDate(date, format);\r\n            else {\r\n                parsedDate =\r\n                    !config || !config.noCalendar\r\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\r\n                        : new Date(new Date().setHours(0, 0, 0, 0));\r\n                var matched = void 0, ops = [];\r\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\r\n                    var token = format[i];\r\n                    var isBackSlash = token === \"\\\\\";\r\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\r\n                    if (tokenRegex[token] && !escaped) {\r\n                        regexStr += tokenRegex[token];\r\n                        var match = new RegExp(regexStr).exec(date);\r\n                        if (match && (matched = true)) {\r\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\r\n                                fn: revFormat[token],\r\n                                val: match[++matchIndex],\r\n                            });\r\n                        }\r\n                    }\r\n                    else if (!isBackSlash)\r\n                        regexStr += \".\";\r\n                    ops.forEach(function (_a) {\r\n                        var fn = _a.fn, val = _a.val;\r\n                        return (parsedDate = fn(parsedDate, val, l10n) || parsedDate);\r\n                    });\r\n                }\r\n                parsedDate = matched ? parsedDate : undefined;\r\n            }\r\n        }\r\n        if (!(parsedDate instanceof Date)) {\r\n            config.errorHandler(new Error(\"Invalid date provided: \" + date_orig));\r\n            return undefined;\r\n        }\r\n        if (timeless === true)\r\n            parsedDate.setHours(0, 0, 0, 0);\r\n        return parsedDate;\r\n    };\r\n};\r\nfunction compareDates(date1, date2, timeless) {\r\n    if (timeless === void 0) { timeless = true; }\r\n    if (timeless !== false) {\r\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\r\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\r\n    }\r\n    return date1.getTime() - date2.getTime();\r\n}\r\n\r\nvar monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\r\nvar getWeek = function (givenDate) {\r\n    var date = new Date(givenDate.getTime());\r\n    date.setHours(0, 0, 0, 0);\r\n    date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);\r\n    var week1 = new Date(date.getFullYear(), 0, 4);\r\n    return (1 +\r\n        Math.round(((date.getTime() - week1.getTime()) / 86400000 -\r\n            3 +\r\n            (week1.getDay() + 6) % 7) /\r\n            7));\r\n};\r\nvar duration = {\r\n    DAY: 86400000,\r\n};\n\nvar defaults = {\r\n    _disable: [],\r\n    _enable: [],\r\n    allowInput: false,\r\n    altFormat: \"F j, Y\",\r\n    altInput: false,\r\n    altInputClass: \"form-control input\",\r\n    animate: typeof window === \"object\" &&\r\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\r\n    ariaDateFormat: \"F j, Y\",\r\n    clickOpens: true,\r\n    closeOnSelect: true,\r\n    conjunction: \", \",\r\n    dateFormat: \"Y-m-d\",\r\n    defaultHour: 12,\r\n    defaultMinute: 0,\r\n    defaultSeconds: 0,\r\n    disable: [],\r\n    disableMobile: false,\r\n    enable: [],\r\n    enableSeconds: false,\r\n    enableTime: false,\r\n    errorHandler: console.warn,\r\n    getWeek: getWeek,\r\n    hourIncrement: 1,\r\n    ignoredFocusElements: [],\r\n    inline: false,\r\n    locale: \"default\",\r\n    minuteIncrement: 5,\r\n    mode: \"single\",\r\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\r\n    noCalendar: false,\r\n    onChange: [],\r\n    onClose: [],\r\n    onDayCreate: [],\r\n    onDestroy: [],\r\n    onKeyDown: [],\r\n    onMonthChange: [],\r\n    onOpen: [],\r\n    onParseConfig: [],\r\n    onReady: [],\r\n    onValueUpdate: [],\r\n    onYearChange: [],\r\n    onPreCalendarPosition: [],\r\n    plugins: [],\r\n    position: \"auto\",\r\n    positionElement: undefined,\r\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\r\n    shorthandCurrentMonth: false,\r\n    static: false,\r\n    time_24hr: false,\r\n    weekNumbers: false,\r\n    wrap: false,\r\n};\n\nfunction toggleClass(elem, className, bool) {\r\n    if (bool === true)\r\n        return elem.classList.add(className);\r\n    elem.classList.remove(className);\r\n}\r\nfunction createElement(tag, className, content) {\r\n    var e = window.document.createElement(tag);\r\n    className = className || \"\";\r\n    content = content || \"\";\r\n    e.className = className;\r\n    if (content !== undefined)\r\n        e.textContent = content;\r\n    return e;\r\n}\r\nfunction clearNode(node) {\r\n    while (node.firstChild)\r\n        node.removeChild(node.firstChild);\r\n}\r\nfunction findParent(node, condition) {\r\n    if (condition(node))\r\n        return node;\r\n    else if (node.parentNode)\r\n        return findParent(node.parentNode, condition);\r\n    return undefined;\r\n}\r\nfunction createNumberInput(inputClassName, opts) {\r\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\r\n    numInput.type = \"text\";\r\n    numInput.pattern = \"\\\\d*\";\r\n    if (opts !== undefined)\r\n        for (var key in opts)\r\n            numInput.setAttribute(key, opts[key]);\r\n    wrapper.appendChild(numInput);\r\n    wrapper.appendChild(arrowUp);\r\n    wrapper.appendChild(arrowDown);\r\n    return wrapper;\r\n}\n\nif (typeof Object.assign !== \"function\") {\r\n    Object.assign = function (target) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (!target) {\r\n            throw TypeError(\"Cannot convert undefined or null to object\");\r\n        }\r\n        var _loop_1 = function (source) {\r\n            if (source) {\r\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\r\n            }\r\n        };\r\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\r\n            var source = args_1[_a];\r\n            _loop_1(source);\r\n        }\r\n        return target;\r\n    };\r\n}\n\nvar DEBOUNCED_CHANGE_MS = 300;\r\nfunction FlatpickrInstance(element, instanceConfig) {\r\n    var self = {};\r\n    self.parseDate = createDateParser(self);\r\n    self._animationLoop = [];\r\n    self._handlers = [];\r\n    self._bind = bind;\r\n    self._setHoursFromDate = setHoursFromDate;\r\n    self.changeMonth = changeMonth;\r\n    self.changeYear = changeYear;\r\n    self.clear = clear;\r\n    self.close = close;\r\n    self._createElement = createElement;\r\n    self.destroy = destroy;\r\n    self.isEnabled = isEnabled;\r\n    self.jumpToDate = jumpToDate;\r\n    self.open = open;\r\n    self.redraw = redraw;\r\n    self.set = set;\r\n    self.setDate = setDate;\r\n    self.toggle = toggle;\r\n    function setupHelperFunctions() {\r\n        self.utils = {\r\n            getDaysInMonth: function (month, yr) {\r\n                if (month === void 0) { month = self.currentMonth; }\r\n                if (yr === void 0) { yr = self.currentYear; }\r\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\r\n                    return 29;\r\n                return self.l10n.daysInMonth[month];\r\n            },\r\n        };\r\n    }\r\n    function init() {\r\n        self.element = self.input = element;\r\n        self.isOpen = false;\r\n        parseConfig();\r\n        setupLocale();\r\n        setupInputs();\r\n        setupDates();\r\n        setupHelperFunctions();\r\n        if (!self.isMobile)\r\n            build();\r\n        bindEvents();\r\n        if (self.selectedDates.length || self.config.noCalendar) {\r\n            if (self.config.enableTime) {\r\n                setHoursFromDate(self.config.noCalendar\r\n                    ? self.latestSelectedDateObj || self.config.minDate\r\n                    : undefined);\r\n            }\r\n            updateValue(false);\r\n        }\r\n        self.showTimeInput =\r\n            self.selectedDates.length > 0 || self.config.noCalendar;\r\n        if (self.weekWrapper !== undefined && self.daysContainer !== undefined) {\r\n            self.calendarContainer.style.width =\r\n                self.daysContainer.offsetWidth + self.weekWrapper.offsetWidth + \"px\";\r\n        }\r\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n        if (!self.isMobile && isSafari) {\r\n            positionCalendar();\r\n        }\r\n        triggerEvent(\"onReady\");\r\n    }\r\n    function bindToInstance(fn) {\r\n        return fn.bind(self);\r\n    }\r\n    function updateTime(e) {\r\n        if (self.config.noCalendar && self.selectedDates.length === 0) {\r\n            self.setDate(self.config.minDate !== undefined\r\n                ? new Date(self.config.minDate.getTime())\r\n                : new Date().setHours(self.config.defaultHour, self.config.defaultMinute, self.config.defaultSeconds, 0), false);\r\n            setHoursFromInputs();\r\n            updateValue();\r\n        }\r\n        timeWrapper(e);\r\n        if (self.selectedDates.length === 0)\r\n            return;\r\n        if (e.type !== \"input\") {\r\n            setHoursFromInputs();\r\n            updateValue();\r\n        }\r\n        else {\r\n            setTimeout(function () {\r\n                setHoursFromInputs();\r\n                updateValue();\r\n            }, DEBOUNCED_CHANGE_MS);\r\n        }\r\n    }\r\n    function ampm2military(hour, amPM) {\r\n        return hour % 12 + 12 * int(amPM === self.l10n.amPM[1]);\r\n    }\r\n    function military2ampm(hour) {\r\n        switch (hour % 24) {\r\n            case 0:\r\n            case 12:\r\n                return 12;\r\n            default:\r\n                return hour % 12;\r\n        }\r\n    }\r\n    function setHoursFromInputs() {\r\n        if (self.hourElement === undefined || self.minuteElement === undefined)\r\n            return;\r\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\r\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\r\n            : 0;\r\n        if (self.amPM !== undefined)\r\n            hours = ampm2military(hours, self.amPM.textContent);\r\n        var limitMinHours = self.config.minTime !== undefined ||\r\n            (self.config.minDate &&\r\n                self.minDateHasTime &&\r\n                self.latestSelectedDateObj &&\r\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\r\n                    0);\r\n        var limitMaxHours = self.config.maxTime !== undefined ||\r\n            (self.config.maxDate &&\r\n                self.maxDateHasTime &&\r\n                self.latestSelectedDateObj &&\r\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\r\n                    0);\r\n        if (limitMaxHours) {\r\n            var maxTime = self.config.maxTime !== undefined\r\n                ? self.config.maxTime\r\n                : self.config.maxDate;\r\n            hours = Math.min(hours, maxTime.getHours());\r\n            if (hours === maxTime.getHours())\r\n                minutes = Math.min(minutes, maxTime.getMinutes());\r\n        }\r\n        if (limitMinHours) {\r\n            var minTime = self.config.minTime !== undefined\r\n                ? self.config.minTime\r\n                : self.config.minDate;\r\n            hours = Math.max(hours, minTime.getHours());\r\n            if (hours === minTime.getHours())\r\n                minutes = Math.max(minutes, minTime.getMinutes());\r\n        }\r\n        setHours(hours, minutes, seconds);\r\n    }\r\n    function setHoursFromDate(dateObj) {\r\n        var date = dateObj || self.latestSelectedDateObj;\r\n        if (date)\r\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\r\n    }\r\n    function setHours(hours, minutes, seconds) {\r\n        if (self.latestSelectedDateObj !== undefined) {\r\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\r\n        }\r\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\r\n            return;\r\n        self.hourElement.value = pad(!self.config.time_24hr\r\n            ? (12 + hours) % 12 + 12 * int(hours % 12 === 0)\r\n            : hours);\r\n        self.minuteElement.value = pad(minutes);\r\n        if (self.amPM !== undefined)\r\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\r\n        if (self.secondElement !== undefined)\r\n            self.secondElement.value = pad(seconds);\r\n    }\r\n    function onYearInput(event) {\r\n        var year = parseInt(event.target.value) + (event.delta || 0);\r\n        if (year.toString().length === 4 || event.key === \"Enter\") {\r\n            self.currentYearElement.blur();\r\n            if (!/[^\\d]/.test(year.toString()))\r\n                changeYear(year);\r\n        }\r\n    }\r\n    function bind(element, event, handler, options) {\r\n        if (event instanceof Array)\r\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\r\n        if (element instanceof Array)\r\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\r\n        element.addEventListener(event, handler, options);\r\n        self._handlers.push({ element: element, event: event, handler: handler });\r\n    }\r\n    function onClick(handler) {\r\n        return function (evt) {\r\n            evt.which === 1 && handler(evt);\r\n        };\r\n    }\r\n    function triggerChange() {\r\n        triggerEvent(\"onChange\");\r\n    }\r\n    function bindEvents() {\r\n        if (self.config.wrap) {\r\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\r\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\r\n                    return bind(el, \"click\", self[evt]);\r\n                });\r\n            });\r\n        }\r\n        if (self.isMobile) {\r\n            setupMobile();\r\n            return;\r\n        }\r\n        var debouncedResize = debounce(onResize, 50);\r\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\r\n        if (self.config.mode === \"range\" &&\r\n            self.daysContainer &&\r\n            !/iPhone|iPad|iPod/i.test(navigator.userAgent))\r\n            bind(self.daysContainer, \"mouseover\", function (e) {\r\n                return onMouseOver(e.target);\r\n            });\r\n        bind(window.document.body, \"keydown\", onKeyDown);\r\n        if (!self.config.static)\r\n            bind(self._input, \"keydown\", onKeyDown);\r\n        if (!self.config.inline && !self.config.static)\r\n            bind(window, \"resize\", debouncedResize);\r\n        if (window.ontouchstart !== undefined)\r\n            bind(window.document.body, \"touchstart\", documentClick);\r\n        bind(window.document.body, \"mousedown\", onClick(documentClick));\r\n        bind(window.document.body, \"focus\", documentClick, { capture: true });\r\n        if (self.config.clickOpens === true) {\r\n            bind(self._input, \"focus\", self.open);\r\n            bind(self._input, \"mousedown\", onClick(self.open));\r\n        }\r\n        if (self.daysContainer !== undefined) {\r\n            bind(self.monthNav, \"wheel\", onMonthNavScroll);\r\n            bind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\r\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\r\n            bind(self.daysContainer, \"mousedown\", onClick(selectDate));\r\n            if (self.config.animate) {\r\n                bind(self.daysContainer, [\"webkitAnimationEnd\", \"animationend\"], animateDays);\r\n                bind(self.monthNav, [\"webkitAnimationEnd\", \"animationend\"], animateMonths);\r\n            }\r\n        }\r\n        if (self.timeContainer !== undefined &&\r\n            self.minuteElement !== undefined &&\r\n            self.hourElement !== undefined) {\r\n            var selText = function (e) {\r\n                return e.target.select();\r\n            };\r\n            bind(self.timeContainer, [\"wheel\", \"input\", \"increment\"], updateTime);\r\n            bind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\r\n            bind(self.timeContainer, [\"wheel\", \"input\", \"increment\"], self._debouncedChange, { passive: true });\r\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\r\n            if (self.secondElement !== undefined)\r\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\r\n            if (self.amPM !== undefined) {\r\n                bind(self.amPM, \"mousedown\", onClick(function (e) {\r\n                    updateTime(e);\r\n                    triggerChange();\r\n                }));\r\n            }\r\n        }\r\n    }\r\n    function processPostDayAnimation() {\r\n        self._animationLoop.forEach(function (f) { return f(); });\r\n        self._animationLoop = [];\r\n    }\r\n    function animateDays(e) {\r\n        if (self.daysContainer && self.daysContainer.childNodes.length > 1) {\r\n            switch (e.animationName) {\r\n                case \"fpSlideLeft\":\r\n                    self.daysContainer.lastChild &&\r\n                        self.daysContainer.lastChild.classList.remove(\"slideLeftNew\");\r\n                    self.daysContainer.removeChild(self.daysContainer\r\n                        .firstChild);\r\n                    self.days = self.daysContainer.firstChild;\r\n                    processPostDayAnimation();\r\n                    break;\r\n                case \"fpSlideRight\":\r\n                    self.daysContainer.firstChild &&\r\n                        self.daysContainer.firstChild.classList.remove(\"slideRightNew\");\r\n                    self.daysContainer.removeChild(self.daysContainer\r\n                        .lastChild);\r\n                    self.days = self.daysContainer.firstChild;\r\n                    processPostDayAnimation();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    function animateMonths(e) {\r\n        switch (e.animationName) {\r\n            case \"fpSlideLeftNew\":\r\n            case \"fpSlideRightNew\":\r\n                self.navigationCurrentMonth.classList.remove(\"slideLeftNew\");\r\n                self.navigationCurrentMonth.classList.remove(\"slideRightNew\");\r\n                var nav = self.navigationCurrentMonth;\r\n                while (nav.nextSibling &&\r\n                    /curr/.test(nav.nextSibling.className))\r\n                    self.monthNav.removeChild(nav.nextSibling);\r\n                while (nav.previousSibling &&\r\n                    /curr/.test(nav.previousSibling.className))\r\n                    self.monthNav.removeChild(nav.previousSibling);\r\n                self.oldCurMonth = undefined;\r\n                break;\r\n        }\r\n    }\r\n    function jumpToDate(jumpDate) {\r\n        var jumpTo = jumpDate !== undefined\r\n            ? self.parseDate(jumpDate)\r\n            : self.latestSelectedDateObj ||\r\n                (self.config.minDate && self.config.minDate > self.now\r\n                    ? self.config.minDate\r\n                    : self.config.maxDate && self.config.maxDate < self.now\r\n                        ? self.config.maxDate\r\n                        : self.now);\r\n        try {\r\n            if (jumpTo !== undefined) {\r\n                self.currentYear = jumpTo.getFullYear();\r\n                self.currentMonth = jumpTo.getMonth();\r\n            }\r\n        }\r\n        catch (e) {\r\n            e.message = \"Invalid date supplied: \" + jumpTo;\r\n            self.config.errorHandler(e);\r\n        }\r\n        self.redraw();\r\n    }\r\n    function timeIncrement(e) {\r\n        if (~e.target.className.indexOf(\"arrow\"))\r\n            incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\r\n    }\r\n    function incrementNumInput(e, delta, inputElem) {\r\n        var target = e && e.target;\r\n        var input = inputElem ||\r\n            (target && target.parentNode && target.parentNode.firstChild);\r\n        var event = createEvent(\"increment\");\r\n        event.delta = delta;\r\n        input && input.dispatchEvent(event);\r\n    }\r\n    function build() {\r\n        var fragment = window.document.createDocumentFragment();\r\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\r\n        self.calendarContainer.tabIndex = -1;\r\n        if (!self.config.noCalendar) {\r\n            fragment.appendChild(buildMonthNav());\r\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\r\n            if (self.config.weekNumbers) {\r\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\r\n                self.innerContainer.appendChild(weekWrapper);\r\n                self.weekNumbers = weekNumbers;\r\n                self.weekWrapper = weekWrapper;\r\n            }\r\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\r\n            self.rContainer.appendChild(buildWeekdays());\r\n            if (!self.daysContainer) {\r\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\r\n                self.daysContainer.tabIndex = -1;\r\n            }\r\n            buildDays();\r\n            self.rContainer.appendChild(self.daysContainer);\r\n            self.innerContainer.appendChild(self.rContainer);\r\n            fragment.appendChild(self.innerContainer);\r\n        }\r\n        if (self.config.enableTime) {\r\n            fragment.appendChild(buildTime());\r\n        }\r\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\r\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate);\r\n        self.calendarContainer.appendChild(fragment);\r\n        var customAppend = self.config.appendTo !== undefined && self.config.appendTo.nodeType;\r\n        if (self.config.inline || self.config.static) {\r\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\r\n            if (self.config.inline) {\r\n                if (!customAppend && self.element.parentNode)\r\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\r\n                else if (self.config.appendTo !== undefined)\r\n                    self.config.appendTo.appendChild(self.calendarContainer);\r\n            }\r\n            if (self.config.static) {\r\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\r\n                if (self.element.parentNode)\r\n                    self.element.parentNode.insertBefore(wrapper, self.element);\r\n                wrapper.appendChild(self.element);\r\n                if (self.altInput)\r\n                    wrapper.appendChild(self.altInput);\r\n                wrapper.appendChild(self.calendarContainer);\r\n            }\r\n        }\r\n        if (!self.config.static && !self.config.inline)\r\n            (self.config.appendTo !== undefined\r\n                ? self.config.appendTo\r\n                : window.document.body).appendChild(self.calendarContainer);\r\n    }\r\n    function createDay(className, date, dayNumber, i) {\r\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\r\n        dayElement.dateObj = date;\r\n        dayElement.$i = i;\r\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\r\n        if (compareDates(date, self.now) === 0) {\r\n            self.todayDateElem = dayElement;\r\n            dayElement.classList.add(\"today\");\r\n        }\r\n        if (dateIsEnabled) {\r\n            dayElement.tabIndex = -1;\r\n            if (isDateSelected(date)) {\r\n                dayElement.classList.add(\"selected\");\r\n                self.selectedDateElem = dayElement;\r\n                if (self.config.mode === \"range\") {\r\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\r\n                        compareDates(date, self.selectedDates[0]) === 0);\r\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\r\n                        compareDates(date, self.selectedDates[1]) === 0);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            dayElement.classList.add(\"disabled\");\r\n            if (self.selectedDates[0] &&\r\n                self.minRangeDate &&\r\n                date > self.minRangeDate &&\r\n                date < self.selectedDates[0])\r\n                self.minRangeDate = date;\r\n            else if (self.selectedDates[0] &&\r\n                self.maxRangeDate &&\r\n                date < self.maxRangeDate &&\r\n                date > self.selectedDates[0])\r\n                self.maxRangeDate = date;\r\n        }\r\n        if (self.config.mode === \"range\") {\r\n            if (isDateInRange(date) && !isDateSelected(date))\r\n                dayElement.classList.add(\"inRange\");\r\n            if (self.selectedDates.length === 1 &&\r\n                self.minRangeDate !== undefined &&\r\n                self.maxRangeDate !== undefined &&\r\n                (date < self.minRangeDate || date > self.maxRangeDate))\r\n                dayElement.classList.add(\"notAllowed\");\r\n        }\r\n        if (self.weekNumbers &&\r\n            className !== \"prevMonthDay\" &&\r\n            dayNumber % 7 === 1) {\r\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\r\n        }\r\n        triggerEvent(\"onDayCreate\", dayElement);\r\n        return dayElement;\r\n    }\r\n    function focusOnDay(currentIndex, offset) {\r\n        var newIndex = currentIndex + offset || 0, targetNode = (currentIndex !== undefined\r\n            ? self.days.childNodes[newIndex]\r\n            : self.selectedDateElem ||\r\n                self.todayDateElem ||\r\n                self.days.childNodes[0]);\r\n        var focus = function () {\r\n            targetNode = targetNode || self.days.childNodes[newIndex];\r\n            targetNode.focus();\r\n            if (self.config.mode === \"range\")\r\n                onMouseOver(targetNode);\r\n        };\r\n        if (targetNode === undefined && offset !== 0) {\r\n            if (offset > 0) {\r\n                self.changeMonth(1, true, undefined, true);\r\n                newIndex = newIndex % 42;\r\n            }\r\n            else if (offset < 0) {\r\n                self.changeMonth(-1, true, undefined, true);\r\n                newIndex += 42;\r\n            }\r\n            return afterDayAnim(focus);\r\n        }\r\n        focus();\r\n    }\r\n    function afterDayAnim(fn) {\r\n        self.config.animate === true ? self._animationLoop.push(fn) : fn();\r\n    }\r\n    function buildDays(delta) {\r\n        if (self.daysContainer === undefined) {\r\n            return;\r\n        }\r\n        var firstOfMonth = (new Date(self.currentYear, self.currentMonth, 1).getDay() -\r\n            self.l10n.firstDayOfWeek +\r\n            7) %\r\n            7, isRangeMode = self.config.mode === \"range\";\r\n        var prevMonthDays = self.utils.getDaysInMonth((self.currentMonth - 1 + 12) % 12);\r\n        var daysInMonth = self.utils.getDaysInMonth(), days = window.document.createDocumentFragment();\r\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\r\n        if (self.weekNumbers && self.weekNumbers.firstChild)\r\n            self.weekNumbers.textContent = \"\";\r\n        if (isRangeMode) {\r\n            self.minRangeDate = new Date(self.currentYear, self.currentMonth - 1, dayNumber);\r\n            self.maxRangeDate = new Date(self.currentYear, self.currentMonth + 1, (42 - firstOfMonth) % daysInMonth);\r\n        }\r\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\r\n            days.appendChild(createDay(\"prevMonthDay\", new Date(self.currentYear, self.currentMonth - 1, dayNumber), dayNumber, dayIndex));\r\n        }\r\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\r\n            days.appendChild(createDay(\"\", new Date(self.currentYear, self.currentMonth, dayNumber), dayNumber, dayIndex));\r\n        }\r\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth; dayNum++, dayIndex++) {\r\n            days.appendChild(createDay(\"nextMonthDay\", new Date(self.currentYear, self.currentMonth + 1, dayNum % daysInMonth), dayNum, dayIndex));\r\n        }\r\n        if (isRangeMode && self.selectedDates.length === 1 && days.childNodes[0]) {\r\n            self._hidePrevMonthArrow =\r\n                self._hidePrevMonthArrow ||\r\n                    (!!self.minRangeDate &&\r\n                        self.minRangeDate > days.childNodes[0].dateObj);\r\n            self._hideNextMonthArrow =\r\n                self._hideNextMonthArrow ||\r\n                    (!!self.maxRangeDate &&\r\n                        self.maxRangeDate <\r\n                            new Date(self.currentYear, self.currentMonth + 1, 1));\r\n        }\r\n        else\r\n            updateNavigationCurrentMonth();\r\n        var dayContainer = createElement(\"div\", \"dayContainer\");\r\n        dayContainer.appendChild(days);\r\n        if (!self.config.animate || delta === undefined)\r\n            clearNode(self.daysContainer);\r\n        else {\r\n            while (self.daysContainer.childNodes.length > 1)\r\n                self.daysContainer.removeChild(self.daysContainer.firstChild);\r\n        }\r\n        if (delta && delta >= 0)\r\n            self.daysContainer.appendChild(dayContainer);\r\n        else\r\n            self.daysContainer.insertBefore(dayContainer, self.daysContainer.firstChild);\r\n        self.days = self.daysContainer.childNodes[0];\r\n    }\r\n    function buildMonthNav() {\r\n        var monthNavFragment = window.document.createDocumentFragment();\r\n        self.monthNav = createElement(\"div\", \"flatpickr-month\");\r\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\r\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\r\n        self.currentMonthElement = createElement(\"span\", \"cur-month\");\r\n        self.currentMonthElement.title = self.l10n.scrollTitle;\r\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\r\n        self.currentYearElement = yearInput.childNodes[0];\r\n        self.currentYearElement.title = self.l10n.scrollTitle;\r\n        if (self.config.minDate)\r\n            self.currentYearElement.setAttribute(\"data-min\", self.config.minDate.getFullYear().toString());\r\n        if (self.config.maxDate) {\r\n            self.currentYearElement.setAttribute(\"data-max\", self.config.maxDate.getFullYear().toString());\r\n            self.currentYearElement.disabled =\r\n                !!self.config.minDate &&\r\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\r\n        }\r\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\r\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\r\n        self.navigationCurrentMonth = createElement(\"div\", \"flatpickr-current-month\");\r\n        self.navigationCurrentMonth.appendChild(self.currentMonthElement);\r\n        self.navigationCurrentMonth.appendChild(yearInput);\r\n        monthNavFragment.appendChild(self.prevMonthNav);\r\n        monthNavFragment.appendChild(self.navigationCurrentMonth);\r\n        monthNavFragment.appendChild(self.nextMonthNav);\r\n        self.monthNav.appendChild(monthNavFragment);\r\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\r\n            get: function () { return self.__hidePrevMonthArrow; },\r\n            set: function (bool) {\r\n                if (self.__hidePrevMonthArrow !== bool)\r\n                    self.prevMonthNav.style.display = bool ? \"none\" : \"block\";\r\n                self.__hidePrevMonthArrow = bool;\r\n            },\r\n        });\r\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\r\n            get: function () { return self.__hideNextMonthArrow; },\r\n            set: function (bool) {\r\n                if (self.__hideNextMonthArrow !== bool)\r\n                    self.nextMonthNav.style.display = bool ? \"none\" : \"block\";\r\n                self.__hideNextMonthArrow = bool;\r\n            },\r\n        });\r\n        updateNavigationCurrentMonth();\r\n        return self.monthNav;\r\n    }\r\n    function buildTime() {\r\n        self.calendarContainer.classList.add(\"hasTime\");\r\n        if (self.config.noCalendar)\r\n            self.calendarContainer.classList.add(\"noCalendar\");\r\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\r\n        self.timeContainer.tabIndex = -1;\r\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\r\n        var hourInput = createNumberInput(\"flatpickr-hour\");\r\n        self.hourElement = hourInput.childNodes[0];\r\n        var minuteInput = createNumberInput(\"flatpickr-minute\");\r\n        self.minuteElement = minuteInput.childNodes[0];\r\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\r\n        self.hourElement.value = pad(self.latestSelectedDateObj\r\n            ? self.latestSelectedDateObj.getHours()\r\n            : self.config.time_24hr\r\n                ? self.config.defaultHour\r\n                : military2ampm(self.config.defaultHour));\r\n        self.minuteElement.value = pad(self.latestSelectedDateObj\r\n            ? self.latestSelectedDateObj.getMinutes()\r\n            : self.config.defaultMinute);\r\n        self.hourElement.setAttribute(\"data-step\", self.config.hourIncrement.toString());\r\n        self.minuteElement.setAttribute(\"data-step\", self.config.minuteIncrement.toString());\r\n        self.hourElement.setAttribute(\"data-min\", self.config.time_24hr ? \"0\" : \"1\");\r\n        self.hourElement.setAttribute(\"data-max\", self.config.time_24hr ? \"23\" : \"12\");\r\n        self.minuteElement.setAttribute(\"data-min\", \"0\");\r\n        self.minuteElement.setAttribute(\"data-max\", \"59\");\r\n        self.hourElement.title = self.minuteElement.title = self.l10n.scrollTitle;\r\n        self.timeContainer.appendChild(hourInput);\r\n        self.timeContainer.appendChild(separator);\r\n        self.timeContainer.appendChild(minuteInput);\r\n        if (self.config.time_24hr)\r\n            self.timeContainer.classList.add(\"time24hr\");\r\n        if (self.config.enableSeconds) {\r\n            self.timeContainer.classList.add(\"hasSeconds\");\r\n            var secondInput = createNumberInput(\"flatpickr-second\");\r\n            self.secondElement = secondInput.childNodes[0];\r\n            self.secondElement.value = pad(self.latestSelectedDateObj\r\n                ? self.latestSelectedDateObj.getSeconds()\r\n                : self.config.defaultSeconds);\r\n            self.secondElement.setAttribute(\"data-step\", self.minuteElement.getAttribute(\"data-step\"));\r\n            self.secondElement.setAttribute(\"data-min\", self.minuteElement.getAttribute(\"data-min\"));\r\n            self.secondElement.setAttribute(\"data-max\", self.minuteElement.getAttribute(\"data-max\"));\r\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\r\n            self.timeContainer.appendChild(secondInput);\r\n        }\r\n        if (!self.config.time_24hr) {\r\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\r\n                ? self.hourElement.value\r\n                : self.config.defaultHour) > 11)]);\r\n            self.amPM.title = self.l10n.toggleTitle;\r\n            self.amPM.tabIndex = -1;\r\n            self.timeContainer.appendChild(self.amPM);\r\n        }\r\n        return self.timeContainer;\r\n    }\r\n    function buildWeekdays() {\r\n        if (!self.weekdayContainer)\r\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\r\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\r\n        var weekdays = self.l10n.weekdays.shorthand.slice();\r\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\r\n            weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\r\n        }\r\n        self.weekdayContainer.innerHTML = \"\\n    <span class=flatpickr-weekday>\\n      \" + weekdays.join(\"</span><span class=flatpickr-weekday>\") + \"\\n    </span>\\n    \";\r\n        return self.weekdayContainer;\r\n    }\r\n    function buildWeeks() {\r\n        self.calendarContainer.classList.add(\"hasWeeks\");\r\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\r\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\r\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\r\n        weekWrapper.appendChild(weekNumbers);\r\n        return {\r\n            weekWrapper: weekWrapper,\r\n            weekNumbers: weekNumbers,\r\n        };\r\n    }\r\n    function changeMonth(value, is_offset, animate, from_keyboard) {\r\n        if (is_offset === void 0) { is_offset = true; }\r\n        if (animate === void 0) { animate = self.config.animate; }\r\n        if (from_keyboard === void 0) { from_keyboard = false; }\r\n        var delta = is_offset ? value : value - self.currentMonth;\r\n        if ((delta < 0 && self._hidePrevMonthArrow) ||\r\n            (delta > 0 && self._hideNextMonthArrow))\r\n            return;\r\n        self.currentMonth += delta;\r\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\r\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\r\n            self.currentMonth = (self.currentMonth + 12) % 12;\r\n            triggerEvent(\"onYearChange\");\r\n        }\r\n        buildDays(animate ? delta : undefined);\r\n        if (!animate) {\r\n            triggerEvent(\"onMonthChange\");\r\n            return updateNavigationCurrentMonth();\r\n        }\r\n        var nav = self.navigationCurrentMonth;\r\n        if (delta < 0) {\r\n            while (nav.nextSibling &&\r\n                /curr/.test(nav.nextSibling.className))\r\n                self.monthNav.removeChild(nav.nextSibling);\r\n        }\r\n        else if (delta > 0) {\r\n            while (nav.previousSibling &&\r\n                /curr/.test(nav.previousSibling.className))\r\n                self.monthNav.removeChild(nav.previousSibling);\r\n        }\r\n        self.oldCurMonth = self.navigationCurrentMonth;\r\n        self.navigationCurrentMonth = self.monthNav.insertBefore(self.oldCurMonth.cloneNode(true), delta > 0 ? self.oldCurMonth.nextSibling : self.oldCurMonth);\r\n        var daysContainer = self.daysContainer;\r\n        if (daysContainer.firstChild && daysContainer.lastChild) {\r\n            if (delta > 0) {\r\n                daysContainer.firstChild.classList.add(\"slideLeft\");\r\n                daysContainer.lastChild.classList.add(\"slideLeftNew\");\r\n                self.oldCurMonth.classList.add(\"slideLeft\");\r\n                self.navigationCurrentMonth.classList.add(\"slideLeftNew\");\r\n            }\r\n            else if (delta < 0) {\r\n                daysContainer.firstChild.classList.add(\"slideRightNew\");\r\n                daysContainer.lastChild.classList.add(\"slideRight\");\r\n                self.oldCurMonth.classList.add(\"slideRight\");\r\n                self.navigationCurrentMonth.classList.add(\"slideRightNew\");\r\n            }\r\n        }\r\n        self.currentMonthElement = self.navigationCurrentMonth\r\n            .firstChild;\r\n        self.currentYearElement = self.navigationCurrentMonth.lastChild\r\n            .childNodes[0];\r\n        updateNavigationCurrentMonth();\r\n        if (self.oldCurMonth.firstChild)\r\n            self.oldCurMonth.firstChild.textContent = monthToStr(self.currentMonth - delta, self.config.shorthandCurrentMonth, self.l10n);\r\n        afterDayAnim(function () { return triggerEvent(\"onMonthChange\"); });\r\n        if (from_keyboard &&\r\n            document.activeElement &&\r\n            document.activeElement.$i) {\r\n            var index_1 = document.activeElement.$i;\r\n            afterDayAnim(function () {\r\n                focusOnDay(index_1, 0);\r\n            });\r\n        }\r\n    }\r\n    function clear(triggerChangeEvent) {\r\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\r\n        self.input.value = \"\";\r\n        if (self.altInput)\r\n            self.altInput.value = \"\";\r\n        if (self.mobileInput)\r\n            self.mobileInput.value = \"\";\r\n        self.selectedDates = [];\r\n        self.latestSelectedDateObj = undefined;\r\n        self.showTimeInput = false;\r\n        if (self.config.enableTime) {\r\n            if (self.config.minDate !== undefined)\r\n                setHoursFromDate(self.config.minDate);\r\n            else\r\n                setHours(self.config.defaultHour, self.config.defaultMinute, self.config.defaultSeconds);\r\n        }\r\n        self.redraw();\r\n        if (triggerChangeEvent)\r\n            triggerEvent(\"onChange\");\r\n    }\r\n    function close() {\r\n        self.isOpen = false;\r\n        if (!self.isMobile) {\r\n            self.calendarContainer.classList.remove(\"open\");\r\n            self._input.classList.remove(\"active\");\r\n        }\r\n        triggerEvent(\"onClose\");\r\n    }\r\n    function destroy() {\r\n        if (self.config !== undefined)\r\n            triggerEvent(\"onDestroy\");\r\n        for (var i = self._handlers.length; i--;) {\r\n            var h = self._handlers[i];\r\n            h.element.removeEventListener(h.event, h.handler);\r\n        }\r\n        self._handlers = [];\r\n        if (self.mobileInput) {\r\n            if (self.mobileInput.parentNode)\r\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\r\n            self.mobileInput = undefined;\r\n        }\r\n        else if (self.calendarContainer && self.calendarContainer.parentNode)\r\n            self.calendarContainer.parentNode.removeChild(self.calendarContainer);\r\n        if (self.altInput) {\r\n            self.input.type = \"text\";\r\n            if (self.altInput.parentNode)\r\n                self.altInput.parentNode.removeChild(self.altInput);\r\n            delete self.altInput;\r\n        }\r\n        if (self.input) {\r\n            self.input.type = self.input._type;\r\n            self.input.classList.remove(\"flatpickr-input\");\r\n            self.input.removeAttribute(\"readonly\");\r\n            self.input.value = \"\";\r\n        }\r\n        [\r\n            \"_showTimeInput\",\r\n            \"latestSelectedDateObj\",\r\n            \"_hideNextMonthArrow\",\r\n            \"_hidePrevMonthArrow\",\r\n            \"__hideNextMonthArrow\",\r\n            \"__hidePrevMonthArrow\",\r\n            \"isMobile\",\r\n            \"isOpen\",\r\n            \"selectedDateElem\",\r\n            \"minDateHasTime\",\r\n            \"maxDateHasTime\",\r\n            \"days\",\r\n            \"daysContainer\",\r\n            \"_input\",\r\n            \"_positionElement\",\r\n            \"innerContainer\",\r\n            \"rContainer\",\r\n            \"monthNav\",\r\n            \"todayDateElem\",\r\n            \"calendarContainer\",\r\n            \"weekdayContainer\",\r\n            \"prevMonthNav\",\r\n            \"nextMonthNav\",\r\n            \"currentMonthElement\",\r\n            \"currentYearElement\",\r\n            \"navigationCurrentMonth\",\r\n            \"selectedDateElem\",\r\n            \"config\",\r\n        ].forEach(function (k) {\r\n            try {\r\n                delete self[k];\r\n            }\r\n            catch (_) { }\r\n        });\r\n    }\r\n    function isCalendarElem(elem) {\r\n        if (self.config.appendTo && self.config.appendTo.contains(elem))\r\n            return true;\r\n        return self.calendarContainer.contains(elem);\r\n    }\r\n    function documentClick(e) {\r\n        if (self.isOpen && !self.config.inline) {\r\n            var isCalendarElement = isCalendarElem(e.target);\r\n            var isInput = e.target === self.input ||\r\n                e.target === self.altInput ||\r\n                self.element.contains(e.target) ||\r\n                (e.path &&\r\n                    e.path.indexOf &&\r\n                    (~e.path.indexOf(self.input) ||\r\n                        ~e.path.indexOf(self.altInput)));\r\n            var lostFocus = e.type === \"blur\"\r\n                ? isInput &&\r\n                    e.relatedTarget &&\r\n                    !isCalendarElem(e.relatedTarget)\r\n                : !isInput && !isCalendarElement;\r\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\r\n                return elem.contains(e.target);\r\n            });\r\n            if (lostFocus && isIgnored) {\r\n                self.close();\r\n                if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\r\n                    self.clear(false);\r\n                    self.redraw();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function changeYear(newYear) {\r\n        if (!newYear ||\r\n            (self.currentYearElement.getAttribute(\"data-min\") &&\r\n                newYear <\r\n                    parseInt(self.currentYearElement.getAttribute(\"data-min\"))) ||\r\n            (self.currentYearElement.getAttribute(\"data-max\") &&\r\n                newYear >\r\n                    parseInt(self.currentYearElement.getAttribute(\"data-max\"))))\r\n            return;\r\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\r\n        self.currentYear = newYearNum || self.currentYear;\r\n        if (self.config.maxDate &&\r\n            self.currentYear === self.config.maxDate.getFullYear()) {\r\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\r\n        }\r\n        else if (self.config.minDate &&\r\n            self.currentYear === self.config.minDate.getFullYear()) {\r\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\r\n        }\r\n        if (isNewYear) {\r\n            self.redraw();\r\n            triggerEvent(\"onYearChange\");\r\n        }\r\n    }\r\n    function isEnabled(date, timeless) {\r\n        if (timeless === void 0) { timeless = true; }\r\n        var dateToCheck = self.parseDate(date, undefined, timeless);\r\n        if ((self.config.minDate &&\r\n            dateToCheck &&\r\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\r\n            (self.config.maxDate &&\r\n                dateToCheck &&\r\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\r\n            return false;\r\n        if (!self.config.enable.length && !self.config.disable.length)\r\n            return true;\r\n        if (dateToCheck === undefined)\r\n            return false;\r\n        var bool = self.config.enable.length > 0, array = bool ? self.config.enable : self.config.disable;\r\n        for (var i = 0, d = void 0; i < array.length; i++) {\r\n            d = array[i];\r\n            if (typeof d === \"function\" &&\r\n                d(dateToCheck))\r\n                return bool;\r\n            else if (d instanceof Date &&\r\n                dateToCheck !== undefined &&\r\n                d.getTime() === dateToCheck.getTime())\r\n                return bool;\r\n            else if (typeof d === \"string\" && dateToCheck !== undefined) {\r\n                var parsed = self.parseDate(d, undefined, true);\r\n                return parsed && parsed.getTime() === dateToCheck.getTime()\r\n                    ? bool\r\n                    : !bool;\r\n            }\r\n            else if (typeof d === \"object\" &&\r\n                dateToCheck !== undefined &&\r\n                d.from &&\r\n                d.to &&\r\n                dateToCheck.getTime() >= d.from.getTime() &&\r\n                dateToCheck.getTime() <= d.to.getTime())\r\n                return bool;\r\n        }\r\n        return !bool;\r\n    }\r\n    function onKeyDown(e) {\r\n        var isInput = e.target === self._input;\r\n        var calendarElem = isCalendarElem(e.target);\r\n        var allowInput = self.config.allowInput;\r\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\r\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\r\n        if (e.keyCode === 13 && isInput) {\r\n            if (allowInput) {\r\n                self.setDate(self._input.value, true, e.target === self.altInput\r\n                    ? self.config.altFormat\r\n                    : self.config.dateFormat);\r\n                return e.target.blur();\r\n            }\r\n            else\r\n                self.open();\r\n        }\r\n        else if (calendarElem || allowKeydown || allowInlineKeydown) {\r\n            var isTimeObj = !!self.timeContainer &&\r\n                self.timeContainer.contains(e.target);\r\n            switch (e.keyCode) {\r\n                case 13:\r\n                    if (isTimeObj)\r\n                        updateValue();\r\n                    else\r\n                        selectDate(e);\r\n                    break;\r\n                case 27:\r\n                    e.preventDefault();\r\n                    self.close();\r\n                    break;\r\n                case 8:\r\n                case 46:\r\n                    if (isInput && !self.config.allowInput)\r\n                        self.clear();\r\n                    break;\r\n                case 37:\r\n                case 39:\r\n                    if (!isTimeObj) {\r\n                        e.preventDefault();\r\n                        if (self.daysContainer) {\r\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\r\n                            if (!e.ctrlKey)\r\n                                focusOnDay(e.target.$i, delta_1);\r\n                            else\r\n                                changeMonth(delta_1, true, undefined, true);\r\n                        }\r\n                    }\r\n                    else if (self.hourElement)\r\n                        self.hourElement.focus();\r\n                    break;\r\n                case 38:\r\n                case 40:\r\n                    e.preventDefault();\r\n                    var delta = e.keyCode === 40 ? 1 : -1;\r\n                    if (self.daysContainer && e.target.$i !== undefined) {\r\n                        if (e.ctrlKey) {\r\n                            changeYear(self.currentYear - delta);\r\n                            focusOnDay(e.target.$i, 0);\r\n                        }\r\n                        else if (!isTimeObj)\r\n                            focusOnDay(e.target.$i, delta * 7);\r\n                    }\r\n                    else if (self.config.enableTime) {\r\n                        if (!isTimeObj && self.hourElement)\r\n                            self.hourElement.focus();\r\n                        updateTime(e);\r\n                        self._debouncedChange();\r\n                    }\r\n                    break;\r\n                case 9:\r\n                    if (e.target === self.hourElement) {\r\n                        e.preventDefault();\r\n                        self.minuteElement.select();\r\n                    }\r\n                    else if (e.target === self.minuteElement &&\r\n                        (self.secondElement || self.amPM)) {\r\n                        e.preventDefault();\r\n                        if (self.secondElement !== undefined)\r\n                            self.secondElement.focus();\r\n                        else if (self.amPM !== undefined)\r\n                            self.amPM.focus();\r\n                    }\r\n                    else if (e.target === self.secondElement && self.amPM) {\r\n                        e.preventDefault();\r\n                        self.amPM.focus();\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            switch (e.key) {\r\n                case self.l10n.amPM[0].charAt(0):\r\n                    if (self.amPM !== undefined && e.target === self.amPM) {\r\n                        self.amPM.textContent = self.l10n.amPM[0];\r\n                        setHoursFromInputs();\r\n                        updateValue();\r\n                    }\r\n                    break;\r\n                case self.l10n.amPM[1].charAt(0):\r\n                    if (self.amPM !== undefined && e.target === self.amPM) {\r\n                        self.amPM.textContent = self.l10n.amPM[1];\r\n                        setHoursFromInputs();\r\n                        updateValue();\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            triggerEvent(\"onKeyDown\", e);\r\n        }\r\n    }\r\n    function onMouseOver(elem) {\r\n        if (self.selectedDates.length !== 1 ||\r\n            !elem.classList.contains(\"flatpickr-day\") ||\r\n            elem.classList.contains(\"disabled\") ||\r\n            self.minRangeDate === undefined ||\r\n            self.maxRangeDate === undefined)\r\n            return;\r\n        var hoverDate = elem.dateObj, initialDate = self.parseDate(self.selectedDates[0], undefined, true), rangeStartDate = Math.min(hoverDate.getTime(), self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate.getTime(), self.selectedDates[0].getTime()), containsDisabled = false;\r\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\r\n            if (!isEnabled(new Date(t))) {\r\n                containsDisabled = true;\r\n                break;\r\n            }\r\n        }\r\n        var _loop_1 = function (i, date) {\r\n            var timestamp = date.getTime();\r\n            var outOfRange = timestamp < self.minRangeDate.getTime() ||\r\n                timestamp > self.maxRangeDate.getTime(), dayElem = self.days.childNodes[i];\r\n            if (outOfRange) {\r\n                dayElem.classList.add(\"notAllowed\");\r\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\r\n                    dayElem.classList.remove(c);\r\n                });\r\n                return \"continue\";\r\n            }\r\n            else if (containsDisabled && !outOfRange)\r\n                return \"continue\";\r\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\r\n                dayElem.classList.remove(c);\r\n            });\r\n            var minRangeDate = Math.max(self.minRangeDate.getTime(), rangeStartDate), maxRangeDate = Math.min(self.maxRangeDate.getTime(), rangeEndDate);\r\n            elem.classList.add(hoverDate < self.selectedDates[0] ? \"startRange\" : \"endRange\");\r\n            if (initialDate < hoverDate && timestamp === initialDate.getTime())\r\n                dayElem.classList.add(\"startRange\");\r\n            else if (initialDate > hoverDate && timestamp === initialDate.getTime())\r\n                dayElem.classList.add(\"endRange\");\r\n            if (timestamp >= minRangeDate && timestamp <= maxRangeDate)\r\n                dayElem.classList.add(\"inRange\");\r\n        };\r\n        for (var i = 0, date = self.days.childNodes[i].dateObj; i < 42; i++, date =\r\n                self.days.childNodes[i] &&\r\n                    self.days.childNodes[i].dateObj) {\r\n            _loop_1(i, date);\r\n        }\r\n    }\r\n    function onResize() {\r\n        if (self.isOpen && !self.config.static && !self.config.inline)\r\n            positionCalendar();\r\n    }\r\n    function open(e, positionElement) {\r\n        if (positionElement === void 0) { positionElement = self._input; }\r\n        if (self.isMobile) {\r\n            if (e) {\r\n                e.preventDefault();\r\n                e.target && e.target.blur();\r\n            }\r\n            setTimeout(function () {\r\n                self.mobileInput !== undefined && self.mobileInput.click();\r\n            }, 0);\r\n            triggerEvent(\"onOpen\");\r\n            return;\r\n        }\r\n        if (self._input.disabled || self.config.inline)\r\n            return;\r\n        var wasOpen = self.isOpen;\r\n        self.isOpen = true;\r\n        if (!wasOpen) {\r\n            self.calendarContainer.classList.add(\"open\");\r\n            self._input.classList.add(\"active\");\r\n            triggerEvent(\"onOpen\");\r\n            positionCalendar(positionElement);\r\n        }\r\n    }\r\n    function minMaxDateSetter(type) {\r\n        return function (date) {\r\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\r\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\r\n            if (dateObj !== undefined) {\r\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\r\n                    dateObj.getHours() > 0 ||\r\n                        dateObj.getMinutes() > 0 ||\r\n                        dateObj.getSeconds() > 0;\r\n            }\r\n            if (self.selectedDates) {\r\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\r\n                if (!self.selectedDates.length && type === \"min\")\r\n                    setHoursFromDate(dateObj);\r\n                updateValue();\r\n            }\r\n            if (self.daysContainer) {\r\n                redraw();\r\n                if (dateObj !== undefined)\r\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\r\n                else\r\n                    self.currentYearElement.removeAttribute(type);\r\n                self.currentYearElement.disabled =\r\n                    !!inverseDateObj &&\r\n                        dateObj !== undefined &&\r\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\r\n            }\r\n        };\r\n    }\r\n    function parseConfig() {\r\n        var boolOpts = [\r\n            \"wrap\",\r\n            \"weekNumbers\",\r\n            \"allowInput\",\r\n            \"clickOpens\",\r\n            \"time_24hr\",\r\n            \"enableTime\",\r\n            \"noCalendar\",\r\n            \"altInput\",\r\n            \"shorthandCurrentMonth\",\r\n            \"inline\",\r\n            \"static\",\r\n            \"enableSeconds\",\r\n            \"disableMobile\",\r\n        ];\r\n        var hooks = [\r\n            \"onChange\",\r\n            \"onClose\",\r\n            \"onDayCreate\",\r\n            \"onDestroy\",\r\n            \"onKeyDown\",\r\n            \"onMonthChange\",\r\n            \"onOpen\",\r\n            \"onParseConfig\",\r\n            \"onReady\",\r\n            \"onValueUpdate\",\r\n            \"onYearChange\",\r\n            \"onPreCalendarPosition\",\r\n        ];\r\n        self.config = __assign({}, flatpickr.defaultConfig);\r\n        var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\r\n        var formats$$1 = {};\r\n        self.config.parseDate = userConfig.parseDate;\r\n        self.config.formatDate = userConfig.formatDate;\r\n        Object.defineProperty(self.config, \"enable\", {\r\n            get: function () { return self.config._enable || []; },\r\n            set: function (dates) {\r\n                self.config._enable = parseDateRules(dates);\r\n            },\r\n        });\r\n        Object.defineProperty(self.config, \"disable\", {\r\n            get: function () { return self.config._disable || []; },\r\n            set: function (dates) {\r\n                self.config._disable = parseDateRules(dates);\r\n            },\r\n        });\r\n        if (!userConfig.dateFormat && userConfig.enableTime) {\r\n            formats$$1.dateFormat = userConfig.noCalendar\r\n                ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\r\n                : flatpickr.defaultConfig.dateFormat +\r\n                    \" H:i\" +\r\n                    (userConfig.enableSeconds ? \":S\" : \"\");\r\n        }\r\n        if (userConfig.altInput && userConfig.enableTime && !userConfig.altFormat) {\r\n            formats$$1.altFormat = userConfig.noCalendar\r\n                ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\r\n                : flatpickr.defaultConfig.altFormat +\r\n                    (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\r\n        }\r\n        Object.defineProperty(self.config, \"minDate\", {\r\n            get: function () { return self.config._minDate; },\r\n            set: minMaxDateSetter(\"min\"),\r\n        });\r\n        Object.defineProperty(self.config, \"maxDate\", {\r\n            get: function () { return self.config._maxDate; },\r\n            set: minMaxDateSetter(\"max\"),\r\n        });\r\n        var minMaxTimeSetter = function (type) { return function (val) {\r\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i\");\r\n        }; };\r\n        Object.defineProperty(self.config, \"minTime\", {\r\n            get: function () { return self.config._minTime; },\r\n            set: minMaxTimeSetter(\"min\"),\r\n        });\r\n        Object.defineProperty(self.config, \"maxTime\", {\r\n            get: function () { return self.config._maxTime; },\r\n            set: minMaxTimeSetter(\"max\"),\r\n        });\r\n        Object.assign(self.config, formats$$1, userConfig);\r\n        for (var i = 0; i < boolOpts.length; i++)\r\n            self.config[boolOpts[i]] =\r\n                self.config[boolOpts[i]] === true ||\r\n                    self.config[boolOpts[i]] === \"true\";\r\n        for (var i = hooks.length; i--;) {\r\n            if (self.config[hooks[i]] !== undefined) {\r\n                self.config[hooks[i]] = arrayify(self.config[hooks[i]] || []).map(bindToInstance);\r\n            }\r\n        }\r\n        for (var i = 0; i < self.config.plugins.length; i++) {\r\n            var pluginConf = self.config.plugins[i](self) || {};\r\n            for (var key in pluginConf) {\r\n                if (~hooks.indexOf(key)) {\r\n                    self.config[key] = arrayify(pluginConf[key])\r\n                        .map(bindToInstance)\r\n                        .concat(self.config[key]);\r\n                }\r\n                else if (typeof userConfig[key] === \"undefined\")\r\n                    self.config[key] = pluginConf[key];\r\n            }\r\n        }\r\n        self.isMobile =\r\n            !self.config.disableMobile &&\r\n                !self.config.inline &&\r\n                self.config.mode === \"single\" &&\r\n                !self.config.disable.length &&\r\n                !self.config.enable.length &&\r\n                !self.config.weekNumbers &&\r\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n        triggerEvent(\"onParseConfig\");\r\n    }\r\n    function setupLocale() {\r\n        if (typeof self.config.locale !== \"object\" &&\r\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\r\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\r\n        self.l10n = __assign({}, flatpickr.l10ns.default, typeof self.config.locale === \"object\"\r\n            ? self.config.locale\r\n            : self.config.locale !== \"default\"\r\n                ? flatpickr.l10ns[self.config.locale]\r\n                : undefined);\r\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\r\n        self.formatDate = createDateFormatter(self);\r\n    }\r\n    function positionCalendar(customPositionElement) {\r\n        if (self.calendarContainer === undefined)\r\n            return;\r\n        triggerEvent(\"onPreCalendarPosition\");\r\n        var positionElement = customPositionElement || self._positionElement;\r\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, function (acc, child) { return acc + child.offsetHeight; }, 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPos === \"above\" ||\r\n            (configPos !== \"below\" &&\r\n                distanceFromBottom < calendarHeight &&\r\n                inputBounds.top > calendarHeight);\r\n        var top = window.pageYOffset +\r\n            inputBounds.top +\r\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\r\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\r\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\r\n        if (self.config.inline)\r\n            return;\r\n        var left = window.pageXOffset + inputBounds.left;\r\n        var right = window.document.body.offsetWidth - inputBounds.right;\r\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\r\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\r\n        if (self.config.static)\r\n            return;\r\n        self.calendarContainer.style.top = top + \"px\";\r\n        if (!rightMost) {\r\n            self.calendarContainer.style.left = left + \"px\";\r\n            self.calendarContainer.style.right = \"auto\";\r\n        }\r\n        else {\r\n            self.calendarContainer.style.left = \"auto\";\r\n            self.calendarContainer.style.right = right + \"px\";\r\n        }\r\n    }\r\n    function redraw() {\r\n        if (self.config.noCalendar || self.isMobile)\r\n            return;\r\n        buildWeekdays();\r\n        updateNavigationCurrentMonth();\r\n        buildDays();\r\n    }\r\n    function focusAndClose() {\r\n        self._input.focus();\r\n        if (window.navigator.userAgent.indexOf(\"MSIE\") === -1)\r\n            self.close();\r\n        else\r\n            setTimeout(self.close, 0);\r\n    }\r\n    function selectDate(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var isSelectable = function (day) {\r\n            return day.classList &&\r\n                day.classList.contains(\"flatpickr-day\") &&\r\n                !day.classList.contains(\"disabled\") &&\r\n                !day.classList.contains(\"notAllowed\");\r\n        };\r\n        var t = findParent(e.target, isSelectable);\r\n        if (t === undefined)\r\n            return;\r\n        var target = t;\r\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\r\n        var shouldChangeMonth = selectedDate.getMonth() !== self.currentMonth &&\r\n            self.config.mode !== \"range\";\r\n        self.selectedDateElem = target;\r\n        if (self.config.mode === \"single\")\r\n            self.selectedDates = [selectedDate];\r\n        else if (self.config.mode === \"multiple\") {\r\n            var selectedIndex = isDateSelected(selectedDate);\r\n            if (selectedIndex)\r\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\r\n            else\r\n                self.selectedDates.push(selectedDate);\r\n        }\r\n        else if (self.config.mode === \"range\") {\r\n            if (self.selectedDates.length === 2)\r\n                self.clear();\r\n            self.selectedDates.push(selectedDate);\r\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\r\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\r\n        }\r\n        setHoursFromInputs();\r\n        if (shouldChangeMonth) {\r\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\r\n            self.currentYear = selectedDate.getFullYear();\r\n            self.currentMonth = selectedDate.getMonth();\r\n            if (isNewYear)\r\n                triggerEvent(\"onYearChange\");\r\n            triggerEvent(\"onMonthChange\");\r\n        }\r\n        buildDays();\r\n        if (self.config.minDate &&\r\n            self.minDateHasTime &&\r\n            self.config.enableTime &&\r\n            compareDates(selectedDate, self.config.minDate) === 0)\r\n            setHoursFromDate(self.config.minDate);\r\n        updateValue();\r\n        if (self.config.enableTime)\r\n            setTimeout(function () { return (self.showTimeInput = true); }, 50);\r\n        if (self.config.mode === \"range\") {\r\n            if (self.selectedDates.length === 1) {\r\n                onMouseOver(target);\r\n                self._hidePrevMonthArrow =\r\n                    self._hidePrevMonthArrow ||\r\n                        (self.minRangeDate !== undefined &&\r\n                            self.minRangeDate >\r\n                                self.days.childNodes[0].dateObj);\r\n                self._hideNextMonthArrow =\r\n                    self._hideNextMonthArrow ||\r\n                        (self.maxRangeDate !== undefined &&\r\n                            self.maxRangeDate <\r\n                                new Date(self.currentYear, self.currentMonth + 1, 1));\r\n            }\r\n            else\r\n                updateNavigationCurrentMonth();\r\n        }\r\n        if (!shouldChangeMonth)\r\n            focusOnDay(target.$i, 0);\r\n        else\r\n            afterDayAnim(function () { return self.selectedDateElem && self.selectedDateElem.focus(); });\r\n        if (self.hourElement !== undefined)\r\n            setTimeout(function () { return self.hourElement !== undefined && self.hourElement.select(); }, 451);\r\n        if (self.config.closeOnSelect) {\r\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\r\n            var range = self.config.mode === \"range\" &&\r\n                self.selectedDates.length === 2 &&\r\n                !self.config.enableTime;\r\n            if (single || range) {\r\n                focusAndClose();\r\n            }\r\n        }\r\n        triggerChange();\r\n    }\r\n    var CALLBACKS = {\r\n        locale: [setupLocale],\r\n    };\r\n    function set(option, value) {\r\n        if (option !== null && typeof option === \"object\")\r\n            Object.assign(self.config, option);\r\n        else {\r\n            self.config[option] = value;\r\n            if (CALLBACKS[option] !== undefined)\r\n                CALLBACKS[option].forEach(function (x) { return x(); });\r\n        }\r\n        self.redraw();\r\n        jumpToDate();\r\n    }\r\n    function setSelectedDate(inputDate, format) {\r\n        var dates = [];\r\n        if (inputDate instanceof Array)\r\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\r\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\r\n            dates = [self.parseDate(inputDate, format)];\r\n        else if (typeof inputDate === \"string\") {\r\n            switch (self.config.mode) {\r\n                case \"single\":\r\n                    dates = [self.parseDate(inputDate, format)];\r\n                    break;\r\n                case \"multiple\":\r\n                    dates = inputDate\r\n                        .split(self.config.conjunction)\r\n                        .map(function (date) { return self.parseDate(date, format); });\r\n                    break;\r\n                case \"range\":\r\n                    dates = inputDate\r\n                        .split(self.l10n.rangeSeparator)\r\n                        .map(function (date) { return self.parseDate(date, format); });\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        else\r\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\r\n        self.selectedDates = dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); });\r\n        self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\r\n    }\r\n    function setDate(date, triggerChange, format) {\r\n        if (triggerChange === void 0) { triggerChange = false; }\r\n        if (format === void 0) { format = self.config.dateFormat; }\r\n        if (date !== 0 && !date)\r\n            return self.clear(triggerChange);\r\n        setSelectedDate(date, format);\r\n        self.showTimeInput = self.selectedDates.length > 0;\r\n        self.latestSelectedDateObj = self.selectedDates[0];\r\n        self.redraw();\r\n        jumpToDate();\r\n        setHoursFromDate();\r\n        updateValue(triggerChange);\r\n        if (triggerChange)\r\n            triggerEvent(\"onChange\");\r\n    }\r\n    function parseDateRules(arr) {\r\n        return arr\r\n            .map(function (rule) {\r\n            if (typeof rule === \"string\" ||\r\n                typeof rule === \"number\" ||\r\n                rule instanceof Date) {\r\n                return self.parseDate(rule, undefined, true);\r\n            }\r\n            else if (rule &&\r\n                typeof rule === \"object\" &&\r\n                rule.from &&\r\n                rule.to)\r\n                return {\r\n                    from: self.parseDate(rule.from, undefined),\r\n                    to: self.parseDate(rule.to, undefined),\r\n                };\r\n            return rule;\r\n        })\r\n            .filter(function (x) { return x; });\r\n    }\r\n    function setupDates() {\r\n        self.selectedDates = [];\r\n        self.now = new Date();\r\n        var preloadedDate = self.config.defaultDate || self.input.value;\r\n        if (preloadedDate)\r\n            setSelectedDate(preloadedDate, self.config.dateFormat);\r\n        var initialDate = self.selectedDates.length\r\n            ? self.selectedDates[0]\r\n            : self.config.minDate &&\r\n                self.config.minDate.getTime() > self.now.getTime()\r\n                ? self.config.minDate\r\n                : self.config.maxDate &&\r\n                    self.config.maxDate.getTime() < self.now.getTime()\r\n                    ? self.config.maxDate\r\n                    : self.now;\r\n        self.currentYear = initialDate.getFullYear();\r\n        self.currentMonth = initialDate.getMonth();\r\n        if (self.selectedDates.length)\r\n            self.latestSelectedDateObj = self.selectedDates[0];\r\n        if (self.config.minTime !== undefined)\r\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\r\n        if (self.config.maxTime !== undefined)\r\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\r\n        self.minDateHasTime =\r\n            !!self.config.minDate &&\r\n                (self.config.minDate.getHours() > 0 ||\r\n                    self.config.minDate.getMinutes() > 0 ||\r\n                    self.config.minDate.getSeconds() > 0);\r\n        self.maxDateHasTime =\r\n            !!self.config.maxDate &&\r\n                (self.config.maxDate.getHours() > 0 ||\r\n                    self.config.maxDate.getMinutes() > 0 ||\r\n                    self.config.maxDate.getSeconds() > 0);\r\n        Object.defineProperty(self, \"showTimeInput\", {\r\n            get: function () { return self._showTimeInput; },\r\n            set: function (bool) {\r\n                self._showTimeInput = bool;\r\n                if (self.calendarContainer)\r\n                    toggleClass(self.calendarContainer, \"showTimeInput\", bool);\r\n                self.isOpen && positionCalendar();\r\n            },\r\n        });\r\n    }\r\n    function setupInputs() {\r\n        self.input = self.config.wrap\r\n            ? element.querySelector(\"[data-input]\")\r\n            : element;\r\n        if (!self.input) {\r\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\r\n            return;\r\n        }\r\n        self.input._type = self.input.type;\r\n        self.input.type = \"text\";\r\n        self.input.classList.add(\"flatpickr-input\");\r\n        self._input = self.input;\r\n        if (self.config.altInput) {\r\n            self.altInput = createElement(self.input.nodeName, self.input.className + \" \" + self.config.altInputClass);\r\n            self._input = self.altInput;\r\n            self.altInput.placeholder = self.input.placeholder;\r\n            self.altInput.disabled = self.input.disabled;\r\n            self.altInput.required = self.input.required;\r\n            self.altInput.type = \"text\";\r\n            self.input.type = \"hidden\";\r\n            if (!self.config.static && self.input.parentNode)\r\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\r\n        }\r\n        if (!self.config.allowInput)\r\n            self._input.setAttribute(\"readonly\", \"readonly\");\r\n        self._positionElement = self.config.positionElement || self._input;\r\n    }\r\n    function setupMobile() {\r\n        var inputType = self.config.enableTime\r\n            ? self.config.noCalendar ? \"time\" : \"datetime-local\"\r\n            : \"date\";\r\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\r\n        self.mobileInput.step = self.input.getAttribute(\"step\") || \"any\";\r\n        self.mobileInput.tabIndex = 1;\r\n        self.mobileInput.type = inputType;\r\n        self.mobileInput.disabled = self.input.disabled;\r\n        self.mobileInput.placeholder = self.input.placeholder;\r\n        self.mobileFormatStr =\r\n            inputType === \"datetime-local\"\r\n                ? \"Y-m-d\\\\TH:i:S\"\r\n                : inputType === \"date\" ? \"Y-m-d\" : \"H:i:S\";\r\n        if (self.selectedDates.length) {\r\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\r\n        }\r\n        if (self.config.minDate)\r\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\r\n        if (self.config.maxDate)\r\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\r\n        self.input.type = \"hidden\";\r\n        if (self.altInput !== undefined)\r\n            self.altInput.type = \"hidden\";\r\n        try {\r\n            if (self.input.parentNode)\r\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\r\n        }\r\n        catch (_a) { }\r\n        bind(self.mobileInput, \"change\", function (e) {\r\n            self.setDate(e.target.value, false, self.mobileFormatStr);\r\n            triggerEvent(\"onChange\");\r\n            triggerEvent(\"onClose\");\r\n        });\r\n    }\r\n    function toggle() {\r\n        if (self.isOpen)\r\n            return self.close();\r\n        self.open();\r\n    }\r\n    function triggerEvent(event, data) {\r\n        var hooks = self.config[event];\r\n        if (hooks !== undefined && hooks.length > 0) {\r\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\r\n                hooks[i](self.selectedDates, self.input.value, self, data);\r\n        }\r\n        if (event === \"onChange\") {\r\n            self.input.dispatchEvent(createEvent(\"change\"));\r\n            self.input.dispatchEvent(createEvent(\"input\"));\r\n        }\r\n    }\r\n    function createEvent(name) {\r\n        var e = document.createEvent(\"Event\");\r\n        e.initEvent(name, true, true);\r\n        return e;\r\n    }\r\n    function isDateSelected(date) {\r\n        for (var i = 0; i < self.selectedDates.length; i++) {\r\n            if (compareDates(self.selectedDates[i], date) === 0)\r\n                return \"\" + i;\r\n        }\r\n        return false;\r\n    }\r\n    function isDateInRange(date) {\r\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\r\n            return false;\r\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\r\n            compareDates(date, self.selectedDates[1]) <= 0);\r\n    }\r\n    function updateNavigationCurrentMonth() {\r\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\r\n            return;\r\n        self.currentMonthElement.textContent =\r\n            monthToStr(self.currentMonth, self.config.shorthandCurrentMonth, self.l10n) + \" \";\r\n        self.currentYearElement.value = self.currentYear.toString();\r\n        self._hidePrevMonthArrow =\r\n            self.config.minDate !== undefined &&\r\n                (self.currentYear === self.config.minDate.getFullYear()\r\n                    ? self.currentMonth <= self.config.minDate.getMonth()\r\n                    : self.currentYear < self.config.minDate.getFullYear());\r\n        self._hideNextMonthArrow =\r\n            self.config.maxDate !== undefined &&\r\n                (self.currentYear === self.config.maxDate.getFullYear()\r\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\r\n                    : self.currentYear > self.config.maxDate.getFullYear());\r\n    }\r\n    function updateValue(triggerChange) {\r\n        if (triggerChange === void 0) { triggerChange = true; }\r\n        if (!self.selectedDates.length)\r\n            return self.clear(triggerChange);\r\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\r\n            self.mobileInput.value =\r\n                self.latestSelectedDateObj !== undefined\r\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\r\n                    : \"\";\r\n        }\r\n        var joinChar = self.config.mode !== \"range\"\r\n            ? self.config.conjunction\r\n            : self.l10n.rangeSeparator;\r\n        self.input.value = self.selectedDates\r\n            .map(function (dObj) { return self.formatDate(dObj, self.config.dateFormat); })\r\n            .join(joinChar);\r\n        if (self.altInput !== undefined) {\r\n            self.altInput.value = self.selectedDates\r\n                .map(function (dObj) { return self.formatDate(dObj, self.config.altFormat); })\r\n                .join(joinChar);\r\n        }\r\n        if (triggerChange !== false)\r\n            triggerEvent(\"onValueUpdate\");\r\n    }\r\n    function onMonthNavScroll(e) {\r\n        e.preventDefault();\r\n        var isYear = self.currentYearElement.parentNode &&\r\n            self.currentYearElement.parentNode.contains(e.target);\r\n        if (e.target === self.currentMonthElement || isYear) {\r\n            var delta = mouseDelta(e);\r\n            if (isYear) {\r\n                changeYear(self.currentYear + delta);\r\n                e.target.value = self.currentYear.toString();\r\n            }\r\n            else\r\n                self.changeMonth(delta, true, false);\r\n        }\r\n    }\r\n    function onMonthNavClick(e) {\r\n        var isPrevMonth = self.prevMonthNav.contains(e.target);\r\n        var isNextMonth = self.nextMonthNav.contains(e.target);\r\n        if (isPrevMonth || isNextMonth)\r\n            changeMonth(isPrevMonth ? -1 : 1);\r\n        else if (e.target === self.currentYearElement) {\r\n            e.preventDefault();\r\n            self.currentYearElement.select();\r\n        }\r\n        else if (e.target.className === \"arrowUp\")\r\n            self.changeYear(self.currentYear + 1);\r\n        else if (e.target.className === \"arrowDown\")\r\n            self.changeYear(self.currentYear - 1);\r\n    }\r\n    function timeWrapper(e) {\r\n        e.preventDefault();\r\n        var isKeyDown = e.type === \"keydown\", input = e.target;\r\n        if (self.amPM !== undefined && e.target === self.amPM) {\r\n            self.amPM.textContent =\r\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\r\n        }\r\n        var min = parseFloat(input.getAttribute(\"data-min\")), max = parseFloat(input.getAttribute(\"data-max\")), step = parseFloat(input.getAttribute(\"data-step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\r\n            (isKeyDown\r\n                ? e.which === 38 ? 1 : -1\r\n                : Math.max(-1, Math.min(1, e.wheelDelta || -e.deltaY)) || 0);\r\n        var newValue = curValue + step * delta;\r\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\r\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\r\n            if (newValue < min) {\r\n                newValue =\r\n                    max +\r\n                        newValue +\r\n                        int(!isHourElem) +\r\n                        (int(isHourElem) && int(!self.amPM));\r\n                if (isMinuteElem)\r\n                    incrementNumInput(undefined, -1, self.hourElement);\r\n            }\r\n            else if (newValue > max) {\r\n                newValue =\r\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\r\n                if (isMinuteElem)\r\n                    incrementNumInput(undefined, 1, self.hourElement);\r\n            }\r\n            if (self.amPM &&\r\n                isHourElem &&\r\n                (step === 1\r\n                    ? newValue + curValue === 23\r\n                    : Math.abs(newValue - curValue) > step)) {\r\n                self.amPM.textContent =\r\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\r\n            }\r\n            input.value = pad(newValue);\r\n        }\r\n    }\r\n    init();\r\n    return self;\r\n}\r\nfunction _flatpickr(nodeList, config) {\r\n    var nodes = Array.prototype.slice.call(nodeList);\r\n    var instances = [];\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        var node = nodes[i];\r\n        try {\r\n            if (node.getAttribute(\"data-fp-omit\") !== null)\r\n                continue;\r\n            if (node._flatpickr !== undefined) {\r\n                node._flatpickr.destroy();\r\n                node._flatpickr = undefined;\r\n            }\r\n            node._flatpickr = FlatpickrInstance(node, config || {});\r\n            instances.push(node._flatpickr);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    return instances.length === 1 ? instances[0] : instances;\r\n}\r\nif (typeof HTMLElement !== \"undefined\") {\r\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\r\n        return _flatpickr(this, config);\r\n    };\r\n    HTMLElement.prototype.flatpickr = function (config) {\r\n        return _flatpickr([this], config);\r\n    };\r\n}\r\nvar flatpickr;\r\nflatpickr = function (selector, config) {\r\n    if (selector instanceof NodeList)\r\n        return _flatpickr(selector, config);\r\n    else if (typeof selector === \"string\")\r\n        return _flatpickr(window.document.querySelectorAll(selector), config);\r\n    return _flatpickr([selector], config);\r\n};\r\nif (typeof window === \"object\")\r\n    window.flatpickr = flatpickr;\r\nflatpickr.defaultConfig = defaults;\r\nflatpickr.l10ns = {\r\n    en: __assign({}, english),\r\n    default: __assign({}, english),\r\n};\r\nflatpickr.localize = function (l10n) {\r\n    flatpickr.l10ns.default = __assign({}, flatpickr.l10ns.default, l10n);\r\n};\r\nflatpickr.setDefaults = function (config) {\r\n    flatpickr.defaultConfig = __assign({}, flatpickr.defaultConfig, config);\r\n};\r\nflatpickr.parseDate = createDateParser({});\r\nflatpickr.formatDate = createDateFormatter({});\r\nflatpickr.compareDates = compareDates;\r\nif (typeof jQuery !== \"undefined\") {\r\n    jQuery.fn.flatpickr = function (config) {\r\n        return _flatpickr(this, config);\r\n    };\r\n}\r\nDate.prototype.fp_incr = function (days) {\r\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\r\n};\r\nvar flatpickr$1 = flatpickr;\n\nexports['default'] = flatpickr$1;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/~/flatpickr/dist/flatpickr.js","/* flatpickr v4.2.3, @license MIT */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.ru = {})));\n}(this, (function (exports) { 'use strict';\n\nvar fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\r\n    ? window.flatpickr\r\n    : {\r\n        l10ns: {},\r\n    };\r\nvar Russian = {\r\n    firstDayOfWeek: 1,\r\n    weekdays: {\r\n        shorthand: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\r\n        longhand: [\r\n            \"Воскресенье\",\r\n            \"Понедельник\",\r\n            \"Вторник\",\r\n            \"Среда\",\r\n            \"Четверг\",\r\n            \"Пятница\",\r\n            \"Суббота\",\r\n        ],\r\n    },\r\n    months: {\r\n        shorthand: [\r\n            \"Янв\",\r\n            \"Фев\",\r\n            \"Март\",\r\n            \"Апр\",\r\n            \"Май\",\r\n            \"Июнь\",\r\n            \"Июль\",\r\n            \"Авг\",\r\n            \"Сен\",\r\n            \"Окт\",\r\n            \"Ноя\",\r\n            \"Дек\",\r\n        ],\r\n        longhand: [\r\n            \"Январь\",\r\n            \"Февраль\",\r\n            \"Март\",\r\n            \"Апрель\",\r\n            \"Май\",\r\n            \"Июнь\",\r\n            \"Июль\",\r\n            \"Август\",\r\n            \"Сентябрь\",\r\n            \"Октябрь\",\r\n            \"Ноябрь\",\r\n            \"Декабрь\",\r\n        ],\r\n    },\r\n    rangeSeparator: \" — \",\r\n    scrollTitle: \"Прокрутите для увеличения\",\r\n    toggleTitle: \"Нажмите для переключения\",\r\n};\r\nfp.l10ns.ru = Russian;\r\nvar ru = fp.l10ns;\n\nexports.Russian = Russian;\nexports['default'] = ru;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/~/flatpickr/dist/l10n/ru.js","export default (isEdit) => {\r\n  return `<h3 class=\"event-form__title\">${(isEdit) ? 'Редактирование встречи' : 'Новая встреча'}</h3>\r\n        <a href=\"#\" class=\"event-form__close circle-icon\" data-cancel>\r\n            <i>\r\n                <svg width=\"10\" height=\"10\">\r\n                    <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-close\"></use>\r\n                </svg>\r\n            </i>\r\n        </a>`;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/event-form-header.js","export default (isEdit) => {\r\n  let eventFormContent = (isEdit) ?\r\n      `<a href=\"#\" class=\"button button--gray\" data-cancel>Отмена</a>\r\n      <div class=\"event-form__delete-btn\">\r\n          <button class=\"button button--gray\" id=\"deleteEventBtn\">Удалить встречу</button>\r\n      </div>\r\n      <button class=\"button button--blue\" id=\"editEventBtn\">Сохранить</button>`\r\n    : `<a href=\"#\" class=\"button button--gray\" data-cancel>Отмена</a>\r\n      <button class=\"button button--blue button--disabled\" id=\"createBtn\">Создать встречу</button>`;\r\n\r\n  return eventFormContent;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/event-form-footer.js","export default (fieldProps) => {\r\n  const inputId = fieldProps.inputId;\r\n  const label = fieldProps.label;\r\n  const placeholder = (fieldProps.placeholder !== null) ? fieldProps.placeholder : '';\r\n  const extraClass = (fieldProps.extraClass !== null) ? ` ${fieldProps.extraClass}` : '';\r\n  const inputValue = fieldProps.inputValue;\r\n  const filledClass = (inputValue !== null) ? ' filled' : '';\r\n  const isDate = fieldProps.isDate;\r\n\r\n  return `<div class=\"field${extraClass}${filledClass}\" id=\"${(isDate) ? 'date' : ''}\">\r\n                <label class=\"field__label\" for=\"${inputId}\">${label}</label>\r\n                <input type=\"text\" \r\n                  name=\"fieldInput\" \r\n                  id=\"${inputId}\" \r\n                  placeholder=\"${placeholder}\"\r\n                  value=\"${inputValue || ''}\"\r\n                  ${(isDate) ? 'data-input' : ''}\r\n                  >\r\n                  \r\n                <a href=\"#\" class=\"field__reset\">\r\n                    <i>\r\n                        <svg width=\"12\" height=\"12\">\r\n                            <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-close\"></use>\r\n                        </svg>\r\n                    </i>\r\n                </a>\r\n                \r\n                ${(isDate) ? '<button class=\"field__trigger\" id=\"dateTrigger\" data-toggle></button>' : ''}\r\n            </div>`;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/field.js","import {getDateValue} from '../../tools/helpers';\r\n/**\r\n * @typedef {Object} Person\r\n * @property {String} login Идентификатор сотрудника.\r\n * @property {Number} floor \"Домашний\" этаж сотрудника.\r\n * @property {String} avatar Ссылка на аватар.\r\n */\r\n\r\n/**\r\n * @typedef {Object} Room\r\n * @property {Number} id Идентификатор переговорки.\r\n * @property {String} title Название переговорки.\r\n * @property {Number} capacity Вместимость (количество человек).\r\n * @property {Number} floor Этаж, на котором расположена переговорка.\r\n */\r\n\r\n/**\r\n * @typedef {Object} EventDate\r\n * @property {Number} start Timestamp начала встречи.\r\n * @property {Number} end Timestamp окончания встречи.\r\n */\r\n\r\n/**\r\n * @typedef {Object} Event\r\n * @property {String} id Идентификатор встречи.\r\n * @property {String} title Название встречи.\r\n * @property {String[]} members Логины участников встречи.\r\n * @property {EventDate} date Дата и время проведения встречи.\r\n * @property {Number} room Идентификатор переговорки.\r\n */\r\n\r\n/**\r\n * @typedef {Object} RoomsSwap\r\n * @property {string} event Идентификатор встречи.\r\n * @property {String} room Новый идентификатор переговорки.\r\n */\r\n\r\n/**\r\n * @typedef {Object} Recommendation\r\n * @property {EventDate} date Дата и время проведения встречи.\r\n * @property {String} room Идентификатор переговорки.\r\n * @property {RoomsSwap[]} [swap] Необходимые замены переговорк для реализации рекомендации.\r\n */\r\n\r\n/**\r\n * @param {EventDate} date Дата планируемой встречи.\r\n * @param {Person[]} members Участники планируемой встречи.\r\n * @param {Object} db\r\n * @param {Event[]} db.events Список все встреч.\r\n * @param {Room[]} db.rooms Список всех переговорок.\r\n * @param {Person[]} db.persons Список всех сотрудников.\r\n * @returns {Recommendation[]}\r\n */\r\n\r\nfunction getRecommendation(date, members, db) {\r\n  const eventStart = date.start;\r\n  const eventEnd = date.end;\r\n  const eventDuration = eventEnd - eventStart;\r\n  const dayEnd = new Date(eventStart).setHours(23, 0, 0);\r\n  const dbEvents = db.events;\r\n  const dbRooms = db.rooms;\r\n  const dbUsers = db.persons;\r\n  const numberOfMembers = members.length;\r\n  let recommendation = {};\r\n  let recommendationArr = [];\r\n\r\n  const now = new Date();\r\n  const today = getDateValue(now).day;\r\n  const currentMinute = getDateValue(now).minute;\r\n  const eventStartDate = new Date(date.start);\r\n  const eventStartDay = getDateValue(eventStartDate).day;\r\n\r\n  if (today === eventStartDay) {\r\n    if (currentMinute > eventStart || currentMinute > eventEnd) { // если время предпологаемого события меньше текущего времени\r\n      return [];\r\n    }\r\n  } else if (today > eventStartDay) {\r\n    return [];\r\n  }\r\n\r\n  let swapArr = [];\r\n\r\n  roomLoop: for (let dbRoom of dbRooms) {\r\n    let dbRoomId = dbRoom.id;\r\n    if (dbRoom.capacity < numberOfMembers) { // если вместимость комнаты меньше участников события\r\n      continue;\r\n    }\r\n\r\n    // Цикл который пробегается по всему дню, начиная со времени начала предпологаемого события, с шагом в продолжительность события\r\n    for (let t = eventStart; t <= dayEnd - eventDuration;) {\r\n      let tStart = t; // Время начала предпологаемого события\r\n      let tEnd = tStart + eventDuration; // Время окончания предпологаемого\r\n\r\n      let isTimeHasnotEvent = true;\r\n\r\n      for (let dbEvent of dbEvents) {\r\n        let dbEventStart = getDateValue(new Date(dbEvent.dateStart)).minute;\r\n        let dbEventEnd = getDateValue(new Date(dbEvent.dateEnd)).minute;\r\n        let dbEventDuration = dbEventEnd - dbEventStart;\r\n        let dif = tEnd - dbEventStart;\r\n\r\n        if (currentMinute > dbEventEnd) {\r\n          continue;\r\n        }\r\n\r\n        if (dbEvent.room.id === dbRoomId) { // если в этой комнате есть события\r\n          if (tStart - dbEventEnd > 0 || tEnd - dbEventStart < 0 ) {\r\n            continue;\r\n          }\r\n\r\n          if (tStart <= dbEventStart && tEnd >= dbEventEnd && eventDuration > dbEventDuration) { // Если событие идет не весь промежуток времени\r\n            swapArr.push({\r\n              event: dbEvent,\r\n              tStart: getDateValue(new Date(tStart)).minute,\r\n              tEnd: getDateValue(new Date(tEnd)).minute,\r\n              roomId: dbRoom.id,\r\n              roomFloor: dbRoom.floor\r\n            });\r\n\r\n            if (swapArr.length > 1) {\r\n              let eventSwap = checkEventsForSwap(swapArr, dbUsers, dbRooms);\r\n\r\n              if (eventSwap.length > 0) {\r\n                for (let swap of eventSwap) {\r\n                  if (swap.eventRoom === dbRoomId) {\r\n                    recommendation = {\r\n                      date: {\r\n                        start: getDateValue(new Date(tStart)).minute,\r\n                        end: getDateValue(new Date(tEnd)).minute\r\n                      },\r\n                      room: dbRoomId\r\n                    };\r\n                    if (recommendation.hasOwnProperty('swap')) {\r\n                      recommendation.swap.push({\r\n                        event: swap.event,\r\n                        room: swap.newRoom\r\n                      });\r\n                    } else {\r\n                      recommendation.swap = [{\r\n                        event: swap.event,\r\n                        room: swap.newRoom\r\n                      }];\r\n                    }\r\n                    recommendationArr.push(recommendation);\r\n                    recommendation = {};\r\n                    continue roomLoop;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          if (dif > 1) { // если на этот промежуток времени запланировано событие\r\n            t = dbEventEnd + 1;\r\n            isTimeHasnotEvent = false;\r\n            break;\r\n          }\r\n          t += eventDuration;\r\n        }\r\n      }\r\n\r\n      if (isTimeHasnotEvent) {\r\n        recommendation = {\r\n          date: {\r\n            start: getDateValue(new Date(tStart)).minute,\r\n            end: getDateValue(new Date(tEnd)).minute\r\n          },\r\n          room: dbRoomId\r\n        };\r\n        recommendationArr.push(recommendation);\r\n        recommendation = {};\r\n        continue roomLoop;\r\n      }\r\n    }\r\n  }\r\n\r\n  return recommendationArr;\r\n}\r\n\r\nconst checkEventsForSwap = (events, users, dbRooms) => {\r\n  let floorsValueOne;\r\n  let floorsValueTwo;\r\n  let isFeet;\r\n  let swap = [];\r\n\r\n  for (let i = 0; i < events.length; i++) {\r\n    let eventOne = events[i].event;\r\n    let startOne = getDateValue(new Date(eventOne.dateStart)).minute;\r\n    let endOne = getDateValue(new Date(eventOne.dateEnd)).minute;\r\n    let roomOneFloor = events[i].roomFloor;\r\n    let roomOneId = events[i].roomId;\r\n\r\n    for (let j = i + 1; j < events.length; j++) {\r\n      let eventTwo = events[j].event;\r\n      let startTwo = getDateValue(new Date(eventTwo.dateStart)).minute;\r\n      let endTwo = getDateValue(new Date(eventTwo.dateEnd)).minute;\r\n      let roomTwoFloor = events[j].roomFloor;\r\n      let roomTwoId = events[j].roomId;\r\n\r\n      if (startOne < startTwo && endOne <= endOne\r\n        || startTwo < startOne && endTwo <= startOne) { // если события не пересекаются\r\n\r\n        floorsValueOne = countFloors(eventOne.users, users, roomTwoFloor);\r\n        floorsValueTwo = countFloors(eventTwo.users, users, roomOneFloor);\r\n\r\n        if (floorsValueOne < floorsValueTwo) {\r\n          isFeet = checkCapacity(dbRooms, eventTwo.room.id, eventTwo.users);\r\n          if (isFeet) {\r\n            swap.push({\r\n              event: eventOne.id,\r\n              eventRoom: roomOneId,\r\n              newRoom: eventTwo.room.id\r\n            });\r\n          }\r\n        } else {\r\n          isFeet = checkCapacity(dbRooms, eventOne.room.id, eventOne.users);\r\n          if (isFeet) {\r\n            swap.push({\r\n              event: eventTwo.id,\r\n              eventRoom: roomTwoId,\r\n              newRoom: eventOne.room.id\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    break;\r\n  }\r\n\r\n  return swap;\r\n};\r\n\r\nconst countFloors = (eventUsers, users, roomFloor) => {\r\n  let numberOfFloors = 0;\r\n  let userFloor;\r\n  for (let eventUser of eventUsers) {\r\n    for (let user of users) {\r\n      if (user.id === eventUser.id) {\r\n        userFloor = user.homeFloor;\r\n        numberOfFloors = Math.max(userFloor, roomFloor) - Math.min(userFloor, roomFloor);\r\n      }\r\n    }\r\n  }\r\n  return numberOfFloors;\r\n};\r\n\r\nconst checkCapacity = (rooms, id, eventMembers) => {\r\n  let isFeet;\r\n  for (let room of rooms) {\r\n    if (room.id === id) {\r\n      if (room.capacity > eventMembers.length) {\r\n        isFeet = true;\r\n        break;\r\n      }\r\n      isFeet = false;\r\n    }\r\n  }\r\n  return isFeet;\r\n};\r\n\r\nexport default getRecommendation;\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/get-recomendation.js","import Application from './../../application';\r\nimport {getDateValue, parseObjToHash} from '../../tools/helpers';\r\n\r\nexport default (inputData, isSelected) => {\r\n  const appData = Application.data;\r\n  const dbRooms = appData.rooms || {};\r\n  const eventDate = inputData.date;\r\n  const eventStartDate = new Date(eventDate.start);\r\n  const eventEndDate = new Date(eventDate.end);\r\n  const roomId = inputData.room;\r\n  const getMinutes = (date) => {\r\n    return (date.getMinutes() < 10) ? `0${date.getMinutes()}` : date.getMinutes();\r\n  };\r\n  const time = `${eventStartDate.getHours()}:${getMinutes(eventStartDate)}—${eventEndDate.getHours()}:${getMinutes(eventEndDate)}`;\r\n  let roomTitle;\r\n  let roomFloor;\r\n  let dataSwap = '';\r\n\r\n  if (inputData.hasOwnProperty('swap')) {\r\n    for (let swap of inputData.swap) {\r\n      let swapHash = parseObjToHash(swap);\r\n      dataSwap += '|' + swapHash;\r\n    }\r\n\r\n    dataSwap = `data-swap=\"${dataSwap}\"`;\r\n  }\r\n\r\n  for (let dbRoom of dbRooms) {\r\n    if (roomId === dbRoom.id) {\r\n      roomTitle = dbRoom.title;\r\n      roomFloor = dbRoom.floor;\r\n    }\r\n  }\r\n\r\n  return `<div class=\"recommendation-tag${(isSelected) ? ' recommendation-tag--selected' : ''}\" data-room-id=\"${roomId}\" ${dataSwap}>\r\n            <div class=\"recommendation-tag__content\">\r\n              <span class=\"recommendation-tag__time\" \r\n                data-start-date=\"${getDateValue(eventStartDate).minute}\"\r\n                data-end-date=\"${getDateValue(eventEndDate).minute}\">\r\n                ${time}\r\n              </span>\r\n              <span class=\"recommendation-tag__room\">\r\n                ${roomTitle} · ${roomFloor} этаж\r\n              </span>\r\n            </div>\r\n            <button class=\"recommendation-tag__delete\">\r\n              <i>\r\n                  <svg width=\"10\" height=\"10\">\r\n                      <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-close\"></use>\r\n                  </svg>\r\n              </i>\r\n            </button>\r\n          </div>`;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/get-recomendation-tag.js","import field from './field';\r\nimport getUser from './get-user';\r\nimport getUserTag from './get-user-tag';\r\nimport hideOnClickOutside from '../../tools/hide-on-click-outside';\r\n\r\nconst getAutocompleteMarkup = (fieldProps) => {\r\n  return `<div class=\"field-autocomplete\" data-autocomplete>\r\n            ${field(fieldProps)}\r\n            \r\n            <i class=\"field-autocomplete__arrow\">\r\n              <svg width=\"12\" height=\"12\">\r\n                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-arrow\"></use>\r\n              </svg>\r\n            </i>\r\n            \r\n            <div class=\"field-autocomplete__dropdown\"></div>\r\n            <div class=\"field-autocomplete__tags\"></div>\r\n          </div>`;\r\n};\r\n\r\nconst dropdownItemHandler = (event, item, container) => {\r\n  const dropdownItem = item;\r\n  const userId = dropdownItem.getAttribute('data-user-id');\r\n  const user = dropdownItem.querySelector('.user');\r\n  const login = user.getAttribute('data-login');\r\n  const avatarUrl = user.querySelector('img').getAttribute('src');\r\n  const userArrInContainer = container.querySelectorAll('.user-tag');\r\n  let userTag = getUserTag(userId, login, avatarUrl);\r\n\r\n  for (let userIn of Array.from(userArrInContainer)) {\r\n    const userInId = userIn.getAttribute('data-user-id');\r\n\r\n    if (userInId === userId) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  container.appendChild(userTag);\r\n  return true;\r\n};\r\n\r\nconst autocompleteHandler = (event, inputUsers) => {\r\n  const input = event.target;\r\n  const autocomplete = input.parents('[data-autocomplete]')[0];\r\n  const autocompleteDropdown = autocomplete.querySelector('.field-autocomplete__dropdown');\r\n  const autocompleteTagsContainer = autocomplete.querySelector('.field-autocomplete__tags');\r\n  const clearAutocomplete = () => {\r\n    autocomplete.classList.remove('opened');\r\n    autocompleteDropdown.innerHTML = '';\r\n  };\r\n  let inputValue = input.value;\r\n  let autocompleteList;\r\n  let autocompleteListItems = '';\r\n  let autocompleteListItem;\r\n  let autocompleteDropdownItemArr;\r\n\r\n  if (inputValue.length < 2) {\r\n    clearAutocomplete();\r\n    return false;\r\n  }\r\n\r\n  for (let user of Array.from(inputUsers)) {\r\n    const login = user.login;\r\n\r\n    if (login.indexOf(inputValue) !== -1) {\r\n      autocompleteListItem = `<li class=\"field-autocomplete__dropdown-item\" data-user-id=\"${user.id}\" data-autocomplete-item>\r\n                                  ${getUser(login, user.avatarUrl)}\r\n                                  &nbsp;·&nbsp;${user.homeFloor} этаж\r\n                              </li>`;\r\n\r\n      autocompleteListItems += autocompleteListItem;\r\n    }\r\n  }\r\n\r\n  if (autocompleteListItems.length === 0) {\r\n    return false;\r\n  }\r\n\r\n  autocompleteList = `<ul>${autocompleteListItems}</ul>`;\r\n  autocompleteDropdown.innerHTML = autocompleteList;\r\n  autocomplete.classList.add('opened');\r\n\r\n  autocompleteDropdownItemArr = autocompleteDropdown.querySelectorAll('.field-autocomplete__dropdown-item');\r\n\r\n  let getDropdownItemHandler;\r\n  let dropdownItemRemoveClickListener;\r\n\r\n  for (let autocompleteDropdownItem of Array.from(autocompleteDropdownItemArr)) {\r\n    const addUserToEvent = new CustomEvent('addUserToEvent', {\r\n      detail: {\r\n        userId: autocompleteDropdownItem.getAttribute('data-user-id')\r\n      }\r\n    });\r\n\r\n    getDropdownItemHandler = (e) => {\r\n      dropdownItemHandler(e, autocompleteDropdownItem, autocompleteTagsContainer);\r\n      clearAutocomplete();\r\n\r\n      dropdownItemRemoveClickListener();\r\n      document.dispatchEvent(addUserToEvent);\r\n    };\r\n\r\n    dropdownItemRemoveClickListener = () => {\r\n      autocompleteDropdownItem.removeEventListener('click', getDropdownItemHandler);\r\n    };\r\n\r\n    autocompleteDropdownItem.addEventListener('click', getDropdownItemHandler);\r\n  }\r\n\r\n  hideOnClickOutside('[data-autocomplete]', () => {\r\n    clearAutocomplete();\r\n    dropdownItemRemoveClickListener();\r\n  });\r\n\r\n  return true;\r\n};\r\n\r\nexport {getAutocompleteMarkup, autocompleteHandler};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/field-autocomplete.js","export default (login, avatarUrl) => {\r\n  return `<div class=\"user\" data-login=\"${login}\">\r\n              <div class=\"user__icon\">\r\n                  <img src=\"${avatarUrl}\" alt=\"\">\r\n              </div>\r\n              ${login}\r\n          </div>`;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/get-user.js","import getUser from './get-user';\r\nimport {getNodeFromMarkup} from './../../tools/helpers';\r\n\r\nexport default (userId, login, avatarUrl) => {\r\n  const userTag = `<div class=\"user-tag\" data-user-id=\"${userId}\">\r\n                      ${getUser(login, avatarUrl)}\r\n                      <a class=\"user-tag__remove\" href=\"#\">\r\n                        <i>\r\n                          <svg width=\"10\" height=\"10\">\r\n                            <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-close\"></use>\r\n                          </svg>\r\n                        </i>\r\n                      </a>\r\n                  </div>`;\r\n\r\n  const userTagElement = getNodeFromMarkup(userTag);\r\n  const userTagRemoveBtn = userTagElement.querySelector('.user-tag__remove');\r\n\r\n  const removeUserFromEvent = new CustomEvent('removeUserFromEvent', {\r\n    detail: {\r\n      userId: userId\r\n    }\r\n  });\r\n\r\n  const userRemoveBtnHandler = (event) => {\r\n    event.preventDefault();\r\n    userTagElement.parentNode.removeChild(userTagElement);\r\n    document.dispatchEvent(removeUserFromEvent);\r\n    removeClickListener();\r\n  };\r\n\r\n  const removeClickListener = () => {\r\n    userTagRemoveBtn.removeEventListener('click', userRemoveBtnHandler);\r\n  };\r\n\r\n  userTagRemoveBtn.addEventListener('click', userRemoveBtnHandler);\r\n\r\n  return userTagElement;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/get-user-tag.js","import AbstractView from './../abstract-view';\r\nimport Application from './../../application';\r\nimport {router} from './../../router';\r\nimport ApiService from './../../api-service';\r\nimport Flatpickr from 'flatpickr';\r\nimport {Russian} from 'flatpickr/dist/l10n/ru.js';\r\nimport {getDateValue, getNodeFromMarkup, checkEventTarget, UserException, parseObjToHash, encodeObjFromHash} from '../../tools/helpers';\r\nimport eventFormHeader from './event-form-header';\r\nimport eventFormFooter from './event-form-footer';\r\nimport field from './field';\r\nimport getUserTag from './get-user-tag';\r\nimport getRecommendation from './get-recomendation';\r\nimport getRecommendationTagMarkup from './get-recomendation-tag';\r\nimport {getAutocompleteMarkup, autocompleteHandler} from './field-autocomplete';\r\nimport showPopup from './../showPopup';\r\n\r\nclass EventNewView extends AbstractView {\r\n\r\n  constructor(eventInputData) {\r\n    super(eventInputData);\r\n    this.eventInputData = eventInputData || {};\r\n    this.fieldsProps = {\r\n      'eventDate': {\r\n        inputId: 'eventDate',\r\n        label: 'Дата',\r\n        placeholder: null,\r\n        extraClass: 'field--icon field--date',\r\n        inputValue: null,\r\n        isDate: true\r\n      },\r\n      'eventStartTime': {\r\n        inputId: 'eventStartTimeInput',\r\n        label: 'Начало',\r\n        placeholder: null,\r\n        extraClass: null,\r\n        inputValue: null,\r\n        isDate: false\r\n      },\r\n      'eventEndTime': {\r\n        inputId: 'eventEndTimeInput',\r\n        label: 'Конец',\r\n        placeholder: null,\r\n        extraClass: null,\r\n        inputValue: null,\r\n        isDate: false\r\n      },\r\n      'eventMembers': {\r\n        inputId: 'eventMembers',\r\n        label: 'Участники',\r\n        placeholder: 'Например, Тор Одинович',\r\n        extraClass: null,\r\n        inputValue: null,\r\n        isDate: false\r\n      }\r\n    };\r\n    this.appData = Application.data;\r\n    this.users = this.appData.users || {};\r\n    this.rooms = this.appData.rooms || {};\r\n\r\n    this.eventStartDate = new Date(+this.eventInputData.startTime);\r\n    this.eventDateDay = getDateValue(this.eventStartDate).day; // день в который происходят все события\r\n\r\n    this.initialAppDate = new Date();\r\n    this.initialAppDay = getDateValue(this.initialAppDate).day; // день инициализации приложения\r\n\r\n    this.cancelBtnHandler = this.cancelBtnHandler.bind(this);\r\n    this.getAutocompleteHandler = this.getAutocompleteHandler.bind(this);\r\n    this.addUserHandler = this.addUserHandler.bind(this);\r\n    this.removeUserHandler = this.removeUserHandler.bind(this);\r\n    this.recommendationTagDeleteBtnHandler = this.recommendationTagDeleteBtnHandler.bind(this);\r\n    this.deleteEventBtnHandle = this.deleteEventBtnHandle.bind(this);\r\n    this.editEventBtnHandle = this.editEventBtnHandle.bind(this);\r\n  }\r\n\r\n  getMarkup() {\r\n    const header = '<header class=\"header\"><div class=\"logo\"></div></header>';\r\n    const events = this.appData.events[this.eventDateDay]; // события происходящие в этот день\r\n    const eventInputId = this.eventInputData.eventId; // id события переданное по url\r\n    this.eventStartDate = new Date(+this.eventInputData.startTime);\r\n    this.eventEndDate = new Date(+this.eventInputData.endTime);\r\n    this.eventDate = {\r\n      start: +this.eventInputData.startTime,\r\n      end: +this.eventInputData.endTime\r\n    };\r\n\r\n    let eventName;\r\n    for (let event of events) {\r\n      if (eventInputId === event.id) {\r\n        eventName = event.title;\r\n        this.currentId = event.id;\r\n        this.eventUsers = event.users;\r\n        this.eventRoomId = event.room.id;\r\n      }\r\n    }\r\n\r\n    this.fieldsProps.eventTitle = {\r\n      inputId: 'eventTitle',\r\n      label: 'Тема',\r\n      placeholder: 'О чём будете говорить?',\r\n      extraClass: null,\r\n      inputValue: eventName,\r\n      isDate: false\r\n    };\r\n\r\n    this.recommendation = {\r\n      date: this.eventDate,\r\n      room: this.eventRoomId\r\n    };\r\n\r\n    return `<div class=\"event-page\" id=\"app\">\r\n              ${header} \r\n              <div class=\"event-form event-form--edit\">\r\n                <div class=\"event-form__header\">${eventFormHeader(true)}</div>\r\n                <div class=\"event-form__body\">\r\n                  <div class=\"event-form__col\">\r\n                    ${field(this.fieldsProps.eventTitle)}\r\n                  </div>\r\n                  \r\n                  <div class=\"event-form__col event-form__col--flex\">\r\n                    <div class=\"event-form__col-date\">\r\n                      ${field(this.fieldsProps.eventDate)}\r\n                    </div>\r\n                    \r\n                    <div class=\"event-form__col-time\">\r\n                      ${field(this.fieldsProps.eventStartTime)}\r\n                      <i class=\"event-form__col-time-separator\"></i>\r\n                      ${field(this.fieldsProps.eventEndTime)}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div class=\"event-form__col\">\r\n                    ${getAutocompleteMarkup(this.fieldsProps.eventMembers)}                  \r\n                  </div>\r\n                  \r\n                  <div class=\"event-form__col\">\r\n                    <div class=\"recommendations\" id=\"recomParent\" data-type=\"room-selected\">\r\n                      <div class=\"recommendations__title\">Ваша переговорка</div>\r\n                      <div class=\"recomendations__cnt\">\r\n                        ${getRecommendationTagMarkup(this.recommendation, true)}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"event-form__footer\">\r\n                  <div class=\"event-form__validation\">\r\n                    <div class=\"event-form__validation-content\"></div>\r\n                  </div>\r\n                  ${eventFormFooter(true)}\r\n                </div>\r\n            </div>\r\n          </div>`;\r\n  }\r\n\r\n  cancelBtnHandler(event) {\r\n    const day = {\r\n      date: this.eventInputData.startTime\r\n    };\r\n    event.preventDefault();\r\n    this.clearHandlers();\r\n    router.navigate(`/date/${parseObjToHash(day)}`);\r\n  }\r\n\r\n  getAutocompleteHandler(event) {\r\n    autocompleteHandler(event, this.users);\r\n  }\r\n\r\n  fieldResetHandler(event) {\r\n    event.preventDefault();\r\n    const fieldInput = this.parentNode;\r\n    const input = fieldInput.querySelector('input');\r\n    fieldInput.classList.remove('filled');\r\n    input.value = '';\r\n    input.focus();\r\n  }\r\n\r\n  recommendationTagClickHandler(recommendationTag) {\r\n    const recommendationTagTime = recommendationTag.querySelector('.recommendation-tag__time');\r\n    const startDate = recommendationTagTime.getAttribute('data-start-date');\r\n    const endDate = recommendationTagTime.getAttribute('data-end-date');\r\n\r\n    this.recomParentTitle.innerHTML = 'Ваша переговорка';\r\n    recommendationTag.classList.add('recommendation-tag--selected');\r\n\r\n    const recomTagArr = this.recomContainer.querySelectorAll('.recommendation-tag');\r\n\r\n    for (let item of Array.from(recomTagArr)) {\r\n      this.recomContainer.removeChild(item);\r\n    }\r\n\r\n    const deleteBtn = recommendationTag.querySelector('.recommendation-tag__delete');\r\n    deleteBtn.addEventListener('click', this.recommendationTagDeleteBtnHandler);\r\n    this.recomContainer.appendChild(recommendationTag);\r\n\r\n    this.eventTimeStartDatepickr.setDate(new Date(+startDate));\r\n    this.eventTimeEndDatepickr.setDate(new Date(+endDate));\r\n  }\r\n\r\n  recommendationTagDeleteBtnHandler(event) {\r\n    const recommendationTag = event.target.parents('.recommendation-tag')[0];\r\n    this.recomParent.classList.add('hidden');\r\n    recommendationTag.parentNode.removeChild(recommendationTag);\r\n    this.handleRecommendation();\r\n  }\r\n\r\n  addUserHandler(event) { // Срабатывает при добавление участника события\r\n    let usersId = [];\r\n    for (let eventUser of this.eventUsers) {\r\n      usersId.push(eventUser.id);\r\n    }\r\n    if (usersId.indexOf(event.detail.userId) === -1) {\r\n      this.eventUsers.push({id: event.detail.userId});\r\n    }\r\n    this.handleRecommendation();\r\n  }\r\n\r\n  removeUserHandler(event) { // Срабатывает при удалении участника события\r\n    let newArr = [];\r\n    for (let eventUser of this.eventUsers) {\r\n      if (eventUser.id !== event.detail.userId) {\r\n        newArr.push(eventUser);\r\n      }\r\n    }\r\n    this.eventUsers = newArr;\r\n    this.handleRecommendation();\r\n  }\r\n\r\n  clearRecommendations() {\r\n    this.recomContainer.innerHTML = 'Нет рекомендаций';\r\n  }\r\n\r\n  renderRecommendations(recommendations) {\r\n    this.recomParentTitle.innerHTML = 'Рекомендованные переговорки';\r\n    this.recomParent.classList.remove('hidden');\r\n\r\n    if (recommendations.length === 0) {\r\n      this.clearRecommendations();\r\n    } else {\r\n      this.recomContainer.innerHTML = '';\r\n    }\r\n\r\n    for (let recom of recommendations) {\r\n      let recomMarkup = getRecommendationTagMarkup(recom, false);\r\n      let recomNode = getNodeFromMarkup(recomMarkup);\r\n\r\n      recomNode.addEventListener('click', (event) => {\r\n        let recomContent = recomNode.querySelector('.recommendation-tag__content');\r\n        let recomContentChildsIsTarget = checkEventTarget(event, recomContent);\r\n        if (event.target === recomContent || recomContentChildsIsTarget) {\r\n          this.recommendationTagClickHandler(recomNode);\r\n        }\r\n      });\r\n      this.recomContainer.appendChild(recomNode);\r\n    }\r\n  }\r\n\r\n  deleteEventBtnHandle() {\r\n    const self = this;\r\n    showPopup('deletePopup', null, () => {\r\n      ApiService.removeEvent(this.eventInputData.eventId)\r\n          .then(() => {\r\n            return ApiService.getAll();\r\n          })\r\n          .then((data) => {\r\n            const newData = Object.assign(data, {\r\n              date: self.eventStartDate\r\n            });\r\n\r\n            self.clearHandlers();\r\n            Application.data = newData;\r\n            router.navigate();\r\n          });\r\n    });\r\n  }\r\n\r\n  editEventBtnHandle() {\r\n    try {\r\n      this.tryEditEventBtnHandle();\r\n    } catch (msg) {\r\n      this.showErrorMessage(msg);\r\n    }\r\n  }\r\n\r\n  tryEditEventBtnHandle() {\r\n    const eventId = this.eventInputData.eventId;\r\n    const eventTitle = this.element.querySelector('#eventTitle').value;\r\n    const userTagArr = this.element.querySelectorAll('.user-tag');\r\n\r\n    const recommendationTagSelected = this.element.querySelector('.recommendation-tag--selected');\r\n    if (recommendationTagSelected === null) {\r\n      throw new UserException('Вы не выбрали переговорку.');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    const recomSwap = recommendationTagSelected.getAttribute('data-swap');\r\n    const roomId = recommendationTagSelected.getAttribute('data-room-id');\r\n    const dateStart = new Date(this.eventTimeStartDatepickr.selectedDates);\r\n    const dateEnd = new Date(this.eventTimeEndDatepickr.selectedDates);\r\n    const now = new Date();\r\n    const currentMinute = getDateValue(now).minute;\r\n\r\n    let users = [];\r\n    for (let userTag of Array.from(userTagArr)) {\r\n      if (userTag !== null) {\r\n        let userId = userTag.getAttribute('data-user-id');\r\n        users.push(userId);\r\n      }\r\n    }\r\n\r\n    if (eventTitle.length === 0) {\r\n      throw new UserException('Введите название мероприятия');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    if (users.length === 0) {\r\n      throw new UserException('Выберите участников события');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    if (roomId === null) {\r\n      throw new UserException('Выберите комнату из рекомменадций');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    if (currentMinute > getDateValue(dateStart).minute) {\r\n      throw new UserException('Время вышло. Пожалуйста, обновите время');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    const eventInput = `{\r\n      title: \"${eventTitle}\",\r\n      dateStart: \"${dateStart.toISOString()}\",\r\n      dateEnd: \"${dateEnd.toISOString()}\"\r\n    }`;\r\n    const usersInput = `[${users}]`;\r\n    const self = this;\r\n\r\n    const editEvent = () => {\r\n      return ApiService.editEvent(eventId, eventInput, usersInput, roomId)\r\n          .then(() => {\r\n            return ApiService.getAll();\r\n          })\r\n          .then((data) => {\r\n            const newData = Object.assign(data, {\r\n              date: self.eventStartDate\r\n            });\r\n\r\n            self.clearHandlers();\r\n            Application.data = newData;\r\n            router.navigate();\r\n          });\r\n    };\r\n\r\n    if (recomSwap !== null) {\r\n      let swapArr = recomSwap.split('|');\r\n      let swapObj;\r\n\r\n      for (let swap of swapArr) {\r\n        if (swap.length > 0) {\r\n          swapObj = encodeObjFromHash(swap);\r\n\r\n          ApiService.changeEventRoom(swapObj.event, swapObj.room)\r\n              .then(() => {\r\n                return editEvent();\r\n              });\r\n        }\r\n      }\r\n    } else {\r\n      editEvent();\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  bindHandlers() {\r\n    this.fieldResetBtn = this.element.querySelector('.field__reset');\r\n    this.cancelBtnArr = this.element.querySelectorAll('[data-cancel]');\r\n    this.autocomplete = this.element.querySelector('[data-autocomplete]');\r\n    this.fieldResetBtn.addEventListener('click', this.fieldResetHandler);\r\n\r\n    for (let cancelBtn of Array.from(this.cancelBtnArr)) {\r\n      cancelBtn.addEventListener('click', this.cancelBtnHandler);\r\n    }\r\n    this.autocomplete.addEventListener('keyup', this.getAutocompleteHandler);\r\n\r\n    this.recomParent = this.element.querySelector('#recomParent');\r\n    this.recomParentTitle = this.recomParent.querySelector('.recommendations__title');\r\n    this.recomContainer = this.recomParent.querySelector('.recomendations__cnt');\r\n    this.recommendationTagDeleteBtn = this.recomParent.querySelector('.recommendation-tag .recommendation-tag__delete');\r\n    this.recommendationTagDeleteBtn.addEventListener('click', this.recommendationTagDeleteBtnHandler);\r\n\r\n    document.addEventListener('addUserToEvent', this.addUserHandler);\r\n    document.addEventListener('removeUserFromEvent', this.removeUserHandler);\r\n\r\n    this.deleteEventBtn = this.element.querySelector('#deleteEventBtn');\r\n    this.deleteEventBtn.addEventListener('click', this.deleteEventBtnHandle);\r\n\r\n    this.editEventBtn = this.element.querySelector('#editEventBtn');\r\n    this.editEventBtn.addEventListener('click', this.editEventBtnHandle);\r\n\r\n    this.eventFormValidation = this.element.querySelector('.event-form__validation');\r\n    this.eventFormValidationContent = this.eventFormValidation.querySelector('.event-form__validation-content');\r\n  }\r\n\r\n  clearHandlers() {\r\n    this.fieldResetBtn.removeEventListener('click', this.fieldResetHandler);\r\n\r\n    for (let cancelBtn of Array.from(this.cancelBtnArr)) {\r\n      cancelBtn.removeEventListener('click', this.cancelBtnHandler);\r\n    }\r\n    this.eventDateDatepickr.destroy();\r\n    this.eventTimeStartDatepickr.destroy();\r\n    this.eventTimeEndDatepickr.destroy();\r\n    this.autocomplete.removeEventListener('keyup', this.getAutocompleteHandler);\r\n\r\n    document.removeEventListener('addUserToEvent', this.addUserHandler);\r\n    document.removeEventListener('removeUserFromEvent', this.removeUserHandler);\r\n    this.recommendationTagDeleteBtn.removeEventListener('click', this.recommendationTagDeleteBtnHandler);\r\n\r\n    this.deleteEventBtn.removeEventListener('click', this.deleteEventBtnHandle);\r\n    this.editEventBtn.removeEventListener('click', this.editEventBtnHandle);\r\n  }\r\n\r\n  handleRecommendation() {\r\n    try {\r\n      this.tryHandleRecommendation();\r\n    } catch (msg) {\r\n      this.showErrorMessage(msg);\r\n    }\r\n  }\r\n\r\n  tryHandleRecommendation() {\r\n    this.members = [];\r\n    let person = {};\r\n\r\n    if ((this.eventDate.end - this.eventDate.start) / 60000 < 15) {\r\n      this.clearRecommendations();\r\n      throw new UserException('Минимальная продолжительность события - 15 минут');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    if (this.eventDateDay < this.initialAppDay) {\r\n      this.clearRecommendations();\r\n      throw new UserException('Нельзя редактировать события ушедших дней');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    for (let eventUser of this.eventUsers) {\r\n      for (let user of this.users) {\r\n        if (eventUser.id === user.id) {\r\n          person = {\r\n            login: user.login,\r\n            floor: user.homeFloor,\r\n            avatarUrl: user.avatarUrl\r\n          };\r\n          this.members.push(person);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.members.length === 0) {\r\n      this.clearRecommendations();\r\n      throw new UserException('Выберите участников события');\r\n    } else {\r\n      this.clearErrorContainer();\r\n    }\r\n\r\n    // Удалить редактируемое событие из списка событий\r\n    let newEventsArr = [];\r\n    for (let event of this.appData.events[this.eventDateDay]) {\r\n      if (event.id !== this.currentId) {\r\n        newEventsArr.push(event);\r\n      }\r\n    }\r\n    const db = {\r\n      events: newEventsArr,\r\n      rooms: this.appData.rooms,\r\n      persons: this.appData.users\r\n    };\r\n\r\n    this.recommendationArr = getRecommendation(this.eventDate, this.members, db);\r\n\r\n    return this.renderRecommendations(this.recommendationArr);\r\n  }\r\n\r\n  showErrorMessage(msg) {\r\n    this.eventFormValidationContent.innerHTML = msg;\r\n    this.eventFormValidation.classList.add('show');\r\n  }\r\n\r\n  clearErrorContainer() {\r\n    if (this.eventFormValidation.classList.contains('show')) {\r\n      this.eventFormValidation.classList.remove('show');\r\n    }\r\n  }\r\n\r\n  viewRendered() {\r\n    this.eventDateDatepickr = new Flatpickr('#date', {\r\n      locale: Russian,\r\n      altInput: true,\r\n      altFormat: 'j F, Y',\r\n      defaultDate: this.eventStartDate,\r\n      wrap: true,\r\n      disableMobile: 'true',\r\n      onChange: (selectedDates) => {\r\n        const newDay = getDateValue(new Date(selectedDates)).day;\r\n        const eventDayMinute = getDateValue(this.eventStartDate).minute - getDateValue(this.eventStartDate).day;\r\n        const eventEndDayMinute = getDateValue(this.eventEndDate).minute - getDateValue(this.eventStartDate).day;\r\n        this.eventStartDate = new Date(newDay + eventDayMinute);\r\n        this.eventEndDate = new Date(newDay + eventEndDayMinute);\r\n        this.eventTimeStartDatepickr.setDate(this.eventStartDate);\r\n        this.eventTimeEndDatepickr.setDate(this.eventEndDate);\r\n      }\r\n    });\r\n    this.eventTimeStartDatepickr = new Flatpickr('#eventStartTimeInput', {\r\n      enableTime: true,\r\n      noCalendar: true,\r\n      dateFormat: 'H:i',\r\n      time_24hr: true,\r\n      defaultDate: this.eventStartDate,\r\n      onChange: (selectedDates) => {\r\n        const start = new Date(selectedDates);\r\n        this.eventDate.start = start.getTime();\r\n        this.handleRecommendation();\r\n      }\r\n    });\r\n    this.eventTimeEndDatepickr = new Flatpickr('#eventEndTimeInput', {\r\n      enableTime: true,\r\n      noCalendar: true,\r\n      dateFormat: 'H:i',\r\n      time_24hr: true,\r\n      defaultDate: this.eventEndDate,\r\n      onChange: (selectedDates) => {\r\n        const end = new Date(selectedDates);\r\n        this.eventDate.end = end.getTime();\r\n        this.handleRecommendation();\r\n      }\r\n\r\n    });\r\n\r\n    this.autocompleteTagsContainer = this.element.querySelector('.field-autocomplete__tags');\r\n\r\n    let userTag;\r\n    for (let eventUser of this.eventUsers) {\r\n      for (let user of this.users) {\r\n        if (eventUser.id === user.id) {\r\n          userTag = getUserTag(user.id, user.login, user.avatarUrl);\r\n          this.autocompleteTagsContainer.appendChild(userTag);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default EventNewView;\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/views/event-view/event-edit-view.js","export default function () {\r\n  const file = 'img/icons/sprite.svg'; // путь к файлу спрайта\r\n  const revision = 1;            // версия спрайта\r\n  if (!document.createElementNS || !document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect) {\r\n    return true;\r\n  }\r\n  const isLocalStorage = 'localStorage' in window && window['localStorage'] !== null;\r\n  let request;\r\n  let data;\r\n  const insertIT = () => {\r\n    document.body.insertAdjacentHTML('afterbegin', data);\r\n  };\r\n  const insert = () => {\r\n    if (document.body) {\r\n      insertIT();\r\n    } else {\r\n      document.addEventListener('DOMContentLoaded', insertIT);\r\n    }\r\n  };\r\n\r\n  if (isLocalStorage && localStorage.getItem('inlineSVGrev') === revision) {\r\n    data = localStorage.getItem('inlineSVGdata');\r\n    if (data) {\r\n      insert();\r\n      return true;\r\n    }\r\n  }\r\n  try {\r\n    request = new XMLHttpRequest();\r\n    request.open('GET', file, true);\r\n    request.onload = () => {\r\n      if (request.status >= 200 && request.status < 400) {\r\n        data = request.responseText;\r\n        insert();\r\n        if (isLocalStorage) {\r\n          localStorage.setItem('inlineSVGdata', data);\r\n          localStorage.setItem('inlineSVGrev', revision);\r\n        }\r\n      }\r\n    };\r\n    request.send();\r\n  } catch (e) {\r\n    throw new Error(e);\r\n  }\r\n  return true;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/szhakupbekov/Desktop/разработки/shri-app/client/js/tools/create-svg-sprite.js"],"sourceRoot":""}